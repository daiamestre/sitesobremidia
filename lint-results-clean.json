[{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\AdminUsers-ZNMMFKE3.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Analytics-CLB7CGyK.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Auth-DITZSLLt.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\DashboardHome-653B-XeF.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\ExternalLinks-CgGy82W3.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\History-BPBcPDso.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Index-Beosdln6.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Install-C9piCXTb.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Medias-BsmMGw2n.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\NotFound-BFPrc6v4.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Player-CyoeW6HG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\PlayerEntry-Cme21P66.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Playlists-CWJLrAwy.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\RssWidget-Ct6bySCI.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Schedule-BnFTBGyM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Screens-BxgqFFrA.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Settings-Q1L4tSC2.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\Widgets-CZdBKW5_.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\alert-dialog-B-Z_r5QX.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\arrow-left-CbDRODYM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\badge-4nIa1BmD.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\bell-C0duZ_93.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\card-NBZfqmhb.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\check-BE4VvJ_a.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\circle-check-BRlZHYIV.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\clock-CabQVp97.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\copy-C4jdFGIG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\dropdown-menu-BG7ZQz2K.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\ellipsis-vertical-CdK-Aul0.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\globe-BxJ4akqM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\grid-3x3-DXledj-c.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\index-6z-Ddk4U.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\index-Br97BVfG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\index-BvO-lgM7.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\index-D1WrH_Hr.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\index-DSTcp1J4.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\input-wap8LVPd.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\label-Cwvu6FZu.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\newspaper-BDi-NWtd.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\pencil-rCyOLPzW.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\play-COm0K4r5.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\popover-AuXFAK5b.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\pt-BR-0dgV4ihQ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\search-M6Vr1BwE.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\select-DuG9TbNn.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\skeleton-D5VpHWYz.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\switch-PD2EIW1i.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\tabs-KLBq_iYU.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\textarea-DBquZZyJ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\upload-uUK5vU1D.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\useQuery-PZ6stD_y.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\user-DI7pHnQM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\video-BHo0zlHq.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\workbox-window.prod.es5-vqzQaGvo.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\assets\\zap-DA7QD3QZ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\cordova.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\cordova_plugins.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\build\\intermediates\\assets\\debug\\mergeDebugAssets\\public\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\AdminUsers-ZNMMFKE3.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Analytics-CLB7CGyK.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Auth-DITZSLLt.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\DashboardHome-653B-XeF.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\ExternalLinks-CgGy82W3.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\History-BPBcPDso.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Index-Beosdln6.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Install-C9piCXTb.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Medias-BsmMGw2n.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\NotFound-BFPrc6v4.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Player-CyoeW6HG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\PlayerEntry-Cme21P66.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Playlists-CWJLrAwy.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\RssWidget-Ct6bySCI.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Schedule-BnFTBGyM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Screens-BxgqFFrA.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Settings-Q1L4tSC2.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\Widgets-CZdBKW5_.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\alert-dialog-B-Z_r5QX.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\arrow-left-CbDRODYM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\badge-4nIa1BmD.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\bell-C0duZ_93.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\card-NBZfqmhb.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\check-BE4VvJ_a.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\circle-check-BRlZHYIV.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\clock-CabQVp97.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\copy-C4jdFGIG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\dropdown-menu-BG7ZQz2K.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\ellipsis-vertical-CdK-Aul0.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\globe-BxJ4akqM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\grid-3x3-DXledj-c.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\index-6z-Ddk4U.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\index-Br97BVfG.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\index-BvO-lgM7.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\index-D1WrH_Hr.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\index-DSTcp1J4.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\input-wap8LVPd.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\label-Cwvu6FZu.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\newspaper-BDi-NWtd.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\pencil-rCyOLPzW.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\play-COm0K4r5.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\popover-AuXFAK5b.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\pt-BR-0dgV4ihQ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\search-M6Vr1BwE.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\select-DuG9TbNn.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\skeleton-D5VpHWYz.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\switch-PD2EIW1i.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\tabs-KLBq_iYU.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\textarea-DBquZZyJ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\upload-uUK5vU1D.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\useQuery-PZ6stD_y.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\user-DI7pHnQM.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\video-BHo0zlHq.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\workbox-window.prod.es5-vqzQaGvo.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\assets\\zap-DA7QD3QZ.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\cordova.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\cordova_plugins.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\android\\app\\src\\main\\assets\\public\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\dev-dist\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\dev-dist\\workbox-ca84f546.js","messages":[{"ruleId":"@typescript-eslint/ban-types","message":"Definition for rule '@typescript-eslint/ban-types' was not found.","line":52,"column":7,"endLine":52,"endColumn":63,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/ban-types","message":"Definition for rule '@typescript-eslint/ban-types' was not found.","line":419,"column":5,"endLine":419,"endColumn":61,"severity":2,"nodeType":null},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported).","line":435,"column":5,"severity":1,"nodeType":null,"fix":{"range":[16918,16940],"text":" "}},{"ruleId":"@typescript-eslint/no-unsafe-member-access","message":"Definition for rule '@typescript-eslint/no-unsafe-member-access' was not found.","line":752,"column":11,"endLine":752,"endColumn":81,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/no-unsafe-assignment","message":"Definition for rule '@typescript-eslint/no-unsafe-assignment' was not found.","line":754,"column":13,"endLine":754,"endColumn":80,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/no-unsafe-assignment","message":"Definition for rule '@typescript-eslint/no-unsafe-assignment' was not found.","line":948,"column":11,"endLine":948,"endColumn":78,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/no-unsafe-assignment","message":"Definition for rule '@typescript-eslint/no-unsafe-assignment' was not found.","line":964,"column":13,"endLine":964,"endColumn":80,"severity":2,"nodeType":null},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported).","line":970,"column":13,"severity":1,"nodeType":null,"fix":{"range":[36116,36138],"text":" "}},{"ruleId":"@typescript-eslint/ban-types","message":"Definition for rule '@typescript-eslint/ban-types' was not found.","line":1257,"column":5,"endLine":1257,"endColumn":61,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/ban-types","message":"Definition for rule '@typescript-eslint/ban-types' was not found.","line":1275,"column":5,"endLine":1275,"endColumn":61,"severity":2,"nodeType":null},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported).","line":2768,"column":35,"severity":1,"nodeType":null,"fix":{"range":[106393,106415],"text":" "}},{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported).","line":3431,"column":11,"severity":1,"nodeType":null,"fix":{"range":[130228,130248],"text":" "}},{"ruleId":"@typescript-eslint/no-unsafe-return","message":"Definition for rule '@typescript-eslint/no-unsafe-return' was not found.","line":3951,"column":9,"endLine":3951,"endColumn":72,"severity":2,"nodeType":null},{"ruleId":"@typescript-eslint/no-unsafe-return","message":"Definition for rule '@typescript-eslint/no-unsafe-return' was not found.","line":3998,"column":9,"endLine":3998,"endColumn":72,"severity":2,"nodeType":null}],"suppressedMessages":[],"errorCount":10,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":4,"source":"define(['exports'], (function (exports) { 'use strict';\n\n    // @ts-ignore\n    try {\n      self['workbox:core:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2019 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const logger = (() => {\n      // Don't overwrite this value if it's already set.\n      // See https://github.com/GoogleChrome/workbox/pull/2284#issuecomment-560470923\n      if (!('__WB_DISABLE_DEV_LOGS' in globalThis)) {\n        self.__WB_DISABLE_DEV_LOGS = false;\n      }\n      let inGroup = false;\n      const methodToColorMap = {\n        debug: `#7f8c8d`,\n        log: `#2ecc71`,\n        warn: `#f39c12`,\n        error: `#c0392b`,\n        groupCollapsed: `#3498db`,\n        groupEnd: null // No colored prefix on groupEnd\n      };\n      const print = function (method, args) {\n        if (self.__WB_DISABLE_DEV_LOGS) {\n          return;\n        }\n        if (method === 'groupCollapsed') {\n          // Safari doesn't print all console.groupCollapsed() arguments:\n          // https://bugs.webkit.org/show_bug.cgi?id=182754\n          if (/^((?!chrome|android).)*safari/i.test(navigator.userAgent)) {\n            console[method](...args);\n            return;\n          }\n        }\n        const styles = [`background: ${methodToColorMap[method]}`, `border-radius: 0.5em`, `color: white`, `font-weight: bold`, `padding: 2px 0.5em`];\n        // When in a group, the workbox prefix is not displayed.\n        const logPrefix = inGroup ? [] : ['%cworkbox', styles.join(';')];\n        console[method](...logPrefix, ...args);\n        if (method === 'groupCollapsed') {\n          inGroup = true;\n        }\n        if (method === 'groupEnd') {\n          inGroup = false;\n        }\n      };\n      // eslint-disable-next-line @typescript-eslint/ban-types\n      const api = {};\n      const loggerMethods = Object.keys(methodToColorMap);\n      for (const key of loggerMethods) {\n        const method = key;\n        api[method] = (...args) => {\n          print(method, args);\n        };\n      }\n      return api;\n    })();\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const messages$1 = {\n      'invalid-value': ({\n        paramName,\n        validValueDescription,\n        value\n      }) => {\n        if (!paramName || !validValueDescription) {\n          throw new Error(`Unexpected input to 'invalid-value' error.`);\n        }\n        return `The '${paramName}' parameter was given a value with an ` + `unexpected value. ${validValueDescription} Received a value of ` + `${JSON.stringify(value)}.`;\n      },\n      'not-an-array': ({\n        moduleName,\n        className,\n        funcName,\n        paramName\n      }) => {\n        if (!moduleName || !className || !funcName || !paramName) {\n          throw new Error(`Unexpected input to 'not-an-array' error.`);\n        }\n        return `The parameter '${paramName}' passed into ` + `'${moduleName}.${className}.${funcName}()' must be an array.`;\n      },\n      'incorrect-type': ({\n        expectedType,\n        paramName,\n        moduleName,\n        className,\n        funcName\n      }) => {\n        if (!expectedType || !paramName || !moduleName || !funcName) {\n          throw new Error(`Unexpected input to 'incorrect-type' error.`);\n        }\n        const classNameStr = className ? `${className}.` : '';\n        return `The parameter '${paramName}' passed into ` + `'${moduleName}.${classNameStr}` + `${funcName}()' must be of type ${expectedType}.`;\n      },\n      'incorrect-class': ({\n        expectedClassName,\n        paramName,\n        moduleName,\n        className,\n        funcName,\n        isReturnValueProblem\n      }) => {\n        if (!expectedClassName || !moduleName || !funcName) {\n          throw new Error(`Unexpected input to 'incorrect-class' error.`);\n        }\n        const classNameStr = className ? `${className}.` : '';\n        if (isReturnValueProblem) {\n          return `The return value from ` + `'${moduleName}.${classNameStr}${funcName}()' ` + `must be an instance of class ${expectedClassName}.`;\n        }\n        return `The parameter '${paramName}' passed into ` + `'${moduleName}.${classNameStr}${funcName}()' ` + `must be an instance of class ${expectedClassName}.`;\n      },\n      'missing-a-method': ({\n        expectedMethod,\n        paramName,\n        moduleName,\n        className,\n        funcName\n      }) => {\n        if (!expectedMethod || !paramName || !moduleName || !className || !funcName) {\n          throw new Error(`Unexpected input to 'missing-a-method' error.`);\n        }\n        return `${moduleName}.${className}.${funcName}() expected the ` + `'${paramName}' parameter to expose a '${expectedMethod}' method.`;\n      },\n      'add-to-cache-list-unexpected-type': ({\n        entry\n      }) => {\n        return `An unexpected entry was passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' The entry ` + `'${JSON.stringify(entry)}' isn't supported. You must supply an array of ` + `strings with one or more characters, objects with a url property or ` + `Request objects.`;\n      },\n      'add-to-cache-list-conflicting-entries': ({\n        firstEntry,\n        secondEntry\n      }) => {\n        if (!firstEntry || !secondEntry) {\n          throw new Error(`Unexpected input to ` + `'add-to-cache-list-duplicate-entries' error.`);\n        }\n        return `Two of the entries passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` + `${firstEntry} but different revision details. Workbox is ` + `unable to cache and version the asset correctly. Please remove one ` + `of the entries.`;\n      },\n      'plugin-error-request-will-fetch': ({\n        thrownErrorMessage\n      }) => {\n        if (!thrownErrorMessage) {\n          throw new Error(`Unexpected input to ` + `'plugin-error-request-will-fetch', error.`);\n        }\n        return `An error was thrown by a plugins 'requestWillFetch()' method. ` + `The thrown error message was: '${thrownErrorMessage}'.`;\n      },\n      'invalid-cache-name': ({\n        cacheNameId,\n        value\n      }) => {\n        if (!cacheNameId) {\n          throw new Error(`Expected a 'cacheNameId' for error 'invalid-cache-name'`);\n        }\n        return `You must provide a name containing at least one character for ` + `setCacheDetails({${cacheNameId}: '...'}). Received a value of ` + `'${JSON.stringify(value)}'`;\n      },\n      'unregister-route-but-not-found-with-method': ({\n        method\n      }) => {\n        if (!method) {\n          throw new Error(`Unexpected input to ` + `'unregister-route-but-not-found-with-method' error.`);\n        }\n        return `The route you're trying to unregister was not  previously ` + `registered for the method type '${method}'.`;\n      },\n      'unregister-route-route-not-registered': () => {\n        return `The route you're trying to unregister was not previously ` + `registered.`;\n      },\n      'queue-replay-failed': ({\n        name\n      }) => {\n        return `Replaying the background sync queue '${name}' failed.`;\n      },\n      'duplicate-queue-name': ({\n        name\n      }) => {\n        return `The Queue name '${name}' is already being used. ` + `All instances of backgroundSync.Queue must be given unique names.`;\n      },\n      'expired-test-without-max-age': ({\n        methodName,\n        paramName\n      }) => {\n        return `The '${methodName}()' method can only be used when the ` + `'${paramName}' is used in the constructor.`;\n      },\n      'unsupported-route-type': ({\n        moduleName,\n        className,\n        funcName,\n        paramName\n      }) => {\n        return `The supplied '${paramName}' parameter was an unsupported type. ` + `Please check the docs for ${moduleName}.${className}.${funcName} for ` + `valid input types.`;\n      },\n      'not-array-of-class': ({\n        value,\n        expectedClass,\n        moduleName,\n        className,\n        funcName,\n        paramName\n      }) => {\n        return `The supplied '${paramName}' parameter must be an array of ` + `'${expectedClass}' objects. Received '${JSON.stringify(value)},'. ` + `Please check the call to ${moduleName}.${className}.${funcName}() ` + `to fix the issue.`;\n      },\n      'max-entries-or-age-required': ({\n        moduleName,\n        className,\n        funcName\n      }) => {\n        return `You must define either config.maxEntries or config.maxAgeSeconds` + `in ${moduleName}.${className}.${funcName}`;\n      },\n      'statuses-or-headers-required': ({\n        moduleName,\n        className,\n        funcName\n      }) => {\n        return `You must define either config.statuses or config.headers` + `in ${moduleName}.${className}.${funcName}`;\n      },\n      'invalid-string': ({\n        moduleName,\n        funcName,\n        paramName\n      }) => {\n        if (!paramName || !moduleName || !funcName) {\n          throw new Error(`Unexpected input to 'invalid-string' error.`);\n        }\n        return `When using strings, the '${paramName}' parameter must start with ` + `'http' (for cross-origin matches) or '/' (for same-origin matches). ` + `Please see the docs for ${moduleName}.${funcName}() for ` + `more info.`;\n      },\n      'channel-name-required': () => {\n        return `You must provide a channelName to construct a ` + `BroadcastCacheUpdate instance.`;\n      },\n      'invalid-responses-are-same-args': () => {\n        return `The arguments passed into responsesAreSame() appear to be ` + `invalid. Please ensure valid Responses are used.`;\n      },\n      'expire-custom-caches-only': () => {\n        return `You must provide a 'cacheName' property when using the ` + `expiration plugin with a runtime caching strategy.`;\n      },\n      'unit-must-be-bytes': ({\n        normalizedRangeHeader\n      }) => {\n        if (!normalizedRangeHeader) {\n          throw new Error(`Unexpected input to 'unit-must-be-bytes' error.`);\n        }\n        return `The 'unit' portion of the Range header must be set to 'bytes'. ` + `The Range header provided was \"${normalizedRangeHeader}\"`;\n      },\n      'single-range-only': ({\n        normalizedRangeHeader\n      }) => {\n        if (!normalizedRangeHeader) {\n          throw new Error(`Unexpected input to 'single-range-only' error.`);\n        }\n        return `Multiple ranges are not supported. Please use a  single start ` + `value, and optional end value. The Range header provided was ` + `\"${normalizedRangeHeader}\"`;\n      },\n      'invalid-range-values': ({\n        normalizedRangeHeader\n      }) => {\n        if (!normalizedRangeHeader) {\n          throw new Error(`Unexpected input to 'invalid-range-values' error.`);\n        }\n        return `The Range header is missing both start and end values. At least ` + `one of those values is needed. The Range header provided was ` + `\"${normalizedRangeHeader}\"`;\n      },\n      'no-range-header': () => {\n        return `No Range header was found in the Request provided.`;\n      },\n      'range-not-satisfiable': ({\n        size,\n        start,\n        end\n      }) => {\n        return `The start (${start}) and end (${end}) values in the Range are ` + `not satisfiable by the cached response, which is ${size} bytes.`;\n      },\n      'attempt-to-cache-non-get-request': ({\n        url,\n        method\n      }) => {\n        return `Unable to cache '${url}' because it is a '${method}' request and ` + `only 'GET' requests can be cached.`;\n      },\n      'cache-put-with-no-response': ({\n        url\n      }) => {\n        return `There was an attempt to cache '${url}' but the response was not ` + `defined.`;\n      },\n      'no-response': ({\n        url,\n        error\n      }) => {\n        let message = `The strategy could not generate a response for '${url}'.`;\n        if (error) {\n          message += ` The underlying error is ${error}.`;\n        }\n        return message;\n      },\n      'bad-precaching-response': ({\n        url,\n        status\n      }) => {\n        return `The precaching request for '${url}' failed` + (status ? ` with an HTTP status of ${status}.` : `.`);\n      },\n      'non-precached-url': ({\n        url\n      }) => {\n        return `createHandlerBoundToURL('${url}') was called, but that URL is ` + `not precached. Please pass in a URL that is precached instead.`;\n      },\n      'add-to-cache-list-conflicting-integrities': ({\n        url\n      }) => {\n        return `Two of the entries passed to ` + `'workbox-precaching.PrecacheController.addToCacheList()' had the URL ` + `${url} with different integrity values. Please remove one of them.`;\n      },\n      'missing-precache-entry': ({\n        cacheName,\n        url\n      }) => {\n        return `Unable to find a precached response in ${cacheName} for ${url}.`;\n      },\n      'cross-origin-copy-response': ({\n        origin\n      }) => {\n        return `workbox-core.copyResponse() can only be used with same-origin ` + `responses. It was passed a response with origin ${origin}.`;\n      },\n      'opaque-streams-source': ({\n        type\n      }) => {\n        const message = `One of the workbox-streams sources resulted in an ` + `'${type}' response.`;\n        if (type === 'opaqueredirect') {\n          return `${message} Please do not use a navigation request that results ` + `in a redirect as a source.`;\n        }\n        return `${message} Please ensure your sources are CORS-enabled.`;\n      }\n    };\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const generatorFunction = (code, details = {}) => {\n      const message = messages$1[code];\n      if (!message) {\n        throw new Error(`Unable to find message for code '${code}'.`);\n      }\n      return message(details);\n    };\n    const messageGenerator = generatorFunction;\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Workbox errors should be thrown with this class.\n     * This allows use to ensure the type easily in tests,\n     * helps developers identify errors from workbox\n     * easily and allows use to optimise error\n     * messages correctly.\n     *\n     * @private\n     */\n    class WorkboxError extends Error {\n      /**\n       *\n       * @param {string} errorCode The error code that\n       * identifies this particular error.\n       * @param {Object=} details Any relevant arguments\n       * that will help developers identify issues should\n       * be added as a key on the context object.\n       */\n      constructor(errorCode, details) {\n        const message = messageGenerator(errorCode, details);\n        super(message);\n        this.name = errorCode;\n        this.details = details;\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /*\n     * This method throws if the supplied value is not an array.\n     * The destructed values are required to produce a meaningful error for users.\n     * The destructed and restructured object is so it's clear what is\n     * needed.\n     */\n    const isArray = (value, details) => {\n      if (!Array.isArray(value)) {\n        throw new WorkboxError('not-an-array', details);\n      }\n    };\n    const hasMethod = (object, expectedMethod, details) => {\n      const type = typeof object[expectedMethod];\n      if (type !== 'function') {\n        details['expectedMethod'] = expectedMethod;\n        throw new WorkboxError('missing-a-method', details);\n      }\n    };\n    const isType = (object, expectedType, details) => {\n      if (typeof object !== expectedType) {\n        details['expectedType'] = expectedType;\n        throw new WorkboxError('incorrect-type', details);\n      }\n    };\n    const isInstance = (object,\n    // Need the general type to do the check later.\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    expectedClass, details) => {\n      if (!(object instanceof expectedClass)) {\n        details['expectedClassName'] = expectedClass.name;\n        throw new WorkboxError('incorrect-class', details);\n      }\n    };\n    const isOneOf = (value, validValues, details) => {\n      if (!validValues.includes(value)) {\n        details['validValueDescription'] = `Valid values are ${JSON.stringify(validValues)}.`;\n        throw new WorkboxError('invalid-value', details);\n      }\n    };\n    const isArrayOfClass = (value,\n    // Need general type to do check later.\n    expectedClass,\n    // eslint-disable-line\n    details) => {\n      const error = new WorkboxError('not-array-of-class', details);\n      if (!Array.isArray(value)) {\n        throw error;\n      }\n      for (const item of value) {\n        if (!(item instanceof expectedClass)) {\n          throw error;\n        }\n      }\n    };\n    const finalAssertExports = {\n      hasMethod,\n      isArray,\n      isInstance,\n      isOneOf,\n      isType,\n      isArrayOfClass\n    };\n\n    // @ts-ignore\n    try {\n      self['workbox:routing:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * The default HTTP method, 'GET', used when there's no specific method\n     * configured for a route.\n     *\n     * @type {string}\n     *\n     * @private\n     */\n    const defaultMethod = 'GET';\n    /**\n     * The list of valid HTTP methods associated with requests that could be routed.\n     *\n     * @type {Array<string>}\n     *\n     * @private\n     */\n    const validMethods = ['DELETE', 'GET', 'HEAD', 'PATCH', 'POST', 'PUT'];\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * @param {function()|Object} handler Either a function, or an object with a\n     * 'handle' method.\n     * @return {Object} An object with a handle method.\n     *\n     * @private\n     */\n    const normalizeHandler = handler => {\n      if (handler && typeof handler === 'object') {\n        {\n          finalAssertExports.hasMethod(handler, 'handle', {\n            moduleName: 'workbox-routing',\n            className: 'Route',\n            funcName: 'constructor',\n            paramName: 'handler'\n          });\n        }\n        return handler;\n      } else {\n        {\n          finalAssertExports.isType(handler, 'function', {\n            moduleName: 'workbox-routing',\n            className: 'Route',\n            funcName: 'constructor',\n            paramName: 'handler'\n          });\n        }\n        return {\n          handle: handler\n        };\n      }\n    };\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A `Route` consists of a pair of callback functions, \"match\" and \"handler\".\n     * The \"match\" callback determine if a route should be used to \"handle\" a\n     * request by returning a non-falsy value if it can. The \"handler\" callback\n     * is called when there is a match and should return a Promise that resolves\n     * to a `Response`.\n     *\n     * @memberof workbox-routing\n     */\n    class Route {\n      /**\n       * Constructor for Route class.\n       *\n       * @param {workbox-routing~matchCallback} match\n       * A callback function that determines whether the route matches a given\n       * `fetch` event by returning a non-falsy value.\n       * @param {workbox-routing~handlerCallback} handler A callback\n       * function that returns a Promise resolving to a Response.\n       * @param {string} [method='GET'] The HTTP method to match the Route\n       * against.\n       */\n      constructor(match, handler, method = defaultMethod) {\n        {\n          finalAssertExports.isType(match, 'function', {\n            moduleName: 'workbox-routing',\n            className: 'Route',\n            funcName: 'constructor',\n            paramName: 'match'\n          });\n          if (method) {\n            finalAssertExports.isOneOf(method, validMethods, {\n              paramName: 'method'\n            });\n          }\n        }\n        // These values are referenced directly by Router so cannot be\n        // altered by minificaton.\n        this.handler = normalizeHandler(handler);\n        this.match = match;\n        this.method = method;\n      }\n      /**\n       *\n       * @param {workbox-routing-handlerCallback} handler A callback\n       * function that returns a Promise resolving to a Response\n       */\n      setCatchHandler(handler) {\n        this.catchHandler = normalizeHandler(handler);\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * RegExpRoute makes it easy to create a regular expression based\n     * {@link workbox-routing.Route}.\n     *\n     * For same-origin requests the RegExp only needs to match part of the URL. For\n     * requests against third-party servers, you must define a RegExp that matches\n     * the start of the URL.\n     *\n     * @memberof workbox-routing\n     * @extends workbox-routing.Route\n     */\n    class RegExpRoute extends Route {\n      /**\n       * If the regular expression contains\n       * [capture groups]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp#grouping-back-references},\n       * the captured values will be passed to the\n       * {@link workbox-routing~handlerCallback} `params`\n       * argument.\n       *\n       * @param {RegExp} regExp The regular expression to match against URLs.\n       * @param {workbox-routing~handlerCallback} handler A callback\n       * function that returns a Promise resulting in a Response.\n       * @param {string} [method='GET'] The HTTP method to match the Route\n       * against.\n       */\n      constructor(regExp, handler, method) {\n        {\n          finalAssertExports.isInstance(regExp, RegExp, {\n            moduleName: 'workbox-routing',\n            className: 'RegExpRoute',\n            funcName: 'constructor',\n            paramName: 'pattern'\n          });\n        }\n        const match = ({\n          url\n        }) => {\n          const result = regExp.exec(url.href);\n          // Return immediately if there's no match.\n          if (!result) {\n            return;\n          }\n          // Require that the match start at the first character in the URL string\n          // if it's a cross-origin request.\n          // See https://github.com/GoogleChrome/workbox/issues/281 for the context\n          // behind this behavior.\n          if (url.origin !== location.origin && result.index !== 0) {\n            {\n              logger.debug(`The regular expression '${regExp.toString()}' only partially matched ` + `against the cross-origin URL '${url.toString()}'. RegExpRoute's will only ` + `handle cross-origin requests if they match the entire URL.`);\n            }\n            return;\n          }\n          // If the route matches, but there aren't any capture groups defined, then\n          // this will return [], which is truthy and therefore sufficient to\n          // indicate a match.\n          // If there are capture groups, then it will return their values.\n          return result.slice(1);\n        };\n        super(match, handler, method);\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const getFriendlyURL = url => {\n      const urlObj = new URL(String(url), location.href);\n      // See https://github.com/GoogleChrome/workbox/issues/2323\n      // We want to include everything, except for the origin if it's same-origin.\n      return urlObj.href.replace(new RegExp(`^${location.origin}`), '');\n    };\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * The Router can be used to process a `FetchEvent` using one or more\n     * {@link workbox-routing.Route}, responding with a `Response` if\n     * a matching route exists.\n     *\n     * If no route matches a given a request, the Router will use a \"default\"\n     * handler if one is defined.\n     *\n     * Should the matching Route throw an error, the Router will use a \"catch\"\n     * handler if one is defined to gracefully deal with issues and respond with a\n     * Request.\n     *\n     * If a request matches multiple routes, the **earliest** registered route will\n     * be used to respond to the request.\n     *\n     * @memberof workbox-routing\n     */\n    class Router {\n      /**\n       * Initializes a new Router.\n       */\n      constructor() {\n        this._routes = new Map();\n        this._defaultHandlerMap = new Map();\n      }\n      /**\n       * @return {Map<string, Array<workbox-routing.Route>>} routes A `Map` of HTTP\n       * method name ('GET', etc.) to an array of all the corresponding `Route`\n       * instances that are registered.\n       */\n      get routes() {\n        return this._routes;\n      }\n      /**\n       * Adds a fetch event listener to respond to events when a route matches\n       * the event's request.\n       */\n      addFetchListener() {\n        // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n        self.addEventListener('fetch', event => {\n          const {\n            request\n          } = event;\n          const responsePromise = this.handleRequest({\n            request,\n            event\n          });\n          if (responsePromise) {\n            event.respondWith(responsePromise);\n          }\n        });\n      }\n      /**\n       * Adds a message event listener for URLs to cache from the window.\n       * This is useful to cache resources loaded on the page prior to when the\n       * service worker started controlling it.\n       *\n       * The format of the message data sent from the window should be as follows.\n       * Where the `urlsToCache` array may consist of URL strings or an array of\n       * URL string + `requestInit` object (the same as you'd pass to `fetch()`).\n       *\n       * ```\n       * {\n       *   type: 'CACHE_URLS',\n       *   payload: {\n       *     urlsToCache: [\n       *       './script1.js',\n       *       './script2.js',\n       *       ['./script3.js', {mode: 'no-cors'}],\n       *     ],\n       *   },\n       * }\n       * ```\n       */\n      addCacheListener() {\n        // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n        self.addEventListener('message', event => {\n          // event.data is type 'any'\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n          if (event.data && event.data.type === 'CACHE_URLS') {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            const {\n              payload\n            } = event.data;\n            {\n              logger.debug(`Caching URLs from the window`, payload.urlsToCache);\n            }\n            const requestPromises = Promise.all(payload.urlsToCache.map(entry => {\n              if (typeof entry === 'string') {\n                entry = [entry];\n              }\n              const request = new Request(...entry);\n              return this.handleRequest({\n                request,\n                event\n              });\n              // TODO(philipwalton): TypeScript errors without this typecast for\n              // some reason (probably a bug). The real type here should work but\n              // doesn't: `Array<Promise<Response> | undefined>`.\n            })); // TypeScript\n            event.waitUntil(requestPromises);\n            // If a MessageChannel was used, reply to the message on success.\n            if (event.ports && event.ports[0]) {\n              void requestPromises.then(() => event.ports[0].postMessage(true));\n            }\n          }\n        });\n      }\n      /**\n       * Apply the routing rules to a FetchEvent object to get a Response from an\n       * appropriate Route's handler.\n       *\n       * @param {Object} options\n       * @param {Request} options.request The request to handle.\n       * @param {ExtendableEvent} options.event The event that triggered the\n       *     request.\n       * @return {Promise<Response>|undefined} A promise is returned if a\n       *     registered route can handle the request. If there is no matching\n       *     route and there's no `defaultHandler`, `undefined` is returned.\n       */\n      handleRequest({\n        request,\n        event\n      }) {\n        {\n          finalAssertExports.isInstance(request, Request, {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'handleRequest',\n            paramName: 'options.request'\n          });\n        }\n        const url = new URL(request.url, location.href);\n        if (!url.protocol.startsWith('http')) {\n          {\n            logger.debug(`Workbox Router only supports URLs that start with 'http'.`);\n          }\n          return;\n        }\n        const sameOrigin = url.origin === location.origin;\n        const {\n          params,\n          route\n        } = this.findMatchingRoute({\n          event,\n          request,\n          sameOrigin,\n          url\n        });\n        let handler = route && route.handler;\n        const debugMessages = [];\n        {\n          if (handler) {\n            debugMessages.push([`Found a route to handle this request:`, route]);\n            if (params) {\n              debugMessages.push([`Passing the following params to the route's handler:`, params]);\n            }\n          }\n        }\n        // If we don't have a handler because there was no matching route, then\n        // fall back to defaultHandler if that's defined.\n        const method = request.method;\n        if (!handler && this._defaultHandlerMap.has(method)) {\n          {\n            debugMessages.push(`Failed to find a matching route. Falling ` + `back to the default handler for ${method}.`);\n          }\n          handler = this._defaultHandlerMap.get(method);\n        }\n        if (!handler) {\n          {\n            // No handler so Workbox will do nothing. If logs is set of debug\n            // i.e. verbose, we should print out this information.\n            logger.debug(`No route found for: ${getFriendlyURL(url)}`);\n          }\n          return;\n        }\n        {\n          // We have a handler, meaning Workbox is going to handle the route.\n          // print the routing details to the console.\n          logger.groupCollapsed(`Router is responding to: ${getFriendlyURL(url)}`);\n          debugMessages.forEach(msg => {\n            if (Array.isArray(msg)) {\n              logger.log(...msg);\n            } else {\n              logger.log(msg);\n            }\n          });\n          logger.groupEnd();\n        }\n        // Wrap in try and catch in case the handle method throws a synchronous\n        // error. It should still callback to the catch handler.\n        let responsePromise;\n        try {\n          responsePromise = handler.handle({\n            url,\n            request,\n            event,\n            params\n          });\n        } catch (err) {\n          responsePromise = Promise.reject(err);\n        }\n        // Get route's catch handler, if it exists\n        const catchHandler = route && route.catchHandler;\n        if (responsePromise instanceof Promise && (this._catchHandler || catchHandler)) {\n          responsePromise = responsePromise.catch(async err => {\n            // If there's a route catch handler, process that first\n            if (catchHandler) {\n              {\n                // Still include URL here as it will be async from the console group\n                // and may not make sense without the URL\n                logger.groupCollapsed(`Error thrown when responding to: ` + ` ${getFriendlyURL(url)}. Falling back to route's Catch Handler.`);\n                logger.error(`Error thrown by:`, route);\n                logger.error(err);\n                logger.groupEnd();\n              }\n              try {\n                return await catchHandler.handle({\n                  url,\n                  request,\n                  event,\n                  params\n                });\n              } catch (catchErr) {\n                if (catchErr instanceof Error) {\n                  err = catchErr;\n                }\n              }\n            }\n            if (this._catchHandler) {\n              {\n                // Still include URL here as it will be async from the console group\n                // and may not make sense without the URL\n                logger.groupCollapsed(`Error thrown when responding to: ` + ` ${getFriendlyURL(url)}. Falling back to global Catch Handler.`);\n                logger.error(`Error thrown by:`, route);\n                logger.error(err);\n                logger.groupEnd();\n              }\n              return this._catchHandler.handle({\n                url,\n                request,\n                event\n              });\n            }\n            throw err;\n          });\n        }\n        return responsePromise;\n      }\n      /**\n       * Checks a request and URL (and optionally an event) against the list of\n       * registered routes, and if there's a match, returns the corresponding\n       * route along with any params generated by the match.\n       *\n       * @param {Object} options\n       * @param {URL} options.url\n       * @param {boolean} options.sameOrigin The result of comparing `url.origin`\n       *     against the current origin.\n       * @param {Request} options.request The request to match.\n       * @param {Event} options.event The corresponding event.\n       * @return {Object} An object with `route` and `params` properties.\n       *     They are populated if a matching route was found or `undefined`\n       *     otherwise.\n       */\n      findMatchingRoute({\n        url,\n        sameOrigin,\n        request,\n        event\n      }) {\n        const routes = this._routes.get(request.method) || [];\n        for (const route of routes) {\n          let params;\n          // route.match returns type any, not possible to change right now.\n          // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n          const matchResult = route.match({\n            url,\n            sameOrigin,\n            request,\n            event\n          });\n          if (matchResult) {\n            {\n              // Warn developers that using an async matchCallback is almost always\n              // not the right thing to do.\n              if (matchResult instanceof Promise) {\n                logger.warn(`While routing ${getFriendlyURL(url)}, an async ` + `matchCallback function was used. Please convert the ` + `following route to use a synchronous matchCallback function:`, route);\n              }\n            }\n            // See https://github.com/GoogleChrome/workbox/issues/2079\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            params = matchResult;\n            if (Array.isArray(params) && params.length === 0) {\n              // Instead of passing an empty array in as params, use undefined.\n              params = undefined;\n            } else if (matchResult.constructor === Object &&\n            // eslint-disable-line\n            Object.keys(matchResult).length === 0) {\n              // Instead of passing an empty object in as params, use undefined.\n              params = undefined;\n            } else if (typeof matchResult === 'boolean') {\n              // For the boolean value true (rather than just something truth-y),\n              // don't set params.\n              // See https://github.com/GoogleChrome/workbox/pull/2134#issuecomment-513924353\n              params = undefined;\n            }\n            // Return early if have a match.\n            return {\n              route,\n              params\n            };\n          }\n        }\n        // If no match was found above, return and empty object.\n        return {};\n      }\n      /**\n       * Define a default `handler` that's called when no routes explicitly\n       * match the incoming request.\n       *\n       * Each HTTP method ('GET', 'POST', etc.) gets its own default handler.\n       *\n       * Without a default handler, unmatched requests will go against the\n       * network as if there were no service worker present.\n       *\n       * @param {workbox-routing~handlerCallback} handler A callback\n       * function that returns a Promise resulting in a Response.\n       * @param {string} [method='GET'] The HTTP method to associate with this\n       * default handler. Each method has its own default.\n       */\n      setDefaultHandler(handler, method = defaultMethod) {\n        this._defaultHandlerMap.set(method, normalizeHandler(handler));\n      }\n      /**\n       * If a Route throws an error while handling a request, this `handler`\n       * will be called and given a chance to provide a response.\n       *\n       * @param {workbox-routing~handlerCallback} handler A callback\n       * function that returns a Promise resulting in a Response.\n       */\n      setCatchHandler(handler) {\n        this._catchHandler = normalizeHandler(handler);\n      }\n      /**\n       * Registers a route with the router.\n       *\n       * @param {workbox-routing.Route} route The route to register.\n       */\n      registerRoute(route) {\n        {\n          finalAssertExports.isType(route, 'object', {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'registerRoute',\n            paramName: 'route'\n          });\n          finalAssertExports.hasMethod(route, 'match', {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'registerRoute',\n            paramName: 'route'\n          });\n          finalAssertExports.isType(route.handler, 'object', {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'registerRoute',\n            paramName: 'route'\n          });\n          finalAssertExports.hasMethod(route.handler, 'handle', {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'registerRoute',\n            paramName: 'route.handler'\n          });\n          finalAssertExports.isType(route.method, 'string', {\n            moduleName: 'workbox-routing',\n            className: 'Router',\n            funcName: 'registerRoute',\n            paramName: 'route.method'\n          });\n        }\n        if (!this._routes.has(route.method)) {\n          this._routes.set(route.method, []);\n        }\n        // Give precedence to all of the earlier routes by adding this additional\n        // route to the end of the array.\n        this._routes.get(route.method).push(route);\n      }\n      /**\n       * Unregisters a route with the router.\n       *\n       * @param {workbox-routing.Route} route The route to unregister.\n       */\n      unregisterRoute(route) {\n        if (!this._routes.has(route.method)) {\n          throw new WorkboxError('unregister-route-but-not-found-with-method', {\n            method: route.method\n          });\n        }\n        const routeIndex = this._routes.get(route.method).indexOf(route);\n        if (routeIndex > -1) {\n          this._routes.get(route.method).splice(routeIndex, 1);\n        } else {\n          throw new WorkboxError('unregister-route-route-not-registered');\n        }\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    let defaultRouter;\n    /**\n     * Creates a new, singleton Router instance if one does not exist. If one\n     * does already exist, that instance is returned.\n     *\n     * @private\n     * @return {Router}\n     */\n    const getOrCreateDefaultRouter = () => {\n      if (!defaultRouter) {\n        defaultRouter = new Router();\n        // The helpers that use the default Router assume these listeners exist.\n        defaultRouter.addFetchListener();\n        defaultRouter.addCacheListener();\n      }\n      return defaultRouter;\n    };\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Easily register a RegExp, string, or function with a caching\n     * strategy to a singleton Router instance.\n     *\n     * This method will generate a Route for you if needed and\n     * call {@link workbox-routing.Router#registerRoute}.\n     *\n     * @param {RegExp|string|workbox-routing.Route~matchCallback|workbox-routing.Route} capture\n     * If the capture param is a `Route`, all other arguments will be ignored.\n     * @param {workbox-routing~handlerCallback} [handler] A callback\n     * function that returns a Promise resulting in a Response. This parameter\n     * is required if `capture` is not a `Route` object.\n     * @param {string} [method='GET'] The HTTP method to match the Route\n     * against.\n     * @return {workbox-routing.Route} The generated `Route`.\n     *\n     * @memberof workbox-routing\n     */\n    function registerRoute(capture, handler, method) {\n      let route;\n      if (typeof capture === 'string') {\n        const captureUrl = new URL(capture, location.href);\n        {\n          if (!(capture.startsWith('/') || capture.startsWith('http'))) {\n            throw new WorkboxError('invalid-string', {\n              moduleName: 'workbox-routing',\n              funcName: 'registerRoute',\n              paramName: 'capture'\n            });\n          }\n          // We want to check if Express-style wildcards are in the pathname only.\n          // TODO: Remove this log message in v4.\n          const valueToCheck = capture.startsWith('http') ? captureUrl.pathname : capture;\n          // See https://github.com/pillarjs/path-to-regexp#parameters\n          const wildcards = '[*:?+]';\n          if (new RegExp(`${wildcards}`).exec(valueToCheck)) {\n            logger.debug(`The '$capture' parameter contains an Express-style wildcard ` + `character (${wildcards}). Strings are now always interpreted as ` + `exact matches; use a RegExp for partial or wildcard matches.`);\n          }\n        }\n        const matchCallback = ({\n          url\n        }) => {\n          {\n            if (url.pathname === captureUrl.pathname && url.origin !== captureUrl.origin) {\n              logger.debug(`${capture} only partially matches the cross-origin URL ` + `${url.toString()}. This route will only handle cross-origin requests ` + `if they match the entire URL.`);\n            }\n          }\n          return url.href === captureUrl.href;\n        };\n        // If `capture` is a string then `handler` and `method` must be present.\n        route = new Route(matchCallback, handler, method);\n      } else if (capture instanceof RegExp) {\n        // If `capture` is a `RegExp` then `handler` and `method` must be present.\n        route = new RegExpRoute(capture, handler, method);\n      } else if (typeof capture === 'function') {\n        // If `capture` is a function then `handler` and `method` must be present.\n        route = new Route(capture, handler, method);\n      } else if (capture instanceof Route) {\n        route = capture;\n      } else {\n        throw new WorkboxError('unsupported-route-type', {\n          moduleName: 'workbox-routing',\n          funcName: 'registerRoute',\n          paramName: 'capture'\n        });\n      }\n      const defaultRouter = getOrCreateDefaultRouter();\n      defaultRouter.registerRoute(route);\n      return route;\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const _cacheNameDetails = {\n      googleAnalytics: 'googleAnalytics',\n      precache: 'precache-v2',\n      prefix: 'workbox',\n      runtime: 'runtime',\n      suffix: typeof registration !== 'undefined' ? registration.scope : ''\n    };\n    const _createCacheName = cacheName => {\n      return [_cacheNameDetails.prefix, cacheName, _cacheNameDetails.suffix].filter(value => value && value.length > 0).join('-');\n    };\n    const eachCacheNameDetail = fn => {\n      for (const key of Object.keys(_cacheNameDetails)) {\n        fn(key);\n      }\n    };\n    const cacheNames = {\n      updateDetails: details => {\n        eachCacheNameDetail(key => {\n          if (typeof details[key] === 'string') {\n            _cacheNameDetails[key] = details[key];\n          }\n        });\n      },\n      getGoogleAnalyticsName: userCacheName => {\n        return userCacheName || _createCacheName(_cacheNameDetails.googleAnalytics);\n      },\n      getPrecacheName: userCacheName => {\n        return userCacheName || _createCacheName(_cacheNameDetails.precache);\n      },\n      getPrefix: () => {\n        return _cacheNameDetails.prefix;\n      },\n      getRuntimeName: userCacheName => {\n        return userCacheName || _createCacheName(_cacheNameDetails.runtime);\n      },\n      getSuffix: () => {\n        return _cacheNameDetails.suffix;\n      }\n    };\n\n    /*\n      Copyright 2019 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A helper function that prevents a promise from being flagged as unused.\n     *\n     * @private\n     **/\n    function dontWaitFor(promise) {\n      // Effective no-op.\n      void promise.then(() => {});\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    // Callbacks to be executed whenever there's a quota error.\n    // Can't change Function type right now.\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    const quotaErrorCallbacks = new Set();\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Adds a function to the set of quotaErrorCallbacks that will be executed if\n     * there's a quota error.\n     *\n     * @param {Function} callback\n     * @memberof workbox-core\n     */\n    // Can't change Function type\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function registerQuotaErrorCallback(callback) {\n      {\n        finalAssertExports.isType(callback, 'function', {\n          moduleName: 'workbox-core',\n          funcName: 'register',\n          paramName: 'callback'\n        });\n      }\n      quotaErrorCallbacks.add(callback);\n      {\n        logger.log('Registered a callback to respond to quota errors.', callback);\n      }\n    }\n\n    function _extends() {\n      return _extends = Object.assign ? Object.assign.bind() : function (n) {\n        for (var e = 1; e < arguments.length; e++) {\n          var t = arguments[e];\n          for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n        }\n        return n;\n      }, _extends.apply(null, arguments);\n    }\n\n    const instanceOfAny = (object, constructors) => constructors.some(c => object instanceof c);\n    let idbProxyableTypes;\n    let cursorAdvanceMethods;\n    // This is a function to prevent it throwing up in node environments.\n    function getIdbProxyableTypes() {\n      return idbProxyableTypes || (idbProxyableTypes = [IDBDatabase, IDBObjectStore, IDBIndex, IDBCursor, IDBTransaction]);\n    }\n    // This is a function to prevent it throwing up in node environments.\n    function getCursorAdvanceMethods() {\n      return cursorAdvanceMethods || (cursorAdvanceMethods = [IDBCursor.prototype.advance, IDBCursor.prototype.continue, IDBCursor.prototype.continuePrimaryKey]);\n    }\n    const cursorRequestMap = new WeakMap();\n    const transactionDoneMap = new WeakMap();\n    const transactionStoreNamesMap = new WeakMap();\n    const transformCache = new WeakMap();\n    const reverseTransformCache = new WeakMap();\n    function promisifyRequest(request) {\n      const promise = new Promise((resolve, reject) => {\n        const unlisten = () => {\n          request.removeEventListener('success', success);\n          request.removeEventListener('error', error);\n        };\n        const success = () => {\n          resolve(wrap(request.result));\n          unlisten();\n        };\n        const error = () => {\n          reject(request.error);\n          unlisten();\n        };\n        request.addEventListener('success', success);\n        request.addEventListener('error', error);\n      });\n      promise.then(value => {\n        // Since cursoring reuses the IDBRequest (*sigh*), we cache it for later retrieval\n        // (see wrapFunction).\n        if (value instanceof IDBCursor) {\n          cursorRequestMap.set(value, request);\n        }\n        // Catching to avoid \"Uncaught Promise exceptions\"\n      }).catch(() => {});\n      // This mapping exists in reverseTransformCache but doesn't doesn't exist in transformCache. This\n      // is because we create many promises from a single IDBRequest.\n      reverseTransformCache.set(promise, request);\n      return promise;\n    }\n    function cacheDonePromiseForTransaction(tx) {\n      // Early bail if we've already created a done promise for this transaction.\n      if (transactionDoneMap.has(tx)) return;\n      const done = new Promise((resolve, reject) => {\n        const unlisten = () => {\n          tx.removeEventListener('complete', complete);\n          tx.removeEventListener('error', error);\n          tx.removeEventListener('abort', error);\n        };\n        const complete = () => {\n          resolve();\n          unlisten();\n        };\n        const error = () => {\n          reject(tx.error || new DOMException('AbortError', 'AbortError'));\n          unlisten();\n        };\n        tx.addEventListener('complete', complete);\n        tx.addEventListener('error', error);\n        tx.addEventListener('abort', error);\n      });\n      // Cache it for later retrieval.\n      transactionDoneMap.set(tx, done);\n    }\n    let idbProxyTraps = {\n      get(target, prop, receiver) {\n        if (target instanceof IDBTransaction) {\n          // Special handling for transaction.done.\n          if (prop === 'done') return transactionDoneMap.get(target);\n          // Polyfill for objectStoreNames because of Edge.\n          if (prop === 'objectStoreNames') {\n            return target.objectStoreNames || transactionStoreNamesMap.get(target);\n          }\n          // Make tx.store return the only store in the transaction, or undefined if there are many.\n          if (prop === 'store') {\n            return receiver.objectStoreNames[1] ? undefined : receiver.objectStore(receiver.objectStoreNames[0]);\n          }\n        }\n        // Else transform whatever we get back.\n        return wrap(target[prop]);\n      },\n      set(target, prop, value) {\n        target[prop] = value;\n        return true;\n      },\n      has(target, prop) {\n        if (target instanceof IDBTransaction && (prop === 'done' || prop === 'store')) {\n          return true;\n        }\n        return prop in target;\n      }\n    };\n    function replaceTraps(callback) {\n      idbProxyTraps = callback(idbProxyTraps);\n    }\n    function wrapFunction(func) {\n      // Due to expected object equality (which is enforced by the caching in `wrap`), we\n      // only create one new func per func.\n      // Edge doesn't support objectStoreNames (booo), so we polyfill it here.\n      if (func === IDBDatabase.prototype.transaction && !('objectStoreNames' in IDBTransaction.prototype)) {\n        return function (storeNames, ...args) {\n          const tx = func.call(unwrap(this), storeNames, ...args);\n          transactionStoreNamesMap.set(tx, storeNames.sort ? storeNames.sort() : [storeNames]);\n          return wrap(tx);\n        };\n      }\n      // Cursor methods are special, as the behaviour is a little more different to standard IDB. In\n      // IDB, you advance the cursor and wait for a new 'success' on the IDBRequest that gave you the\n      // cursor. It's kinda like a promise that can resolve with many values. That doesn't make sense\n      // with real promises, so each advance methods returns a new promise for the cursor object, or\n      // undefined if the end of the cursor has been reached.\n      if (getCursorAdvanceMethods().includes(func)) {\n        return function (...args) {\n          // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n          // the original object.\n          func.apply(unwrap(this), args);\n          return wrap(cursorRequestMap.get(this));\n        };\n      }\n      return function (...args) {\n        // Calling the original function with the proxy as 'this' causes ILLEGAL INVOCATION, so we use\n        // the original object.\n        return wrap(func.apply(unwrap(this), args));\n      };\n    }\n    function transformCachableValue(value) {\n      if (typeof value === 'function') return wrapFunction(value);\n      // This doesn't return, it just creates a 'done' promise for the transaction,\n      // which is later returned for transaction.done (see idbObjectHandler).\n      if (value instanceof IDBTransaction) cacheDonePromiseForTransaction(value);\n      if (instanceOfAny(value, getIdbProxyableTypes())) return new Proxy(value, idbProxyTraps);\n      // Return the same value back if we're not going to transform it.\n      return value;\n    }\n    function wrap(value) {\n      // We sometimes generate multiple promises from a single IDBRequest (eg when cursoring), because\n      // IDB is weird and a single IDBRequest can yield many responses, so these can't be cached.\n      if (value instanceof IDBRequest) return promisifyRequest(value);\n      // If we've already transformed this value before, reuse the transformed value.\n      // This is faster, but it also provides object equality.\n      if (transformCache.has(value)) return transformCache.get(value);\n      const newValue = transformCachableValue(value);\n      // Not all types are transformed.\n      // These may be primitive types, so they can't be WeakMap keys.\n      if (newValue !== value) {\n        transformCache.set(value, newValue);\n        reverseTransformCache.set(newValue, value);\n      }\n      return newValue;\n    }\n    const unwrap = value => reverseTransformCache.get(value);\n\n    /**\n     * Open a database.\n     *\n     * @param name Name of the database.\n     * @param version Schema version.\n     * @param callbacks Additional callbacks.\n     */\n    function openDB(name, version, {\n      blocked,\n      upgrade,\n      blocking,\n      terminated\n    } = {}) {\n      const request = indexedDB.open(name, version);\n      const openPromise = wrap(request);\n      if (upgrade) {\n        request.addEventListener('upgradeneeded', event => {\n          upgrade(wrap(request.result), event.oldVersion, event.newVersion, wrap(request.transaction), event);\n        });\n      }\n      if (blocked) {\n        request.addEventListener('blocked', event => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event.newVersion, event));\n      }\n      openPromise.then(db => {\n        if (terminated) db.addEventListener('close', () => terminated());\n        if (blocking) {\n          db.addEventListener('versionchange', event => blocking(event.oldVersion, event.newVersion, event));\n        }\n      }).catch(() => {});\n      return openPromise;\n    }\n    /**\n     * Delete a database.\n     *\n     * @param name Name of the database.\n     */\n    function deleteDB(name, {\n      blocked\n    } = {}) {\n      const request = indexedDB.deleteDatabase(name);\n      if (blocked) {\n        request.addEventListener('blocked', event => blocked(\n        // Casting due to https://github.com/microsoft/TypeScript-DOM-lib-generator/pull/1405\n        event.oldVersion, event));\n      }\n      return wrap(request).then(() => undefined);\n    }\n    const readMethods = ['get', 'getKey', 'getAll', 'getAllKeys', 'count'];\n    const writeMethods = ['put', 'add', 'delete', 'clear'];\n    const cachedMethods = new Map();\n    function getMethod(target, prop) {\n      if (!(target instanceof IDBDatabase && !(prop in target) && typeof prop === 'string')) {\n        return;\n      }\n      if (cachedMethods.get(prop)) return cachedMethods.get(prop);\n      const targetFuncName = prop.replace(/FromIndex$/, '');\n      const useIndex = prop !== targetFuncName;\n      const isWrite = writeMethods.includes(targetFuncName);\n      if (\n      // Bail if the target doesn't exist on the target. Eg, getAll isn't in Edge.\n      !(targetFuncName in (useIndex ? IDBIndex : IDBObjectStore).prototype) || !(isWrite || readMethods.includes(targetFuncName))) {\n        return;\n      }\n      const method = async function (storeName, ...args) {\n        // isWrite ? 'readwrite' : undefined gzipps better, but fails in Edge :(\n        const tx = this.transaction(storeName, isWrite ? 'readwrite' : 'readonly');\n        let target = tx.store;\n        if (useIndex) target = target.index(args.shift());\n        // Must reject if op rejects.\n        // If it's a write operation, must reject if tx.done rejects.\n        // Must reject with op rejection first.\n        // Must resolve with op value.\n        // Must handle both promises (no unhandled rejections)\n        return (await Promise.all([target[targetFuncName](...args), isWrite && tx.done]))[0];\n      };\n      cachedMethods.set(prop, method);\n      return method;\n    }\n    replaceTraps(oldTraps => _extends({}, oldTraps, {\n      get: (target, prop, receiver) => getMethod(target, prop) || oldTraps.get(target, prop, receiver),\n      has: (target, prop) => !!getMethod(target, prop) || oldTraps.has(target, prop)\n    }));\n\n    // @ts-ignore\n    try {\n      self['workbox:expiration:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const DB_NAME = 'workbox-expiration';\n    const CACHE_OBJECT_STORE = 'cache-entries';\n    const normalizeURL = unNormalizedUrl => {\n      const url = new URL(unNormalizedUrl, location.href);\n      url.hash = '';\n      return url.href;\n    };\n    /**\n     * Returns the timestamp model.\n     *\n     * @private\n     */\n    class CacheTimestampsModel {\n      /**\n       *\n       * @param {string} cacheName\n       *\n       * @private\n       */\n      constructor(cacheName) {\n        this._db = null;\n        this._cacheName = cacheName;\n      }\n      /**\n       * Performs an upgrade of indexedDB.\n       *\n       * @param {IDBPDatabase<CacheDbSchema>} db\n       *\n       * @private\n       */\n      _upgradeDb(db) {\n        // TODO(philipwalton): EdgeHTML doesn't support arrays as a keyPath, so we\n        // have to use the `id` keyPath here and create our own values (a\n        // concatenation of `url + cacheName`) instead of simply using\n        // `keyPath: ['url', 'cacheName']`, which is supported in other browsers.\n        const objStore = db.createObjectStore(CACHE_OBJECT_STORE, {\n          keyPath: 'id'\n        });\n        // TODO(philipwalton): once we don't have to support EdgeHTML, we can\n        // create a single index with the keyPath `['cacheName', 'timestamp']`\n        // instead of doing both these indexes.\n        objStore.createIndex('cacheName', 'cacheName', {\n          unique: false\n        });\n        objStore.createIndex('timestamp', 'timestamp', {\n          unique: false\n        });\n      }\n      /**\n       * Performs an upgrade of indexedDB and deletes deprecated DBs.\n       *\n       * @param {IDBPDatabase<CacheDbSchema>} db\n       *\n       * @private\n       */\n      _upgradeDbAndDeleteOldDbs(db) {\n        this._upgradeDb(db);\n        if (this._cacheName) {\n          void deleteDB(this._cacheName);\n        }\n      }\n      /**\n       * @param {string} url\n       * @param {number} timestamp\n       *\n       * @private\n       */\n      async setTimestamp(url, timestamp) {\n        url = normalizeURL(url);\n        const entry = {\n          url,\n          timestamp,\n          cacheName: this._cacheName,\n          // Creating an ID from the URL and cache name won't be necessary once\n          // Edge switches to Chromium and all browsers we support work with\n          // array keyPaths.\n          id: this._getId(url)\n        };\n        const db = await this.getDb();\n        const tx = db.transaction(CACHE_OBJECT_STORE, 'readwrite', {\n          durability: 'relaxed'\n        });\n        await tx.store.put(entry);\n        await tx.done;\n      }\n      /**\n       * Returns the timestamp stored for a given URL.\n       *\n       * @param {string} url\n       * @return {number | undefined}\n       *\n       * @private\n       */\n      async getTimestamp(url) {\n        const db = await this.getDb();\n        const entry = await db.get(CACHE_OBJECT_STORE, this._getId(url));\n        return entry === null || entry === void 0 ? void 0 : entry.timestamp;\n      }\n      /**\n       * Iterates through all the entries in the object store (from newest to\n       * oldest) and removes entries once either `maxCount` is reached or the\n       * entry's timestamp is less than `minTimestamp`.\n       *\n       * @param {number} minTimestamp\n       * @param {number} maxCount\n       * @return {Array<string>}\n       *\n       * @private\n       */\n      async expireEntries(minTimestamp, maxCount) {\n        const db = await this.getDb();\n        let cursor = await db.transaction(CACHE_OBJECT_STORE).store.index('timestamp').openCursor(null, 'prev');\n        const entriesToDelete = [];\n        let entriesNotDeletedCount = 0;\n        while (cursor) {\n          const result = cursor.value;\n          // TODO(philipwalton): once we can use a multi-key index, we\n          // won't have to check `cacheName` here.\n          if (result.cacheName === this._cacheName) {\n            // Delete an entry if it's older than the max age or\n            // if we already have the max number allowed.\n            if (minTimestamp && result.timestamp < minTimestamp || maxCount && entriesNotDeletedCount >= maxCount) {\n              // TODO(philipwalton): we should be able to delete the\n              // entry right here, but doing so causes an iteration\n              // bug in Safari stable (fixed in TP). Instead we can\n              // store the keys of the entries to delete, and then\n              // delete the separate transactions.\n              // https://github.com/GoogleChrome/workbox/issues/1978\n              // cursor.delete();\n              // We only need to return the URL, not the whole entry.\n              entriesToDelete.push(cursor.value);\n            } else {\n              entriesNotDeletedCount++;\n            }\n          }\n          cursor = await cursor.continue();\n        }\n        // TODO(philipwalton): once the Safari bug in the following issue is fixed,\n        // we should be able to remove this loop and do the entry deletion in the\n        // cursor loop above:\n        // https://github.com/GoogleChrome/workbox/issues/1978\n        const urlsDeleted = [];\n        for (const entry of entriesToDelete) {\n          await db.delete(CACHE_OBJECT_STORE, entry.id);\n          urlsDeleted.push(entry.url);\n        }\n        return urlsDeleted;\n      }\n      /**\n       * Takes a URL and returns an ID that will be unique in the object store.\n       *\n       * @param {string} url\n       * @return {string}\n       *\n       * @private\n       */\n      _getId(url) {\n        // Creating an ID from the URL and cache name won't be necessary once\n        // Edge switches to Chromium and all browsers we support work with\n        // array keyPaths.\n        return this._cacheName + '|' + normalizeURL(url);\n      }\n      /**\n       * Returns an open connection to the database.\n       *\n       * @private\n       */\n      async getDb() {\n        if (!this._db) {\n          this._db = await openDB(DB_NAME, 1, {\n            upgrade: this._upgradeDbAndDeleteOldDbs.bind(this)\n          });\n        }\n        return this._db;\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * The `CacheExpiration` class allows you define an expiration and / or\n     * limit on the number of responses stored in a\n     * [`Cache`](https://developer.mozilla.org/en-US/docs/Web/API/Cache).\n     *\n     * @memberof workbox-expiration\n     */\n    class CacheExpiration {\n      /**\n       * To construct a new CacheExpiration instance you must provide at least\n       * one of the `config` properties.\n       *\n       * @param {string} cacheName Name of the cache to apply restrictions to.\n       * @param {Object} config\n       * @param {number} [config.maxEntries] The maximum number of entries to cache.\n       * Entries used the least will be removed as the maximum is reached.\n       * @param {number} [config.maxAgeSeconds] The maximum age of an entry before\n       * it's treated as stale and removed.\n       * @param {Object} [config.matchOptions] The [`CacheQueryOptions`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete#Parameters)\n       * that will be used when calling `delete()` on the cache.\n       */\n      constructor(cacheName, config = {}) {\n        this._isRunning = false;\n        this._rerunRequested = false;\n        {\n          finalAssertExports.isType(cacheName, 'string', {\n            moduleName: 'workbox-expiration',\n            className: 'CacheExpiration',\n            funcName: 'constructor',\n            paramName: 'cacheName'\n          });\n          if (!(config.maxEntries || config.maxAgeSeconds)) {\n            throw new WorkboxError('max-entries-or-age-required', {\n              moduleName: 'workbox-expiration',\n              className: 'CacheExpiration',\n              funcName: 'constructor'\n            });\n          }\n          if (config.maxEntries) {\n            finalAssertExports.isType(config.maxEntries, 'number', {\n              moduleName: 'workbox-expiration',\n              className: 'CacheExpiration',\n              funcName: 'constructor',\n              paramName: 'config.maxEntries'\n            });\n          }\n          if (config.maxAgeSeconds) {\n            finalAssertExports.isType(config.maxAgeSeconds, 'number', {\n              moduleName: 'workbox-expiration',\n              className: 'CacheExpiration',\n              funcName: 'constructor',\n              paramName: 'config.maxAgeSeconds'\n            });\n          }\n        }\n        this._maxEntries = config.maxEntries;\n        this._maxAgeSeconds = config.maxAgeSeconds;\n        this._matchOptions = config.matchOptions;\n        this._cacheName = cacheName;\n        this._timestampModel = new CacheTimestampsModel(cacheName);\n      }\n      /**\n       * Expires entries for the given cache and given criteria.\n       */\n      async expireEntries() {\n        if (this._isRunning) {\n          this._rerunRequested = true;\n          return;\n        }\n        this._isRunning = true;\n        const minTimestamp = this._maxAgeSeconds ? Date.now() - this._maxAgeSeconds * 1000 : 0;\n        const urlsExpired = await this._timestampModel.expireEntries(minTimestamp, this._maxEntries);\n        // Delete URLs from the cache\n        const cache = await self.caches.open(this._cacheName);\n        for (const url of urlsExpired) {\n          await cache.delete(url, this._matchOptions);\n        }\n        {\n          if (urlsExpired.length > 0) {\n            logger.groupCollapsed(`Expired ${urlsExpired.length} ` + `${urlsExpired.length === 1 ? 'entry' : 'entries'} and removed ` + `${urlsExpired.length === 1 ? 'it' : 'them'} from the ` + `'${this._cacheName}' cache.`);\n            logger.log(`Expired the following ${urlsExpired.length === 1 ? 'URL' : 'URLs'}:`);\n            urlsExpired.forEach(url => logger.log(`    ${url}`));\n            logger.groupEnd();\n          } else {\n            logger.debug(`Cache expiration ran and found no entries to remove.`);\n          }\n        }\n        this._isRunning = false;\n        if (this._rerunRequested) {\n          this._rerunRequested = false;\n          dontWaitFor(this.expireEntries());\n        }\n      }\n      /**\n       * Update the timestamp for the given URL. This ensures the when\n       * removing entries based on maximum entries, most recently used\n       * is accurate or when expiring, the timestamp is up-to-date.\n       *\n       * @param {string} url\n       */\n      async updateTimestamp(url) {\n        {\n          finalAssertExports.isType(url, 'string', {\n            moduleName: 'workbox-expiration',\n            className: 'CacheExpiration',\n            funcName: 'updateTimestamp',\n            paramName: 'url'\n          });\n        }\n        await this._timestampModel.setTimestamp(url, Date.now());\n      }\n      /**\n       * Can be used to check if a URL has expired or not before it's used.\n       *\n       * This requires a look up from IndexedDB, so can be slow.\n       *\n       * Note: This method will not remove the cached entry, call\n       * `expireEntries()` to remove indexedDB and Cache entries.\n       *\n       * @param {string} url\n       * @return {boolean}\n       */\n      async isURLExpired(url) {\n        if (!this._maxAgeSeconds) {\n          {\n            throw new WorkboxError(`expired-test-without-max-age`, {\n              methodName: 'isURLExpired',\n              paramName: 'maxAgeSeconds'\n            });\n          }\n        } else {\n          const timestamp = await this._timestampModel.getTimestamp(url);\n          const expireOlderThan = Date.now() - this._maxAgeSeconds * 1000;\n          return timestamp !== undefined ? timestamp < expireOlderThan : true;\n        }\n      }\n      /**\n       * Removes the IndexedDB object store used to keep track of cache expiration\n       * metadata.\n       */\n      async delete() {\n        // Make sure we don't attempt another rerun if we're called in the middle of\n        // a cache expiration.\n        this._rerunRequested = false;\n        await this._timestampModel.expireEntries(Infinity); // Expires all.\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * This plugin can be used in a `workbox-strategy` to regularly enforce a\n     * limit on the age and / or the number of cached requests.\n     *\n     * It can only be used with `workbox-strategy` instances that have a\n     * [custom `cacheName` property set](/web/tools/workbox/guides/configure-workbox#custom_cache_names_in_strategies).\n     * In other words, it can't be used to expire entries in strategy that uses the\n     * default runtime cache name.\n     *\n     * Whenever a cached response is used or updated, this plugin will look\n     * at the associated cache and remove any old or extra responses.\n     *\n     * When using `maxAgeSeconds`, responses may be used *once* after expiring\n     * because the expiration clean up will not have occurred until *after* the\n     * cached response has been used. If the response has a \"Date\" header, then\n     * a light weight expiration check is performed and the response will not be\n     * used immediately.\n     *\n     * When using `maxEntries`, the entry least-recently requested will be removed\n     * from the cache first.\n     *\n     * @memberof workbox-expiration\n     */\n    class ExpirationPlugin {\n      /**\n       * @param {ExpirationPluginOptions} config\n       * @param {number} [config.maxEntries] The maximum number of entries to cache.\n       * Entries used the least will be removed as the maximum is reached.\n       * @param {number} [config.maxAgeSeconds] The maximum age of an entry before\n       * it's treated as stale and removed.\n       * @param {Object} [config.matchOptions] The [`CacheQueryOptions`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/delete#Parameters)\n       * that will be used when calling `delete()` on the cache.\n       * @param {boolean} [config.purgeOnQuotaError] Whether to opt this cache in to\n       * automatic deletion if the available storage quota has been exceeded.\n       */\n      constructor(config = {}) {\n        /**\n         * A \"lifecycle\" callback that will be triggered automatically by the\n         * `workbox-strategies` handlers when a `Response` is about to be returned\n         * from a [Cache](https://developer.mozilla.org/en-US/docs/Web/API/Cache) to\n         * the handler. It allows the `Response` to be inspected for freshness and\n         * prevents it from being used if the `Response`'s `Date` header value is\n         * older than the configured `maxAgeSeconds`.\n         *\n         * @param {Object} options\n         * @param {string} options.cacheName Name of the cache the response is in.\n         * @param {Response} options.cachedResponse The `Response` object that's been\n         *     read from a cache and whose freshness should be checked.\n         * @return {Response} Either the `cachedResponse`, if it's\n         *     fresh, or `null` if the `Response` is older than `maxAgeSeconds`.\n         *\n         * @private\n         */\n        this.cachedResponseWillBeUsed = async ({\n          event,\n          request,\n          cacheName,\n          cachedResponse\n        }) => {\n          if (!cachedResponse) {\n            return null;\n          }\n          const isFresh = this._isResponseDateFresh(cachedResponse);\n          // Expire entries to ensure that even if the expiration date has\n          // expired, it'll only be used once.\n          const cacheExpiration = this._getCacheExpiration(cacheName);\n          dontWaitFor(cacheExpiration.expireEntries());\n          // Update the metadata for the request URL to the current timestamp,\n          // but don't `await` it as we don't want to block the response.\n          const updateTimestampDone = cacheExpiration.updateTimestamp(request.url);\n          if (event) {\n            try {\n              event.waitUntil(updateTimestampDone);\n            } catch (error) {\n              {\n                // The event may not be a fetch event; only log the URL if it is.\n                if ('request' in event) {\n                  logger.warn(`Unable to ensure service worker stays alive when ` + `updating cache entry for ` + `'${getFriendlyURL(event.request.url)}'.`);\n                }\n              }\n            }\n          }\n          return isFresh ? cachedResponse : null;\n        };\n        /**\n         * A \"lifecycle\" callback that will be triggered automatically by the\n         * `workbox-strategies` handlers when an entry is added to a cache.\n         *\n         * @param {Object} options\n         * @param {string} options.cacheName Name of the cache that was updated.\n         * @param {string} options.request The Request for the cached entry.\n         *\n         * @private\n         */\n        this.cacheDidUpdate = async ({\n          cacheName,\n          request\n        }) => {\n          {\n            finalAssertExports.isType(cacheName, 'string', {\n              moduleName: 'workbox-expiration',\n              className: 'Plugin',\n              funcName: 'cacheDidUpdate',\n              paramName: 'cacheName'\n            });\n            finalAssertExports.isInstance(request, Request, {\n              moduleName: 'workbox-expiration',\n              className: 'Plugin',\n              funcName: 'cacheDidUpdate',\n              paramName: 'request'\n            });\n          }\n          const cacheExpiration = this._getCacheExpiration(cacheName);\n          await cacheExpiration.updateTimestamp(request.url);\n          await cacheExpiration.expireEntries();\n        };\n        {\n          if (!(config.maxEntries || config.maxAgeSeconds)) {\n            throw new WorkboxError('max-entries-or-age-required', {\n              moduleName: 'workbox-expiration',\n              className: 'Plugin',\n              funcName: 'constructor'\n            });\n          }\n          if (config.maxEntries) {\n            finalAssertExports.isType(config.maxEntries, 'number', {\n              moduleName: 'workbox-expiration',\n              className: 'Plugin',\n              funcName: 'constructor',\n              paramName: 'config.maxEntries'\n            });\n          }\n          if (config.maxAgeSeconds) {\n            finalAssertExports.isType(config.maxAgeSeconds, 'number', {\n              moduleName: 'workbox-expiration',\n              className: 'Plugin',\n              funcName: 'constructor',\n              paramName: 'config.maxAgeSeconds'\n            });\n          }\n        }\n        this._config = config;\n        this._maxAgeSeconds = config.maxAgeSeconds;\n        this._cacheExpirations = new Map();\n        if (config.purgeOnQuotaError) {\n          registerQuotaErrorCallback(() => this.deleteCacheAndMetadata());\n        }\n      }\n      /**\n       * A simple helper method to return a CacheExpiration instance for a given\n       * cache name.\n       *\n       * @param {string} cacheName\n       * @return {CacheExpiration}\n       *\n       * @private\n       */\n      _getCacheExpiration(cacheName) {\n        if (cacheName === cacheNames.getRuntimeName()) {\n          throw new WorkboxError('expire-custom-caches-only');\n        }\n        let cacheExpiration = this._cacheExpirations.get(cacheName);\n        if (!cacheExpiration) {\n          cacheExpiration = new CacheExpiration(cacheName, this._config);\n          this._cacheExpirations.set(cacheName, cacheExpiration);\n        }\n        return cacheExpiration;\n      }\n      /**\n       * @param {Response} cachedResponse\n       * @return {boolean}\n       *\n       * @private\n       */\n      _isResponseDateFresh(cachedResponse) {\n        if (!this._maxAgeSeconds) {\n          // We aren't expiring by age, so return true, it's fresh\n          return true;\n        }\n        // Check if the 'date' header will suffice a quick expiration check.\n        // See https://github.com/GoogleChromeLabs/sw-toolbox/issues/164 for\n        // discussion.\n        const dateHeaderTimestamp = this._getDateHeaderTimestamp(cachedResponse);\n        if (dateHeaderTimestamp === null) {\n          // Unable to parse date, so assume it's fresh.\n          return true;\n        }\n        // If we have a valid headerTime, then our response is fresh iff the\n        // headerTime plus maxAgeSeconds is greater than the current time.\n        const now = Date.now();\n        return dateHeaderTimestamp >= now - this._maxAgeSeconds * 1000;\n      }\n      /**\n       * This method will extract the data header and parse it into a useful\n       * value.\n       *\n       * @param {Response} cachedResponse\n       * @return {number|null}\n       *\n       * @private\n       */\n      _getDateHeaderTimestamp(cachedResponse) {\n        if (!cachedResponse.headers.has('date')) {\n          return null;\n        }\n        const dateHeader = cachedResponse.headers.get('date');\n        const parsedDate = new Date(dateHeader);\n        const headerTime = parsedDate.getTime();\n        // If the Date header was invalid for some reason, parsedDate.getTime()\n        // will return NaN.\n        if (isNaN(headerTime)) {\n          return null;\n        }\n        return headerTime;\n      }\n      /**\n       * This is a helper method that performs two operations:\n       *\n       * - Deletes *all* the underlying Cache instances associated with this plugin\n       * instance, by calling caches.delete() on your behalf.\n       * - Deletes the metadata from IndexedDB used to keep track of expiration\n       * details for each Cache instance.\n       *\n       * When using cache expiration, calling this method is preferable to calling\n       * `caches.delete()` directly, since this will ensure that the IndexedDB\n       * metadata is also cleanly removed and open IndexedDB instances are deleted.\n       *\n       * Note that if you're *not* using cache expiration for a given cache, calling\n       * `caches.delete()` and passing in the cache's name should be sufficient.\n       * There is no Workbox-specific method needed for cleanup in that case.\n       */\n      async deleteCacheAndMetadata() {\n        // Do this one at a time instead of all at once via `Promise.all()` to\n        // reduce the chance of inconsistency if a promise rejects.\n        for (const [cacheName, cacheExpiration] of this._cacheExpirations) {\n          await self.caches.delete(cacheName);\n          await cacheExpiration.delete();\n        }\n        // Reset this._cacheExpirations to its initial state.\n        this._cacheExpirations = new Map();\n      }\n    }\n\n    // @ts-ignore\n    try {\n      self['workbox:cacheable-response:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * This class allows you to set up rules determining what\n     * status codes and/or headers need to be present in order for a\n     * [`Response`](https://developer.mozilla.org/en-US/docs/Web/API/Response)\n     * to be considered cacheable.\n     *\n     * @memberof workbox-cacheable-response\n     */\n    class CacheableResponse {\n      /**\n       * To construct a new CacheableResponse instance you must provide at least\n       * one of the `config` properties.\n       *\n       * If both `statuses` and `headers` are specified, then both conditions must\n       * be met for the `Response` to be considered cacheable.\n       *\n       * @param {Object} config\n       * @param {Array<number>} [config.statuses] One or more status codes that a\n       * `Response` can have and be considered cacheable.\n       * @param {Object<string,string>} [config.headers] A mapping of header names\n       * and expected values that a `Response` can have and be considered cacheable.\n       * If multiple headers are provided, only one needs to be present.\n       */\n      constructor(config = {}) {\n        {\n          if (!(config.statuses || config.headers)) {\n            throw new WorkboxError('statuses-or-headers-required', {\n              moduleName: 'workbox-cacheable-response',\n              className: 'CacheableResponse',\n              funcName: 'constructor'\n            });\n          }\n          if (config.statuses) {\n            finalAssertExports.isArray(config.statuses, {\n              moduleName: 'workbox-cacheable-response',\n              className: 'CacheableResponse',\n              funcName: 'constructor',\n              paramName: 'config.statuses'\n            });\n          }\n          if (config.headers) {\n            finalAssertExports.isType(config.headers, 'object', {\n              moduleName: 'workbox-cacheable-response',\n              className: 'CacheableResponse',\n              funcName: 'constructor',\n              paramName: 'config.headers'\n            });\n          }\n        }\n        this._statuses = config.statuses;\n        this._headers = config.headers;\n      }\n      /**\n       * Checks a response to see whether it's cacheable or not, based on this\n       * object's configuration.\n       *\n       * @param {Response} response The response whose cacheability is being\n       * checked.\n       * @return {boolean} `true` if the `Response` is cacheable, and `false`\n       * otherwise.\n       */\n      isResponseCacheable(response) {\n        {\n          finalAssertExports.isInstance(response, Response, {\n            moduleName: 'workbox-cacheable-response',\n            className: 'CacheableResponse',\n            funcName: 'isResponseCacheable',\n            paramName: 'response'\n          });\n        }\n        let cacheable = true;\n        if (this._statuses) {\n          cacheable = this._statuses.includes(response.status);\n        }\n        if (this._headers && cacheable) {\n          cacheable = Object.keys(this._headers).some(headerName => {\n            return response.headers.get(headerName) === this._headers[headerName];\n          });\n        }\n        {\n          if (!cacheable) {\n            logger.groupCollapsed(`The request for ` + `'${getFriendlyURL(response.url)}' returned a response that does ` + `not meet the criteria for being cached.`);\n            logger.groupCollapsed(`View cacheability criteria here.`);\n            logger.log(`Cacheable statuses: ` + JSON.stringify(this._statuses));\n            logger.log(`Cacheable headers: ` + JSON.stringify(this._headers, null, 2));\n            logger.groupEnd();\n            const logFriendlyHeaders = {};\n            response.headers.forEach((value, key) => {\n              logFriendlyHeaders[key] = value;\n            });\n            logger.groupCollapsed(`View response status and headers here.`);\n            logger.log(`Response status: ${response.status}`);\n            logger.log(`Response headers: ` + JSON.stringify(logFriendlyHeaders, null, 2));\n            logger.groupEnd();\n            logger.groupCollapsed(`View full response details here.`);\n            logger.log(response.headers);\n            logger.log(response);\n            logger.groupEnd();\n            logger.groupEnd();\n          }\n        }\n        return cacheable;\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A class implementing the `cacheWillUpdate` lifecycle callback. This makes it\n     * easier to add in cacheability checks to requests made via Workbox's built-in\n     * strategies.\n     *\n     * @memberof workbox-cacheable-response\n     */\n    class CacheableResponsePlugin {\n      /**\n       * To construct a new CacheableResponsePlugin instance you must provide at\n       * least one of the `config` properties.\n       *\n       * If both `statuses` and `headers` are specified, then both conditions must\n       * be met for the `Response` to be considered cacheable.\n       *\n       * @param {Object} config\n       * @param {Array<number>} [config.statuses] One or more status codes that a\n       * `Response` can have and be considered cacheable.\n       * @param {Object<string,string>} [config.headers] A mapping of header names\n       * and expected values that a `Response` can have and be considered cacheable.\n       * If multiple headers are provided, only one needs to be present.\n       */\n      constructor(config) {\n        /**\n         * @param {Object} options\n         * @param {Response} options.response\n         * @return {Response|null}\n         * @private\n         */\n        this.cacheWillUpdate = async ({\n          response\n        }) => {\n          if (this._cacheableResponse.isResponseCacheable(response)) {\n            return response;\n          }\n          return null;\n        };\n        this._cacheableResponse = new CacheableResponse(config);\n      }\n    }\n\n    /*\n      Copyright 2020 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    function stripParams(fullURL, ignoreParams) {\n      const strippedURL = new URL(fullURL);\n      for (const param of ignoreParams) {\n        strippedURL.searchParams.delete(param);\n      }\n      return strippedURL.href;\n    }\n    /**\n     * Matches an item in the cache, ignoring specific URL params. This is similar\n     * to the `ignoreSearch` option, but it allows you to ignore just specific\n     * params (while continuing to match on the others).\n     *\n     * @private\n     * @param {Cache} cache\n     * @param {Request} request\n     * @param {Object} matchOptions\n     * @param {Array<string>} ignoreParams\n     * @return {Promise<Response|undefined>}\n     */\n    async function cacheMatchIgnoreParams(cache, request, ignoreParams, matchOptions) {\n      const strippedRequestURL = stripParams(request.url, ignoreParams);\n      // If the request doesn't include any ignored params, match as normal.\n      if (request.url === strippedRequestURL) {\n        return cache.match(request, matchOptions);\n      }\n      // Otherwise, match by comparing keys\n      const keysOptions = Object.assign(Object.assign({}, matchOptions), {\n        ignoreSearch: true\n      });\n      const cacheKeys = await cache.keys(request, keysOptions);\n      for (const cacheKey of cacheKeys) {\n        const strippedCacheKeyURL = stripParams(cacheKey.url, ignoreParams);\n        if (strippedRequestURL === strippedCacheKeyURL) {\n          return cache.match(cacheKey, matchOptions);\n        }\n      }\n      return;\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * The Deferred class composes Promises in a way that allows for them to be\n     * resolved or rejected from outside the constructor. In most cases promises\n     * should be used directly, but Deferreds can be necessary when the logic to\n     * resolve a promise must be separate.\n     *\n     * @private\n     */\n    class Deferred {\n      /**\n       * Creates a promise and exposes its resolve and reject functions as methods.\n       */\n      constructor() {\n        this.promise = new Promise((resolve, reject) => {\n          this.resolve = resolve;\n          this.reject = reject;\n        });\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Runs all of the callback functions, one at a time sequentially, in the order\n     * in which they were registered.\n     *\n     * @memberof workbox-core\n     * @private\n     */\n    async function executeQuotaErrorCallbacks() {\n      {\n        logger.log(`About to run ${quotaErrorCallbacks.size} ` + `callbacks to clean up caches.`);\n      }\n      for (const callback of quotaErrorCallbacks) {\n        await callback();\n        {\n          logger.log(callback, 'is complete.');\n        }\n      }\n      {\n        logger.log('Finished running callbacks.');\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Returns a promise that resolves and the passed number of milliseconds.\n     * This utility is an async/await-friendly version of `setTimeout`.\n     *\n     * @param {number} ms\n     * @return {Promise}\n     * @private\n     */\n    function timeout(ms) {\n      return new Promise(resolve => setTimeout(resolve, ms));\n    }\n\n    // @ts-ignore\n    try {\n      self['workbox:strategies:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    function toRequest(input) {\n      return typeof input === 'string' ? new Request(input) : input;\n    }\n    /**\n     * A class created every time a Strategy instance calls\n     * {@link workbox-strategies.Strategy~handle} or\n     * {@link workbox-strategies.Strategy~handleAll} that wraps all fetch and\n     * cache actions around plugin callbacks and keeps track of when the strategy\n     * is \"done\" (i.e. all added `event.waitUntil()` promises have resolved).\n     *\n     * @memberof workbox-strategies\n     */\n    class StrategyHandler {\n      /**\n       * Creates a new instance associated with the passed strategy and event\n       * that's handling the request.\n       *\n       * The constructor also initializes the state that will be passed to each of\n       * the plugins handling this request.\n       *\n       * @param {workbox-strategies.Strategy} strategy\n       * @param {Object} options\n       * @param {Request|string} options.request A request to run this strategy for.\n       * @param {ExtendableEvent} options.event The event associated with the\n       *     request.\n       * @param {URL} [options.url]\n       * @param {*} [options.params] The return value from the\n       *     {@link workbox-routing~matchCallback} (if applicable).\n       */\n      constructor(strategy, options) {\n        this._cacheKeys = {};\n        /**\n         * The request the strategy is performing (passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * @name request\n         * @instance\n         * @type {Request}\n         * @memberof workbox-strategies.StrategyHandler\n         */\n        /**\n         * The event associated with this request.\n         * @name event\n         * @instance\n         * @type {ExtendableEvent}\n         * @memberof workbox-strategies.StrategyHandler\n         */\n        /**\n         * A `URL` instance of `request.url` (if passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * Note: the `url` param will be present if the strategy was invoked\n         * from a workbox `Route` object.\n         * @name url\n         * @instance\n         * @type {URL|undefined}\n         * @memberof workbox-strategies.StrategyHandler\n         */\n        /**\n         * A `param` value (if passed to the strategy's\n         * `handle()` or `handleAll()` method).\n         * Note: the `param` param will be present if the strategy was invoked\n         * from a workbox `Route` object and the\n         * {@link workbox-routing~matchCallback} returned\n         * a truthy value (it will be that value).\n         * @name params\n         * @instance\n         * @type {*|undefined}\n         * @memberof workbox-strategies.StrategyHandler\n         */\n        {\n          finalAssertExports.isInstance(options.event, ExtendableEvent, {\n            moduleName: 'workbox-strategies',\n            className: 'StrategyHandler',\n            funcName: 'constructor',\n            paramName: 'options.event'\n          });\n        }\n        Object.assign(this, options);\n        this.event = options.event;\n        this._strategy = strategy;\n        this._handlerDeferred = new Deferred();\n        this._extendLifetimePromises = [];\n        // Copy the plugins list (since it's mutable on the strategy),\n        // so any mutations don't affect this handler instance.\n        this._plugins = [...strategy.plugins];\n        this._pluginStateMap = new Map();\n        for (const plugin of this._plugins) {\n          this._pluginStateMap.set(plugin, {});\n        }\n        this.event.waitUntil(this._handlerDeferred.promise);\n      }\n      /**\n       * Fetches a given request (and invokes any applicable plugin callback\n       * methods) using the `fetchOptions` (for non-navigation requests) and\n       * `plugins` defined on the `Strategy` object.\n       *\n       * The following plugin lifecycle methods are invoked when using this method:\n       * - `requestWillFetch()`\n       * - `fetchDidSucceed()`\n       * - `fetchDidFail()`\n       *\n       * @param {Request|string} input The URL or request to fetch.\n       * @return {Promise<Response>}\n       */\n      async fetch(input) {\n        const {\n          event\n        } = this;\n        let request = toRequest(input);\n        if (request.mode === 'navigate' && event instanceof FetchEvent && event.preloadResponse) {\n          const possiblePreloadResponse = await event.preloadResponse;\n          if (possiblePreloadResponse) {\n            {\n              logger.log(`Using a preloaded navigation response for ` + `'${getFriendlyURL(request.url)}'`);\n            }\n            return possiblePreloadResponse;\n          }\n        }\n        // If there is a fetchDidFail plugin, we need to save a clone of the\n        // original request before it's either modified by a requestWillFetch\n        // plugin or before the original request's body is consumed via fetch().\n        const originalRequest = this.hasCallback('fetchDidFail') ? request.clone() : null;\n        try {\n          for (const cb of this.iterateCallbacks('requestWillFetch')) {\n            request = await cb({\n              request: request.clone(),\n              event\n            });\n          }\n        } catch (err) {\n          if (err instanceof Error) {\n            throw new WorkboxError('plugin-error-request-will-fetch', {\n              thrownErrorMessage: err.message\n            });\n          }\n        }\n        // The request can be altered by plugins with `requestWillFetch` making\n        // the original request (most likely from a `fetch` event) different\n        // from the Request we make. Pass both to `fetchDidFail` to aid debugging.\n        const pluginFilteredRequest = request.clone();\n        try {\n          let fetchResponse;\n          // See https://github.com/GoogleChrome/workbox/issues/1796\n          fetchResponse = await fetch(request, request.mode === 'navigate' ? undefined : this._strategy.fetchOptions);\n          if (\"development\" !== 'production') {\n            logger.debug(`Network request for ` + `'${getFriendlyURL(request.url)}' returned a response with ` + `status '${fetchResponse.status}'.`);\n          }\n          for (const callback of this.iterateCallbacks('fetchDidSucceed')) {\n            fetchResponse = await callback({\n              event,\n              request: pluginFilteredRequest,\n              response: fetchResponse\n            });\n          }\n          return fetchResponse;\n        } catch (error) {\n          {\n            logger.log(`Network request for ` + `'${getFriendlyURL(request.url)}' threw an error.`, error);\n          }\n          // `originalRequest` will only exist if a `fetchDidFail` callback\n          // is being used (see above).\n          if (originalRequest) {\n            await this.runCallbacks('fetchDidFail', {\n              error: error,\n              event,\n              originalRequest: originalRequest.clone(),\n              request: pluginFilteredRequest.clone()\n            });\n          }\n          throw error;\n        }\n      }\n      /**\n       * Calls `this.fetch()` and (in the background) runs `this.cachePut()` on\n       * the response generated by `this.fetch()`.\n       *\n       * The call to `this.cachePut()` automatically invokes `this.waitUntil()`,\n       * so you do not have to manually call `waitUntil()` on the event.\n       *\n       * @param {Request|string} input The request or URL to fetch and cache.\n       * @return {Promise<Response>}\n       */\n      async fetchAndCachePut(input) {\n        const response = await this.fetch(input);\n        const responseClone = response.clone();\n        void this.waitUntil(this.cachePut(input, responseClone));\n        return response;\n      }\n      /**\n       * Matches a request from the cache (and invokes any applicable plugin\n       * callback methods) using the `cacheName`, `matchOptions`, and `plugins`\n       * defined on the strategy object.\n       *\n       * The following plugin lifecycle methods are invoked when using this method:\n       * - cacheKeyWillBeUsed()\n       * - cachedResponseWillBeUsed()\n       *\n       * @param {Request|string} key The Request or URL to use as the cache key.\n       * @return {Promise<Response|undefined>} A matching response, if found.\n       */\n      async cacheMatch(key) {\n        const request = toRequest(key);\n        let cachedResponse;\n        const {\n          cacheName,\n          matchOptions\n        } = this._strategy;\n        const effectiveRequest = await this.getCacheKey(request, 'read');\n        const multiMatchOptions = Object.assign(Object.assign({}, matchOptions), {\n          cacheName\n        });\n        cachedResponse = await caches.match(effectiveRequest, multiMatchOptions);\n        {\n          if (cachedResponse) {\n            logger.debug(`Found a cached response in '${cacheName}'.`);\n          } else {\n            logger.debug(`No cached response found in '${cacheName}'.`);\n          }\n        }\n        for (const callback of this.iterateCallbacks('cachedResponseWillBeUsed')) {\n          cachedResponse = (await callback({\n            cacheName,\n            matchOptions,\n            cachedResponse,\n            request: effectiveRequest,\n            event: this.event\n          })) || undefined;\n        }\n        return cachedResponse;\n      }\n      /**\n       * Puts a request/response pair in the cache (and invokes any applicable\n       * plugin callback methods) using the `cacheName` and `plugins` defined on\n       * the strategy object.\n       *\n       * The following plugin lifecycle methods are invoked when using this method:\n       * - cacheKeyWillBeUsed()\n       * - cacheWillUpdate()\n       * - cacheDidUpdate()\n       *\n       * @param {Request|string} key The request or URL to use as the cache key.\n       * @param {Response} response The response to cache.\n       * @return {Promise<boolean>} `false` if a cacheWillUpdate caused the response\n       * not be cached, and `true` otherwise.\n       */\n      async cachePut(key, response) {\n        const request = toRequest(key);\n        // Run in the next task to avoid blocking other cache reads.\n        // https://github.com/w3c/ServiceWorker/issues/1397\n        await timeout(0);\n        const effectiveRequest = await this.getCacheKey(request, 'write');\n        {\n          if (effectiveRequest.method && effectiveRequest.method !== 'GET') {\n            throw new WorkboxError('attempt-to-cache-non-get-request', {\n              url: getFriendlyURL(effectiveRequest.url),\n              method: effectiveRequest.method\n            });\n          }\n          // See https://github.com/GoogleChrome/workbox/issues/2818\n          const vary = response.headers.get('Vary');\n          if (vary) {\n            logger.debug(`The response for ${getFriendlyURL(effectiveRequest.url)} ` + `has a 'Vary: ${vary}' header. ` + `Consider setting the {ignoreVary: true} option on your strategy ` + `to ensure cache matching and deletion works as expected.`);\n          }\n        }\n        if (!response) {\n          {\n            logger.error(`Cannot cache non-existent response for ` + `'${getFriendlyURL(effectiveRequest.url)}'.`);\n          }\n          throw new WorkboxError('cache-put-with-no-response', {\n            url: getFriendlyURL(effectiveRequest.url)\n          });\n        }\n        const responseToCache = await this._ensureResponseSafeToCache(response);\n        if (!responseToCache) {\n          {\n            logger.debug(`Response '${getFriendlyURL(effectiveRequest.url)}' ` + `will not be cached.`, responseToCache);\n          }\n          return false;\n        }\n        const {\n          cacheName,\n          matchOptions\n        } = this._strategy;\n        const cache = await self.caches.open(cacheName);\n        const hasCacheUpdateCallback = this.hasCallback('cacheDidUpdate');\n        const oldResponse = hasCacheUpdateCallback ? await cacheMatchIgnoreParams(\n        // TODO(philipwalton): the `__WB_REVISION__` param is a precaching\n        // feature. Consider into ways to only add this behavior if using\n        // precaching.\n        cache, effectiveRequest.clone(), ['__WB_REVISION__'], matchOptions) : null;\n        {\n          logger.debug(`Updating the '${cacheName}' cache with a new Response ` + `for ${getFriendlyURL(effectiveRequest.url)}.`);\n        }\n        try {\n          await cache.put(effectiveRequest, hasCacheUpdateCallback ? responseToCache.clone() : responseToCache);\n        } catch (error) {\n          if (error instanceof Error) {\n            // See https://developer.mozilla.org/en-US/docs/Web/API/DOMException#exception-QuotaExceededError\n            if (error.name === 'QuotaExceededError') {\n              await executeQuotaErrorCallbacks();\n            }\n            throw error;\n          }\n        }\n        for (const callback of this.iterateCallbacks('cacheDidUpdate')) {\n          await callback({\n            cacheName,\n            oldResponse,\n            newResponse: responseToCache.clone(),\n            request: effectiveRequest,\n            event: this.event\n          });\n        }\n        return true;\n      }\n      /**\n       * Checks the list of plugins for the `cacheKeyWillBeUsed` callback, and\n       * executes any of those callbacks found in sequence. The final `Request`\n       * object returned by the last plugin is treated as the cache key for cache\n       * reads and/or writes. If no `cacheKeyWillBeUsed` plugin callbacks have\n       * been registered, the passed request is returned unmodified\n       *\n       * @param {Request} request\n       * @param {string} mode\n       * @return {Promise<Request>}\n       */\n      async getCacheKey(request, mode) {\n        const key = `${request.url} | ${mode}`;\n        if (!this._cacheKeys[key]) {\n          let effectiveRequest = request;\n          for (const callback of this.iterateCallbacks('cacheKeyWillBeUsed')) {\n            effectiveRequest = toRequest(await callback({\n              mode,\n              request: effectiveRequest,\n              event: this.event,\n              // params has a type any can't change right now.\n              params: this.params // eslint-disable-line\n            }));\n          }\n          this._cacheKeys[key] = effectiveRequest;\n        }\n        return this._cacheKeys[key];\n      }\n      /**\n       * Returns true if the strategy has at least one plugin with the given\n       * callback.\n       *\n       * @param {string} name The name of the callback to check for.\n       * @return {boolean}\n       */\n      hasCallback(name) {\n        for (const plugin of this._strategy.plugins) {\n          if (name in plugin) {\n            return true;\n          }\n        }\n        return false;\n      }\n      /**\n       * Runs all plugin callbacks matching the given name, in order, passing the\n       * given param object (merged ith the current plugin state) as the only\n       * argument.\n       *\n       * Note: since this method runs all plugins, it's not suitable for cases\n       * where the return value of a callback needs to be applied prior to calling\n       * the next callback. See\n       * {@link workbox-strategies.StrategyHandler#iterateCallbacks}\n       * below for how to handle that case.\n       *\n       * @param {string} name The name of the callback to run within each plugin.\n       * @param {Object} param The object to pass as the first (and only) param\n       *     when executing each callback. This object will be merged with the\n       *     current plugin state prior to callback execution.\n       */\n      async runCallbacks(name, param) {\n        for (const callback of this.iterateCallbacks(name)) {\n          // TODO(philipwalton): not sure why `any` is needed. It seems like\n          // this should work with `as WorkboxPluginCallbackParam[C]`.\n          await callback(param);\n        }\n      }\n      /**\n       * Accepts a callback and returns an iterable of matching plugin callbacks,\n       * where each callback is wrapped with the current handler state (i.e. when\n       * you call each callback, whatever object parameter you pass it will\n       * be merged with the plugin's current state).\n       *\n       * @param {string} name The name fo the callback to run\n       * @return {Array<Function>}\n       */\n      *iterateCallbacks(name) {\n        for (const plugin of this._strategy.plugins) {\n          if (typeof plugin[name] === 'function') {\n            const state = this._pluginStateMap.get(plugin);\n            const statefulCallback = param => {\n              const statefulParam = Object.assign(Object.assign({}, param), {\n                state\n              });\n              // TODO(philipwalton): not sure why `any` is needed. It seems like\n              // this should work with `as WorkboxPluginCallbackParam[C]`.\n              return plugin[name](statefulParam);\n            };\n            yield statefulCallback;\n          }\n        }\n      }\n      /**\n       * Adds a promise to the\n       * [extend lifetime promises]{@link https://w3c.github.io/ServiceWorker/#extendableevent-extend-lifetime-promises}\n       * of the event associated with the request being handled (usually a\n       * `FetchEvent`).\n       *\n       * Note: you can await\n       * {@link workbox-strategies.StrategyHandler~doneWaiting}\n       * to know when all added promises have settled.\n       *\n       * @param {Promise} promise A promise to add to the extend lifetime promises\n       *     of the event that triggered the request.\n       */\n      waitUntil(promise) {\n        this._extendLifetimePromises.push(promise);\n        return promise;\n      }\n      /**\n       * Returns a promise that resolves once all promises passed to\n       * {@link workbox-strategies.StrategyHandler~waitUntil}\n       * have settled.\n       *\n       * Note: any work done after `doneWaiting()` settles should be manually\n       * passed to an event's `waitUntil()` method (not this handler's\n       * `waitUntil()` method), otherwise the service worker thread may be killed\n       * prior to your work completing.\n       */\n      async doneWaiting() {\n        while (this._extendLifetimePromises.length) {\n          const promises = this._extendLifetimePromises.splice(0);\n          const result = await Promise.allSettled(promises);\n          const firstRejection = result.find(i => i.status === 'rejected');\n          if (firstRejection) {\n            throw firstRejection.reason;\n          }\n        }\n      }\n      /**\n       * Stops running the strategy and immediately resolves any pending\n       * `waitUntil()` promises.\n       */\n      destroy() {\n        this._handlerDeferred.resolve(null);\n      }\n      /**\n       * This method will call cacheWillUpdate on the available plugins (or use\n       * status === 200) to determine if the Response is safe and valid to cache.\n       *\n       * @param {Request} options.request\n       * @param {Response} options.response\n       * @return {Promise<Response|undefined>}\n       *\n       * @private\n       */\n      async _ensureResponseSafeToCache(response) {\n        let responseToCache = response;\n        let pluginsUsed = false;\n        for (const callback of this.iterateCallbacks('cacheWillUpdate')) {\n          responseToCache = (await callback({\n            request: this.request,\n            response: responseToCache,\n            event: this.event\n          })) || undefined;\n          pluginsUsed = true;\n          if (!responseToCache) {\n            break;\n          }\n        }\n        if (!pluginsUsed) {\n          if (responseToCache && responseToCache.status !== 200) {\n            responseToCache = undefined;\n          }\n          {\n            if (responseToCache) {\n              if (responseToCache.status !== 200) {\n                if (responseToCache.status === 0) {\n                  logger.warn(`The response for '${this.request.url}' ` + `is an opaque response. The caching strategy that you're ` + `using will not cache opaque responses by default.`);\n                } else {\n                  logger.debug(`The response for '${this.request.url}' ` + `returned a status code of '${response.status}' and won't ` + `be cached as a result.`);\n                }\n              }\n            }\n          }\n        }\n        return responseToCache;\n      }\n    }\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * An abstract base class that all other strategy classes must extend from:\n     *\n     * @memberof workbox-strategies\n     */\n    class Strategy {\n      /**\n       * Creates a new instance of the strategy and sets all documented option\n       * properties as public instance properties.\n       *\n       * Note: if a custom strategy class extends the base Strategy class and does\n       * not need more than these properties, it does not need to define its own\n       * constructor.\n       *\n       * @param {Object} [options]\n       * @param {string} [options.cacheName] Cache name to store and retrieve\n       * requests. Defaults to the cache names provided by\n       * {@link workbox-core.cacheNames}.\n       * @param {Array<Object>} [options.plugins] [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n       * to use in conjunction with this caching strategy.\n       * @param {Object} [options.fetchOptions] Values passed along to the\n       * [`init`](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters)\n       * of [non-navigation](https://github.com/GoogleChrome/workbox/issues/1796)\n       * `fetch()` requests made by this strategy.\n       * @param {Object} [options.matchOptions] The\n       * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n       * for any `cache.match()` or `cache.put()` calls made by this strategy.\n       */\n      constructor(options = {}) {\n        /**\n         * Cache name to store and retrieve\n         * requests. Defaults to the cache names provided by\n         * {@link workbox-core.cacheNames}.\n         *\n         * @type {string}\n         */\n        this.cacheName = cacheNames.getRuntimeName(options.cacheName);\n        /**\n         * The list\n         * [Plugins]{@link https://developers.google.com/web/tools/workbox/guides/using-plugins}\n         * used by this strategy.\n         *\n         * @type {Array<Object>}\n         */\n        this.plugins = options.plugins || [];\n        /**\n         * Values passed along to the\n         * [`init`]{@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters}\n         * of all fetch() requests made by this strategy.\n         *\n         * @type {Object}\n         */\n        this.fetchOptions = options.fetchOptions;\n        /**\n         * The\n         * [`CacheQueryOptions`]{@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions}\n         * for any `cache.match()` or `cache.put()` calls made by this strategy.\n         *\n         * @type {Object}\n         */\n        this.matchOptions = options.matchOptions;\n      }\n      /**\n       * Perform a request strategy and returns a `Promise` that will resolve with\n       * a `Response`, invoking all relevant plugin callbacks.\n       *\n       * When a strategy instance is registered with a Workbox\n       * {@link workbox-routing.Route}, this method is automatically\n       * called when the route matches.\n       *\n       * Alternatively, this method can be used in a standalone `FetchEvent`\n       * listener by passing it to `event.respondWith()`.\n       *\n       * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n       *     properties listed below.\n       * @param {Request|string} options.request A request to run this strategy for.\n       * @param {ExtendableEvent} options.event The event associated with the\n       *     request.\n       * @param {URL} [options.url]\n       * @param {*} [options.params]\n       */\n      handle(options) {\n        const [responseDone] = this.handleAll(options);\n        return responseDone;\n      }\n      /**\n       * Similar to {@link workbox-strategies.Strategy~handle}, but\n       * instead of just returning a `Promise` that resolves to a `Response` it\n       * it will return an tuple of `[response, done]` promises, where the former\n       * (`response`) is equivalent to what `handle()` returns, and the latter is a\n       * Promise that will resolve once any promises that were added to\n       * `event.waitUntil()` as part of performing the strategy have completed.\n       *\n       * You can await the `done` promise to ensure any extra work performed by\n       * the strategy (usually caching responses) completes successfully.\n       *\n       * @param {FetchEvent|Object} options A `FetchEvent` or an object with the\n       *     properties listed below.\n       * @param {Request|string} options.request A request to run this strategy for.\n       * @param {ExtendableEvent} options.event The event associated with the\n       *     request.\n       * @param {URL} [options.url]\n       * @param {*} [options.params]\n       * @return {Array<Promise>} A tuple of [response, done]\n       *     promises that can be used to determine when the response resolves as\n       *     well as when the handler has completed all its work.\n       */\n      handleAll(options) {\n        // Allow for flexible options to be passed.\n        if (options instanceof FetchEvent) {\n          options = {\n            event: options,\n            request: options.request\n          };\n        }\n        const event = options.event;\n        const request = typeof options.request === 'string' ? new Request(options.request) : options.request;\n        const params = 'params' in options ? options.params : undefined;\n        const handler = new StrategyHandler(this, {\n          event,\n          request,\n          params\n        });\n        const responseDone = this._getResponse(handler, request, event);\n        const handlerDone = this._awaitComplete(responseDone, handler, request, event);\n        // Return an array of promises, suitable for use with Promise.all().\n        return [responseDone, handlerDone];\n      }\n      async _getResponse(handler, request, event) {\n        await handler.runCallbacks('handlerWillStart', {\n          event,\n          request\n        });\n        let response = undefined;\n        try {\n          response = await this._handle(request, handler);\n          // The \"official\" Strategy subclasses all throw this error automatically,\n          // but in case a third-party Strategy doesn't, ensure that we have a\n          // consistent failure when there's no response or an error response.\n          if (!response || response.type === 'error') {\n            throw new WorkboxError('no-response', {\n              url: request.url\n            });\n          }\n        } catch (error) {\n          if (error instanceof Error) {\n            for (const callback of handler.iterateCallbacks('handlerDidError')) {\n              response = await callback({\n                error,\n                event,\n                request\n              });\n              if (response) {\n                break;\n              }\n            }\n          }\n          if (!response) {\n            throw error;\n          } else {\n            logger.log(`While responding to '${getFriendlyURL(request.url)}', ` + `an ${error instanceof Error ? error.toString() : ''} error occurred. Using a fallback response provided by ` + `a handlerDidError plugin.`);\n          }\n        }\n        for (const callback of handler.iterateCallbacks('handlerWillRespond')) {\n          response = await callback({\n            event,\n            request,\n            response\n          });\n        }\n        return response;\n      }\n      async _awaitComplete(responseDone, handler, request, event) {\n        let response;\n        let error;\n        try {\n          response = await responseDone;\n        } catch (error) {\n          // Ignore errors, as response errors should be caught via the `response`\n          // promise above. The `done` promise will only throw for errors in\n          // promises passed to `handler.waitUntil()`.\n        }\n        try {\n          await handler.runCallbacks('handlerDidRespond', {\n            event,\n            request,\n            response\n          });\n          await handler.doneWaiting();\n        } catch (waitUntilError) {\n          if (waitUntilError instanceof Error) {\n            error = waitUntilError;\n          }\n        }\n        await handler.runCallbacks('handlerDidComplete', {\n          event,\n          request,\n          response,\n          error: error\n        });\n        handler.destroy();\n        if (error) {\n          throw error;\n        }\n      }\n    }\n    /**\n     * Classes extending the `Strategy` based class should implement this method,\n     * and leverage the {@link workbox-strategies.StrategyHandler}\n     * arg to perform all fetching and cache logic, which will ensure all relevant\n     * cache, cache options, fetch options and plugins are used (per the current\n     * strategy instance).\n     *\n     * @name _handle\n     * @instance\n     * @abstract\n     * @function\n     * @param {Request} request\n     * @param {workbox-strategies.StrategyHandler} handler\n     * @return {Promise<Response>}\n     *\n     * @memberof workbox-strategies.Strategy\n     */\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const messages = {\n      strategyStart: (strategyName, request) => `Using ${strategyName} to respond to '${getFriendlyURL(request.url)}'`,\n      printFinalResponse: response => {\n        if (response) {\n          logger.groupCollapsed(`View the final response here.`);\n          logger.log(response || '[No response returned]');\n          logger.groupEnd();\n        }\n      }\n    };\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * An implementation of a [cache-first](https://developer.chrome.com/docs/workbox/caching-strategies-overview/#cache-first-falling-back-to-network)\n     * request strategy.\n     *\n     * A cache first strategy is useful for assets that have been revisioned,\n     * such as URLs like `/styles/example.a8f5f1.css`, since they\n     * can be cached for long periods of time.\n     *\n     * If the network request fails, and there is no cache match, this will throw\n     * a `WorkboxError` exception.\n     *\n     * @extends workbox-strategies.Strategy\n     * @memberof workbox-strategies\n     */\n    class CacheFirst extends Strategy {\n      /**\n       * @private\n       * @param {Request|string} request A request to run this strategy for.\n       * @param {workbox-strategies.StrategyHandler} handler The event that\n       *     triggered the request.\n       * @return {Promise<Response>}\n       */\n      async _handle(request, handler) {\n        const logs = [];\n        {\n          finalAssertExports.isInstance(request, Request, {\n            moduleName: 'workbox-strategies',\n            className: this.constructor.name,\n            funcName: 'makeRequest',\n            paramName: 'request'\n          });\n        }\n        let response = await handler.cacheMatch(request);\n        let error = undefined;\n        if (!response) {\n          {\n            logs.push(`No response found in the '${this.cacheName}' cache. ` + `Will respond with a network request.`);\n          }\n          try {\n            response = await handler.fetchAndCachePut(request);\n          } catch (err) {\n            if (err instanceof Error) {\n              error = err;\n            }\n          }\n          {\n            if (response) {\n              logs.push(`Got response from network.`);\n            } else {\n              logs.push(`Unable to get a response from the network.`);\n            }\n          }\n        } else {\n          {\n            logs.push(`Found a cached response in the '${this.cacheName}' cache.`);\n          }\n        }\n        {\n          logger.groupCollapsed(messages.strategyStart(this.constructor.name, request));\n          for (const log of logs) {\n            logger.log(log);\n          }\n          messages.printFinalResponse(response);\n          logger.groupEnd();\n        }\n        if (!response) {\n          throw new WorkboxError('no-response', {\n            url: request.url,\n            error\n          });\n        }\n        return response;\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Claim any currently available clients once the service worker\n     * becomes active. This is normally used in conjunction with `skipWaiting()`.\n     *\n     * @memberof workbox-core\n     */\n    function clientsClaim() {\n      self.addEventListener('activate', () => self.clients.claim());\n    }\n\n    /*\n      Copyright 2020 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A utility method that makes it easier to use `event.waitUntil` with\n     * async functions and return the result.\n     *\n     * @param {ExtendableEvent} event\n     * @param {Function} asyncFn\n     * @return {Function}\n     * @private\n     */\n    function waitUntil(event, asyncFn) {\n      const returnPromise = asyncFn();\n      event.waitUntil(returnPromise);\n      return returnPromise;\n    }\n\n    // @ts-ignore\n    try {\n      self['workbox:precaching:7.3.0'] && _();\n    } catch (e) {}\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    // Name of the search parameter used to store revision info.\n    const REVISION_SEARCH_PARAM = '__WB_REVISION__';\n    /**\n     * Converts a manifest entry into a versioned URL suitable for precaching.\n     *\n     * @param {Object|string} entry\n     * @return {string} A URL with versioning info.\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    function createCacheKey(entry) {\n      if (!entry) {\n        throw new WorkboxError('add-to-cache-list-unexpected-type', {\n          entry\n        });\n      }\n      // If a precache manifest entry is a string, it's assumed to be a versioned\n      // URL, like '/app.abcd1234.js'. Return as-is.\n      if (typeof entry === 'string') {\n        const urlObject = new URL(entry, location.href);\n        return {\n          cacheKey: urlObject.href,\n          url: urlObject.href\n        };\n      }\n      const {\n        revision,\n        url\n      } = entry;\n      if (!url) {\n        throw new WorkboxError('add-to-cache-list-unexpected-type', {\n          entry\n        });\n      }\n      // If there's just a URL and no revision, then it's also assumed to be a\n      // versioned URL.\n      if (!revision) {\n        const urlObject = new URL(url, location.href);\n        return {\n          cacheKey: urlObject.href,\n          url: urlObject.href\n        };\n      }\n      // Otherwise, construct a properly versioned URL using the custom Workbox\n      // search parameter along with the revision info.\n      const cacheKeyURL = new URL(url, location.href);\n      const originalURL = new URL(url, location.href);\n      cacheKeyURL.searchParams.set(REVISION_SEARCH_PARAM, revision);\n      return {\n        cacheKey: cacheKeyURL.href,\n        url: originalURL.href\n      };\n    }\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A plugin, designed to be used with PrecacheController, to determine the\n     * of assets that were updated (or not updated) during the install event.\n     *\n     * @private\n     */\n    class PrecacheInstallReportPlugin {\n      constructor() {\n        this.updatedURLs = [];\n        this.notUpdatedURLs = [];\n        this.handlerWillStart = async ({\n          request,\n          state\n        }) => {\n          // TODO: `state` should never be undefined...\n          if (state) {\n            state.originalRequest = request;\n          }\n        };\n        this.cachedResponseWillBeUsed = async ({\n          event,\n          state,\n          cachedResponse\n        }) => {\n          if (event.type === 'install') {\n            if (state && state.originalRequest && state.originalRequest instanceof Request) {\n              // TODO: `state` should never be undefined...\n              const url = state.originalRequest.url;\n              if (cachedResponse) {\n                this.notUpdatedURLs.push(url);\n              } else {\n                this.updatedURLs.push(url);\n              }\n            }\n          }\n          return cachedResponse;\n        };\n      }\n    }\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A plugin, designed to be used with PrecacheController, to translate URLs into\n     * the corresponding cache key, based on the current revision info.\n     *\n     * @private\n     */\n    class PrecacheCacheKeyPlugin {\n      constructor({\n        precacheController\n      }) {\n        this.cacheKeyWillBeUsed = async ({\n          request,\n          params\n        }) => {\n          // Params is type any, can't change right now.\n          /* eslint-disable */\n          const cacheKey = (params === null || params === void 0 ? void 0 : params.cacheKey) || this._precacheController.getCacheKeyForURL(request.url);\n          /* eslint-enable */\n          return cacheKey ? new Request(cacheKey, {\n            headers: request.headers\n          }) : request;\n        };\n        this._precacheController = precacheController;\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * @param {string} groupTitle\n     * @param {Array<string>} deletedURLs\n     *\n     * @private\n     */\n    const logGroup = (groupTitle, deletedURLs) => {\n      logger.groupCollapsed(groupTitle);\n      for (const url of deletedURLs) {\n        logger.log(url);\n      }\n      logger.groupEnd();\n    };\n    /**\n     * @param {Array<string>} deletedURLs\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    function printCleanupDetails(deletedURLs) {\n      const deletionCount = deletedURLs.length;\n      if (deletionCount > 0) {\n        logger.groupCollapsed(`During precaching cleanup, ` + `${deletionCount} cached ` + `request${deletionCount === 1 ? ' was' : 's were'} deleted.`);\n        logGroup('Deleted Cache Requests', deletedURLs);\n        logger.groupEnd();\n      }\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * @param {string} groupTitle\n     * @param {Array<string>} urls\n     *\n     * @private\n     */\n    function _nestedGroup(groupTitle, urls) {\n      if (urls.length === 0) {\n        return;\n      }\n      logger.groupCollapsed(groupTitle);\n      for (const url of urls) {\n        logger.log(url);\n      }\n      logger.groupEnd();\n    }\n    /**\n     * @param {Array<string>} urlsToPrecache\n     * @param {Array<string>} urlsAlreadyPrecached\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    function printInstallDetails(urlsToPrecache, urlsAlreadyPrecached) {\n      const precachedCount = urlsToPrecache.length;\n      const alreadyPrecachedCount = urlsAlreadyPrecached.length;\n      if (precachedCount || alreadyPrecachedCount) {\n        let message = `Precaching ${precachedCount} file${precachedCount === 1 ? '' : 's'}.`;\n        if (alreadyPrecachedCount > 0) {\n          message += ` ${alreadyPrecachedCount} ` + `file${alreadyPrecachedCount === 1 ? ' is' : 's are'} already cached.`;\n        }\n        logger.groupCollapsed(message);\n        _nestedGroup(`View newly precached URLs.`, urlsToPrecache);\n        _nestedGroup(`View previously precached URLs.`, urlsAlreadyPrecached);\n        logger.groupEnd();\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    let supportStatus;\n    /**\n     * A utility function that determines whether the current browser supports\n     * constructing a new `Response` from a `response.body` stream.\n     *\n     * @return {boolean} `true`, if the current browser can successfully\n     *     construct a `Response` from a `response.body` stream, `false` otherwise.\n     *\n     * @private\n     */\n    function canConstructResponseFromBodyStream() {\n      if (supportStatus === undefined) {\n        const testResponse = new Response('');\n        if ('body' in testResponse) {\n          try {\n            new Response(testResponse.body);\n            supportStatus = true;\n          } catch (error) {\n            supportStatus = false;\n          }\n        }\n        supportStatus = false;\n      }\n      return supportStatus;\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Allows developers to copy a response and modify its `headers`, `status`,\n     * or `statusText` values (the values settable via a\n     * [`ResponseInit`]{@link https://developer.mozilla.org/en-US/docs/Web/API/Response/Response#Syntax}\n     * object in the constructor).\n     * To modify these values, pass a function as the second argument. That\n     * function will be invoked with a single object with the response properties\n     * `{headers, status, statusText}`. The return value of this function will\n     * be used as the `ResponseInit` for the new `Response`. To change the values\n     * either modify the passed parameter(s) and return it, or return a totally\n     * new object.\n     *\n     * This method is intentionally limited to same-origin responses, regardless of\n     * whether CORS was used or not.\n     *\n     * @param {Response} response\n     * @param {Function} modifier\n     * @memberof workbox-core\n     */\n    async function copyResponse(response, modifier) {\n      let origin = null;\n      // If response.url isn't set, assume it's cross-origin and keep origin null.\n      if (response.url) {\n        const responseURL = new URL(response.url);\n        origin = responseURL.origin;\n      }\n      if (origin !== self.location.origin) {\n        throw new WorkboxError('cross-origin-copy-response', {\n          origin\n        });\n      }\n      const clonedResponse = response.clone();\n      // Create a fresh `ResponseInit` object by cloning the headers.\n      const responseInit = {\n        headers: new Headers(clonedResponse.headers),\n        status: clonedResponse.status,\n        statusText: clonedResponse.statusText\n      };\n      // Apply any user modifications.\n      const modifiedResponseInit = modifier ? modifier(responseInit) : responseInit;\n      // Create the new response from the body stream and `ResponseInit`\n      // modifications. Note: not all browsers support the Response.body stream,\n      // so fall back to reading the entire body into memory as a blob.\n      const body = canConstructResponseFromBodyStream() ? clonedResponse.body : await clonedResponse.blob();\n      return new Response(body, modifiedResponseInit);\n    }\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A {@link workbox-strategies.Strategy} implementation\n     * specifically designed to work with\n     * {@link workbox-precaching.PrecacheController}\n     * to both cache and fetch precached assets.\n     *\n     * Note: an instance of this class is created automatically when creating a\n     * `PrecacheController`; it's generally not necessary to create this yourself.\n     *\n     * @extends workbox-strategies.Strategy\n     * @memberof workbox-precaching\n     */\n    class PrecacheStrategy extends Strategy {\n      /**\n       *\n       * @param {Object} [options]\n       * @param {string} [options.cacheName] Cache name to store and retrieve\n       * requests. Defaults to the cache names provided by\n       * {@link workbox-core.cacheNames}.\n       * @param {Array<Object>} [options.plugins] {@link https://developers.google.com/web/tools/workbox/guides/using-plugins|Plugins}\n       * to use in conjunction with this caching strategy.\n       * @param {Object} [options.fetchOptions] Values passed along to the\n       * {@link https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/fetch#Parameters|init}\n       * of all fetch() requests made by this strategy.\n       * @param {Object} [options.matchOptions] The\n       * {@link https://w3c.github.io/ServiceWorker/#dictdef-cachequeryoptions|CacheQueryOptions}\n       * for any `cache.match()` or `cache.put()` calls made by this strategy.\n       * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n       * get the response from the network if there's a precache miss.\n       */\n      constructor(options = {}) {\n        options.cacheName = cacheNames.getPrecacheName(options.cacheName);\n        super(options);\n        this._fallbackToNetwork = options.fallbackToNetwork === false ? false : true;\n        // Redirected responses cannot be used to satisfy a navigation request, so\n        // any redirected response must be \"copied\" rather than cloned, so the new\n        // response doesn't contain the `redirected` flag. See:\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=669363&desc=2#c1\n        this.plugins.push(PrecacheStrategy.copyRedirectedCacheableResponsesPlugin);\n      }\n      /**\n       * @private\n       * @param {Request|string} request A request to run this strategy for.\n       * @param {workbox-strategies.StrategyHandler} handler The event that\n       *     triggered the request.\n       * @return {Promise<Response>}\n       */\n      async _handle(request, handler) {\n        const response = await handler.cacheMatch(request);\n        if (response) {\n          return response;\n        }\n        // If this is an `install` event for an entry that isn't already cached,\n        // then populate the cache.\n        if (handler.event && handler.event.type === 'install') {\n          return await this._handleInstall(request, handler);\n        }\n        // Getting here means something went wrong. An entry that should have been\n        // precached wasn't found in the cache.\n        return await this._handleFetch(request, handler);\n      }\n      async _handleFetch(request, handler) {\n        let response;\n        const params = handler.params || {};\n        // Fall back to the network if we're configured to do so.\n        if (this._fallbackToNetwork) {\n          {\n            logger.warn(`The precached response for ` + `${getFriendlyURL(request.url)} in ${this.cacheName} was not ` + `found. Falling back to the network.`);\n          }\n          const integrityInManifest = params.integrity;\n          const integrityInRequest = request.integrity;\n          const noIntegrityConflict = !integrityInRequest || integrityInRequest === integrityInManifest;\n          // Do not add integrity if the original request is no-cors\n          // See https://github.com/GoogleChrome/workbox/issues/3096\n          response = await handler.fetch(new Request(request, {\n            integrity: request.mode !== 'no-cors' ? integrityInRequest || integrityInManifest : undefined\n          }));\n          // It's only \"safe\" to repair the cache if we're using SRI to guarantee\n          // that the response matches the precache manifest's expectations,\n          // and there's either a) no integrity property in the incoming request\n          // or b) there is an integrity, and it matches the precache manifest.\n          // See https://github.com/GoogleChrome/workbox/issues/2858\n          // Also if the original request users no-cors we don't use integrity.\n          // See https://github.com/GoogleChrome/workbox/issues/3096\n          if (integrityInManifest && noIntegrityConflict && request.mode !== 'no-cors') {\n            this._useDefaultCacheabilityPluginIfNeeded();\n            const wasCached = await handler.cachePut(request, response.clone());\n            {\n              if (wasCached) {\n                logger.log(`A response for ${getFriendlyURL(request.url)} ` + `was used to \"repair\" the precache.`);\n              }\n            }\n          }\n        } else {\n          // This shouldn't normally happen, but there are edge cases:\n          // https://github.com/GoogleChrome/workbox/issues/1441\n          throw new WorkboxError('missing-precache-entry', {\n            cacheName: this.cacheName,\n            url: request.url\n          });\n        }\n        {\n          const cacheKey = params.cacheKey || (await handler.getCacheKey(request, 'read'));\n          // Workbox is going to handle the route.\n          // print the routing details to the console.\n          logger.groupCollapsed(`Precaching is responding to: ` + getFriendlyURL(request.url));\n          logger.log(`Serving the precached url: ${getFriendlyURL(cacheKey instanceof Request ? cacheKey.url : cacheKey)}`);\n          logger.groupCollapsed(`View request details here.`);\n          logger.log(request);\n          logger.groupEnd();\n          logger.groupCollapsed(`View response details here.`);\n          logger.log(response);\n          logger.groupEnd();\n          logger.groupEnd();\n        }\n        return response;\n      }\n      async _handleInstall(request, handler) {\n        this._useDefaultCacheabilityPluginIfNeeded();\n        const response = await handler.fetch(request);\n        // Make sure we defer cachePut() until after we know the response\n        // should be cached; see https://github.com/GoogleChrome/workbox/issues/2737\n        const wasCached = await handler.cachePut(request, response.clone());\n        if (!wasCached) {\n          // Throwing here will lead to the `install` handler failing, which\n          // we want to do if *any* of the responses aren't safe to cache.\n          throw new WorkboxError('bad-precaching-response', {\n            url: request.url,\n            status: response.status\n          });\n        }\n        return response;\n      }\n      /**\n       * This method is complex, as there a number of things to account for:\n       *\n       * The `plugins` array can be set at construction, and/or it might be added to\n       * to at any time before the strategy is used.\n       *\n       * At the time the strategy is used (i.e. during an `install` event), there\n       * needs to be at least one plugin that implements `cacheWillUpdate` in the\n       * array, other than `copyRedirectedCacheableResponsesPlugin`.\n       *\n       * - If this method is called and there are no suitable `cacheWillUpdate`\n       * plugins, we need to add `defaultPrecacheCacheabilityPlugin`.\n       *\n       * - If this method is called and there is exactly one `cacheWillUpdate`, then\n       * we don't have to do anything (this might be a previously added\n       * `defaultPrecacheCacheabilityPlugin`, or it might be a custom plugin).\n       *\n       * - If this method is called and there is more than one `cacheWillUpdate`,\n       * then we need to check if one is `defaultPrecacheCacheabilityPlugin`. If so,\n       * we need to remove it. (This situation is unlikely, but it could happen if\n       * the strategy is used multiple times, the first without a `cacheWillUpdate`,\n       * and then later on after manually adding a custom `cacheWillUpdate`.)\n       *\n       * See https://github.com/GoogleChrome/workbox/issues/2737 for more context.\n       *\n       * @private\n       */\n      _useDefaultCacheabilityPluginIfNeeded() {\n        let defaultPluginIndex = null;\n        let cacheWillUpdatePluginCount = 0;\n        for (const [index, plugin] of this.plugins.entries()) {\n          // Ignore the copy redirected plugin when determining what to do.\n          if (plugin === PrecacheStrategy.copyRedirectedCacheableResponsesPlugin) {\n            continue;\n          }\n          // Save the default plugin's index, in case it needs to be removed.\n          if (plugin === PrecacheStrategy.defaultPrecacheCacheabilityPlugin) {\n            defaultPluginIndex = index;\n          }\n          if (plugin.cacheWillUpdate) {\n            cacheWillUpdatePluginCount++;\n          }\n        }\n        if (cacheWillUpdatePluginCount === 0) {\n          this.plugins.push(PrecacheStrategy.defaultPrecacheCacheabilityPlugin);\n        } else if (cacheWillUpdatePluginCount > 1 && defaultPluginIndex !== null) {\n          // Only remove the default plugin; multiple custom plugins are allowed.\n          this.plugins.splice(defaultPluginIndex, 1);\n        }\n        // Nothing needs to be done if cacheWillUpdatePluginCount is 1\n      }\n    }\n    PrecacheStrategy.defaultPrecacheCacheabilityPlugin = {\n      async cacheWillUpdate({\n        response\n      }) {\n        if (!response || response.status >= 400) {\n          return null;\n        }\n        return response;\n      }\n    };\n    PrecacheStrategy.copyRedirectedCacheableResponsesPlugin = {\n      async cacheWillUpdate({\n        response\n      }) {\n        return response.redirected ? await copyResponse(response) : response;\n      }\n    };\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Performs efficient precaching of assets.\n     *\n     * @memberof workbox-precaching\n     */\n    class PrecacheController {\n      /**\n       * Create a new PrecacheController.\n       *\n       * @param {Object} [options]\n       * @param {string} [options.cacheName] The cache to use for precaching.\n       * @param {string} [options.plugins] Plugins to use when precaching as well\n       * as responding to fetch events for precached assets.\n       * @param {boolean} [options.fallbackToNetwork=true] Whether to attempt to\n       * get the response from the network if there's a precache miss.\n       */\n      constructor({\n        cacheName,\n        plugins = [],\n        fallbackToNetwork = true\n      } = {}) {\n        this._urlsToCacheKeys = new Map();\n        this._urlsToCacheModes = new Map();\n        this._cacheKeysToIntegrities = new Map();\n        this._strategy = new PrecacheStrategy({\n          cacheName: cacheNames.getPrecacheName(cacheName),\n          plugins: [...plugins, new PrecacheCacheKeyPlugin({\n            precacheController: this\n          })],\n          fallbackToNetwork\n        });\n        // Bind the install and activate methods to the instance.\n        this.install = this.install.bind(this);\n        this.activate = this.activate.bind(this);\n      }\n      /**\n       * @type {workbox-precaching.PrecacheStrategy} The strategy created by this controller and\n       * used to cache assets and respond to fetch events.\n       */\n      get strategy() {\n        return this._strategy;\n      }\n      /**\n       * Adds items to the precache list, removing any duplicates and\n       * stores the files in the\n       * {@link workbox-core.cacheNames|\"precache cache\"} when the service\n       * worker installs.\n       *\n       * This method can be called multiple times.\n       *\n       * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n       */\n      precache(entries) {\n        this.addToCacheList(entries);\n        if (!this._installAndActiveListenersAdded) {\n          self.addEventListener('install', this.install);\n          self.addEventListener('activate', this.activate);\n          this._installAndActiveListenersAdded = true;\n        }\n      }\n      /**\n       * This method will add items to the precache list, removing duplicates\n       * and ensuring the information is valid.\n       *\n       * @param {Array<workbox-precaching.PrecacheController.PrecacheEntry|string>} entries\n       *     Array of entries to precache.\n       */\n      addToCacheList(entries) {\n        {\n          finalAssertExports.isArray(entries, {\n            moduleName: 'workbox-precaching',\n            className: 'PrecacheController',\n            funcName: 'addToCacheList',\n            paramName: 'entries'\n          });\n        }\n        const urlsToWarnAbout = [];\n        for (const entry of entries) {\n          // See https://github.com/GoogleChrome/workbox/issues/2259\n          if (typeof entry === 'string') {\n            urlsToWarnAbout.push(entry);\n          } else if (entry && entry.revision === undefined) {\n            urlsToWarnAbout.push(entry.url);\n          }\n          const {\n            cacheKey,\n            url\n          } = createCacheKey(entry);\n          const cacheMode = typeof entry !== 'string' && entry.revision ? 'reload' : 'default';\n          if (this._urlsToCacheKeys.has(url) && this._urlsToCacheKeys.get(url) !== cacheKey) {\n            throw new WorkboxError('add-to-cache-list-conflicting-entries', {\n              firstEntry: this._urlsToCacheKeys.get(url),\n              secondEntry: cacheKey\n            });\n          }\n          if (typeof entry !== 'string' && entry.integrity) {\n            if (this._cacheKeysToIntegrities.has(cacheKey) && this._cacheKeysToIntegrities.get(cacheKey) !== entry.integrity) {\n              throw new WorkboxError('add-to-cache-list-conflicting-integrities', {\n                url\n              });\n            }\n            this._cacheKeysToIntegrities.set(cacheKey, entry.integrity);\n          }\n          this._urlsToCacheKeys.set(url, cacheKey);\n          this._urlsToCacheModes.set(url, cacheMode);\n          if (urlsToWarnAbout.length > 0) {\n            const warningMessage = `Workbox is precaching URLs without revision ` + `info: ${urlsToWarnAbout.join(', ')}\\nThis is generally NOT safe. ` + `Learn more at https://bit.ly/wb-precache`;\n            {\n              logger.warn(warningMessage);\n            }\n          }\n        }\n      }\n      /**\n       * Precaches new and updated assets. Call this method from the service worker\n       * install event.\n       *\n       * Note: this method calls `event.waitUntil()` for you, so you do not need\n       * to call it yourself in your event handlers.\n       *\n       * @param {ExtendableEvent} event\n       * @return {Promise<workbox-precaching.InstallResult>}\n       */\n      install(event) {\n        // waitUntil returns Promise<any>\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return waitUntil(event, async () => {\n          const installReportPlugin = new PrecacheInstallReportPlugin();\n          this.strategy.plugins.push(installReportPlugin);\n          // Cache entries one at a time.\n          // See https://github.com/GoogleChrome/workbox/issues/2528\n          for (const [url, cacheKey] of this._urlsToCacheKeys) {\n            const integrity = this._cacheKeysToIntegrities.get(cacheKey);\n            const cacheMode = this._urlsToCacheModes.get(url);\n            const request = new Request(url, {\n              integrity,\n              cache: cacheMode,\n              credentials: 'same-origin'\n            });\n            await Promise.all(this.strategy.handleAll({\n              params: {\n                cacheKey\n              },\n              request,\n              event\n            }));\n          }\n          const {\n            updatedURLs,\n            notUpdatedURLs\n          } = installReportPlugin;\n          {\n            printInstallDetails(updatedURLs, notUpdatedURLs);\n          }\n          return {\n            updatedURLs,\n            notUpdatedURLs\n          };\n        });\n      }\n      /**\n       * Deletes assets that are no longer present in the current precache manifest.\n       * Call this method from the service worker activate event.\n       *\n       * Note: this method calls `event.waitUntil()` for you, so you do not need\n       * to call it yourself in your event handlers.\n       *\n       * @param {ExtendableEvent} event\n       * @return {Promise<workbox-precaching.CleanupResult>}\n       */\n      activate(event) {\n        // waitUntil returns Promise<any>\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n        return waitUntil(event, async () => {\n          const cache = await self.caches.open(this.strategy.cacheName);\n          const currentlyCachedRequests = await cache.keys();\n          const expectedCacheKeys = new Set(this._urlsToCacheKeys.values());\n          const deletedURLs = [];\n          for (const request of currentlyCachedRequests) {\n            if (!expectedCacheKeys.has(request.url)) {\n              await cache.delete(request);\n              deletedURLs.push(request.url);\n            }\n          }\n          {\n            printCleanupDetails(deletedURLs);\n          }\n          return {\n            deletedURLs\n          };\n        });\n      }\n      /**\n       * Returns a mapping of a precached URL to the corresponding cache key, taking\n       * into account the revision information for the URL.\n       *\n       * @return {Map<string, string>} A URL to cache key mapping.\n       */\n      getURLsToCacheKeys() {\n        return this._urlsToCacheKeys;\n      }\n      /**\n       * Returns a list of all the URLs that have been precached by the current\n       * service worker.\n       *\n       * @return {Array<string>} The precached URLs.\n       */\n      getCachedURLs() {\n        return [...this._urlsToCacheKeys.keys()];\n      }\n      /**\n       * Returns the cache key used for storing a given URL. If that URL is\n       * unversioned, like `/index.html', then the cache key will be the original\n       * URL with a search parameter appended to it.\n       *\n       * @param {string} url A URL whose cache key you want to look up.\n       * @return {string} The versioned URL that corresponds to a cache key\n       * for the original URL, or undefined if that URL isn't precached.\n       */\n      getCacheKeyForURL(url) {\n        const urlObject = new URL(url, location.href);\n        return this._urlsToCacheKeys.get(urlObject.href);\n      }\n      /**\n       * @param {string} url A cache key whose SRI you want to look up.\n       * @return {string} The subresource integrity associated with the cache key,\n       * or undefined if it's not set.\n       */\n      getIntegrityForCacheKey(cacheKey) {\n        return this._cacheKeysToIntegrities.get(cacheKey);\n      }\n      /**\n       * This acts as a drop-in replacement for\n       * [`cache.match()`](https://developer.mozilla.org/en-US/docs/Web/API/Cache/match)\n       * with the following differences:\n       *\n       * - It knows what the name of the precache is, and only checks in that cache.\n       * - It allows you to pass in an \"original\" URL without versioning parameters,\n       * and it will automatically look up the correct cache key for the currently\n       * active revision of that URL.\n       *\n       * E.g., `matchPrecache('index.html')` will find the correct precached\n       * response for the currently active service worker, even if the actual cache\n       * key is `'/index.html?__WB_REVISION__=1234abcd'`.\n       *\n       * @param {string|Request} request The key (without revisioning parameters)\n       * to look up in the precache.\n       * @return {Promise<Response|undefined>}\n       */\n      async matchPrecache(request) {\n        const url = request instanceof Request ? request.url : request;\n        const cacheKey = this.getCacheKeyForURL(url);\n        if (cacheKey) {\n          const cache = await self.caches.open(this.strategy.cacheName);\n          return cache.match(cacheKey);\n        }\n        return undefined;\n      }\n      /**\n       * Returns a function that looks up `url` in the precache (taking into\n       * account revision information), and returns the corresponding `Response`.\n       *\n       * @param {string} url The precached URL which will be used to lookup the\n       * `Response`.\n       * @return {workbox-routing~handlerCallback}\n       */\n      createHandlerBoundToURL(url) {\n        const cacheKey = this.getCacheKeyForURL(url);\n        if (!cacheKey) {\n          throw new WorkboxError('non-precached-url', {\n            url\n          });\n        }\n        return options => {\n          options.request = new Request(url);\n          options.params = Object.assign({\n            cacheKey\n          }, options.params);\n          return this.strategy.handle(options);\n        };\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    let precacheController;\n    /**\n     * @return {PrecacheController}\n     * @private\n     */\n    const getOrCreatePrecacheController = () => {\n      if (!precacheController) {\n        precacheController = new PrecacheController();\n      }\n      return precacheController;\n    };\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Removes any URL search parameters that should be ignored.\n     *\n     * @param {URL} urlObject The original URL.\n     * @param {Array<RegExp>} ignoreURLParametersMatching RegExps to test against\n     * each search parameter name. Matches mean that the search parameter should be\n     * ignored.\n     * @return {URL} The URL with any ignored search parameters removed.\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    function removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching = []) {\n      // Convert the iterable into an array at the start of the loop to make sure\n      // deletion doesn't mess up iteration.\n      for (const paramName of [...urlObject.searchParams.keys()]) {\n        if (ignoreURLParametersMatching.some(regExp => regExp.test(paramName))) {\n          urlObject.searchParams.delete(paramName);\n        }\n      }\n      return urlObject;\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Generator function that yields possible variations on the original URL to\n     * check, one at a time.\n     *\n     * @param {string} url\n     * @param {Object} options\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    function* generateURLVariations(url, {\n      ignoreURLParametersMatching = [/^utm_/, /^fbclid$/],\n      directoryIndex = 'index.html',\n      cleanURLs = true,\n      urlManipulation\n    } = {}) {\n      const urlObject = new URL(url, location.href);\n      urlObject.hash = '';\n      yield urlObject.href;\n      const urlWithoutIgnoredParams = removeIgnoredSearchParams(urlObject, ignoreURLParametersMatching);\n      yield urlWithoutIgnoredParams.href;\n      if (directoryIndex && urlWithoutIgnoredParams.pathname.endsWith('/')) {\n        const directoryURL = new URL(urlWithoutIgnoredParams.href);\n        directoryURL.pathname += directoryIndex;\n        yield directoryURL.href;\n      }\n      if (cleanURLs) {\n        const cleanURL = new URL(urlWithoutIgnoredParams.href);\n        cleanURL.pathname += '.html';\n        yield cleanURL.href;\n      }\n      if (urlManipulation) {\n        const additionalURLs = urlManipulation({\n          url: urlObject\n        });\n        for (const urlToAttempt of additionalURLs) {\n          yield urlToAttempt.href;\n        }\n      }\n    }\n\n    /*\n      Copyright 2020 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * A subclass of {@link workbox-routing.Route} that takes a\n     * {@link workbox-precaching.PrecacheController}\n     * instance and uses it to match incoming requests and handle fetching\n     * responses from the precache.\n     *\n     * @memberof workbox-precaching\n     * @extends workbox-routing.Route\n     */\n    class PrecacheRoute extends Route {\n      /**\n       * @param {PrecacheController} precacheController A `PrecacheController`\n       * instance used to both match requests and respond to fetch events.\n       * @param {Object} [options] Options to control how requests are matched\n       * against the list of precached URLs.\n       * @param {string} [options.directoryIndex=index.html] The `directoryIndex` will\n       * check cache entries for a URLs ending with '/' to see if there is a hit when\n       * appending the `directoryIndex` value.\n       * @param {Array<RegExp>} [options.ignoreURLParametersMatching=[/^utm_/, /^fbclid$/]] An\n       * array of regex's to remove search params when looking for a cache match.\n       * @param {boolean} [options.cleanURLs=true] The `cleanURLs` option will\n       * check the cache for the URL with a `.html` added to the end of the end.\n       * @param {workbox-precaching~urlManipulation} [options.urlManipulation]\n       * This is a function that should take a URL and return an array of\n       * alternative URLs that should be checked for precache matches.\n       */\n      constructor(precacheController, options) {\n        const match = ({\n          request\n        }) => {\n          const urlsToCacheKeys = precacheController.getURLsToCacheKeys();\n          for (const possibleURL of generateURLVariations(request.url, options)) {\n            const cacheKey = urlsToCacheKeys.get(possibleURL);\n            if (cacheKey) {\n              const integrity = precacheController.getIntegrityForCacheKey(cacheKey);\n              return {\n                cacheKey,\n                integrity\n              };\n            }\n          }\n          {\n            logger.debug(`Precaching did not find a match for ` + getFriendlyURL(request.url));\n          }\n          return;\n        };\n        super(match, precacheController.strategy);\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Add a `fetch` listener to the service worker that will\n     * respond to\n     * [network requests]{@link https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API/Using_Service_Workers#Custom_responses_to_requests}\n     * with precached assets.\n     *\n     * Requests for assets that aren't precached, the `FetchEvent` will not be\n     * responded to, allowing the event to fall through to other `fetch` event\n     * listeners.\n     *\n     * @param {Object} [options] See the {@link workbox-precaching.PrecacheRoute}\n     * options.\n     *\n     * @memberof workbox-precaching\n     */\n    function addRoute(options) {\n      const precacheController = getOrCreatePrecacheController();\n      const precacheRoute = new PrecacheRoute(precacheController, options);\n      registerRoute(precacheRoute);\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Adds items to the precache list, removing any duplicates and\n     * stores the files in the\n     * {@link workbox-core.cacheNames|\"precache cache\"} when the service\n     * worker installs.\n     *\n     * This method can be called multiple times.\n     *\n     * Please note: This method **will not** serve any of the cached files for you.\n     * It only precaches files. To respond to a network request you call\n     * {@link workbox-precaching.addRoute}.\n     *\n     * If you have a single array of files to precache, you can just call\n     * {@link workbox-precaching.precacheAndRoute}.\n     *\n     * @param {Array<Object|string>} [entries=[]] Array of entries to precache.\n     *\n     * @memberof workbox-precaching\n     */\n    function precache(entries) {\n      const precacheController = getOrCreatePrecacheController();\n      precacheController.precache(entries);\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * This method will add entries to the precache list and add a route to\n     * respond to fetch events.\n     *\n     * This is a convenience method that will call\n     * {@link workbox-precaching.precache} and\n     * {@link workbox-precaching.addRoute} in a single call.\n     *\n     * @param {Array<Object|string>} entries Array of entries to precache.\n     * @param {Object} [options] See the\n     * {@link workbox-precaching.PrecacheRoute} options.\n     *\n     * @memberof workbox-precaching\n     */\n    function precacheAndRoute(entries, options) {\n      precache(entries);\n      addRoute(options);\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    const SUBSTRING_TO_FIND = '-precache-';\n    /**\n     * Cleans up incompatible precaches that were created by older versions of\n     * Workbox, by a service worker registered under the current scope.\n     *\n     * This is meant to be called as part of the `activate` event.\n     *\n     * This should be safe to use as long as you don't include `substringToFind`\n     * (defaulting to `-precache-`) in your non-precache cache names.\n     *\n     * @param {string} currentPrecacheName The cache name currently in use for\n     * precaching. This cache won't be deleted.\n     * @param {string} [substringToFind='-precache-'] Cache names which include this\n     * substring will be deleted (excluding `currentPrecacheName`).\n     * @return {Array<string>} A list of all the cache names that were deleted.\n     *\n     * @private\n     * @memberof workbox-precaching\n     */\n    const deleteOutdatedCaches = async (currentPrecacheName, substringToFind = SUBSTRING_TO_FIND) => {\n      const cacheNames = await self.caches.keys();\n      const cacheNamesToDelete = cacheNames.filter(cacheName => {\n        return cacheName.includes(substringToFind) && cacheName.includes(self.registration.scope) && cacheName !== currentPrecacheName;\n      });\n      await Promise.all(cacheNamesToDelete.map(cacheName => self.caches.delete(cacheName)));\n      return cacheNamesToDelete;\n    };\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Adds an `activate` event listener which will clean up incompatible\n     * precaches that were created by older versions of Workbox.\n     *\n     * @memberof workbox-precaching\n     */\n    function cleanupOutdatedCaches() {\n      // See https://github.com/Microsoft/TypeScript/issues/28357#issuecomment-436484705\n      self.addEventListener('activate', event => {\n        const cacheName = cacheNames.getPrecacheName();\n        event.waitUntil(deleteOutdatedCaches(cacheName).then(cachesDeleted => {\n          {\n            if (cachesDeleted.length > 0) {\n              logger.log(`The following out-of-date precaches were cleaned up ` + `automatically:`, cachesDeleted);\n            }\n          }\n        }));\n      });\n    }\n\n    /*\n      Copyright 2018 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * NavigationRoute makes it easy to create a\n     * {@link workbox-routing.Route} that matches for browser\n     * [navigation requests]{@link https://developers.google.com/web/fundamentals/primers/service-workers/high-performance-loading#first_what_are_navigation_requests}.\n     *\n     * It will only match incoming Requests whose\n     * {@link https://fetch.spec.whatwg.org/#concept-request-mode|mode}\n     * is set to `navigate`.\n     *\n     * You can optionally only apply this route to a subset of navigation requests\n     * by using one or both of the `denylist` and `allowlist` parameters.\n     *\n     * @memberof workbox-routing\n     * @extends workbox-routing.Route\n     */\n    class NavigationRoute extends Route {\n      /**\n       * If both `denylist` and `allowlist` are provided, the `denylist` will\n       * take precedence and the request will not match this route.\n       *\n       * The regular expressions in `allowlist` and `denylist`\n       * are matched against the concatenated\n       * [`pathname`]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/pathname}\n       * and [`search`]{@link https://developer.mozilla.org/en-US/docs/Web/API/HTMLHyperlinkElementUtils/search}\n       * portions of the requested URL.\n       *\n       * *Note*: These RegExps may be evaluated against every destination URL during\n       * a navigation. Avoid using\n       * [complex RegExps](https://github.com/GoogleChrome/workbox/issues/3077),\n       * or else your users may see delays when navigating your site.\n       *\n       * @param {workbox-routing~handlerCallback} handler A callback\n       * function that returns a Promise resulting in a Response.\n       * @param {Object} options\n       * @param {Array<RegExp>} [options.denylist] If any of these patterns match,\n       * the route will not handle the request (even if a allowlist RegExp matches).\n       * @param {Array<RegExp>} [options.allowlist=[/./]] If any of these patterns\n       * match the URL's pathname and search parameter, the route will handle the\n       * request (assuming the denylist doesn't match).\n       */\n      constructor(handler, {\n        allowlist = [/./],\n        denylist = []\n      } = {}) {\n        {\n          finalAssertExports.isArrayOfClass(allowlist, RegExp, {\n            moduleName: 'workbox-routing',\n            className: 'NavigationRoute',\n            funcName: 'constructor',\n            paramName: 'options.allowlist'\n          });\n          finalAssertExports.isArrayOfClass(denylist, RegExp, {\n            moduleName: 'workbox-routing',\n            className: 'NavigationRoute',\n            funcName: 'constructor',\n            paramName: 'options.denylist'\n          });\n        }\n        super(options => this._match(options), handler);\n        this._allowlist = allowlist;\n        this._denylist = denylist;\n      }\n      /**\n       * Routes match handler.\n       *\n       * @param {Object} options\n       * @param {URL} options.url\n       * @param {Request} options.request\n       * @return {boolean}\n       *\n       * @private\n       */\n      _match({\n        url,\n        request\n      }) {\n        if (request && request.mode !== 'navigate') {\n          return false;\n        }\n        const pathnameAndSearch = url.pathname + url.search;\n        for (const regExp of this._denylist) {\n          if (regExp.test(pathnameAndSearch)) {\n            {\n              logger.log(`The navigation route ${pathnameAndSearch} is not ` + `being used, since the URL matches this denylist pattern: ` + `${regExp.toString()}`);\n            }\n            return false;\n          }\n        }\n        if (this._allowlist.some(regExp => regExp.test(pathnameAndSearch))) {\n          {\n            logger.debug(`The navigation route ${pathnameAndSearch} ` + `is being used.`);\n          }\n          return true;\n        }\n        {\n          logger.log(`The navigation route ${pathnameAndSearch} is not ` + `being used, since the URL being navigated to doesn't ` + `match the allowlist.`);\n        }\n        return false;\n      }\n    }\n\n    /*\n      Copyright 2019 Google LLC\n\n      Use of this source code is governed by an MIT-style\n      license that can be found in the LICENSE file or at\n      https://opensource.org/licenses/MIT.\n    */\n    /**\n     * Helper function that calls\n     * {@link PrecacheController#createHandlerBoundToURL} on the default\n     * {@link PrecacheController} instance.\n     *\n     * If you are creating your own {@link PrecacheController}, then call the\n     * {@link PrecacheController#createHandlerBoundToURL} on that instance,\n     * instead of using this function.\n     *\n     * @param {string} url The precached URL which will be used to lookup the\n     * `Response`.\n     * @param {boolean} [fallbackToNetwork=true] Whether to attempt to get the\n     * response from the network if there's a precache miss.\n     * @return {workbox-routing~handlerCallback}\n     *\n     * @memberof workbox-precaching\n     */\n    function createHandlerBoundToURL(url) {\n      const precacheController = getOrCreatePrecacheController();\n      return precacheController.createHandlerBoundToURL(url);\n    }\n\n    exports.CacheFirst = CacheFirst;\n    exports.CacheableResponsePlugin = CacheableResponsePlugin;\n    exports.ExpirationPlugin = ExpirationPlugin;\n    exports.NavigationRoute = NavigationRoute;\n    exports.cleanupOutdatedCaches = cleanupOutdatedCaches;\n    exports.clientsClaim = clientsClaim;\n    exports.createHandlerBoundToURL = createHandlerBoundToURL;\n    exports.precacheAndRoute = precacheAndRoute;\n    exports.registerRoute = registerRoute;\n\n}));\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\eslint.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\postcss.config.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\App.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\Logo.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\NavLink.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\Sidebar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\widgets\\SocialAssetsGallery.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":31,"column":60,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":31,"endColumn":63,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1141,1144],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1141,1144],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":103,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":103,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3953,3956],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3953,3956],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAssets'. Either include it or remove the dependency array.","line":117,"column":8,"nodeType":"ArrayExpression","endLine":117,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [user, activeTab, fetchAssets]","fix":{"range":[4424,4441],"text":"[user, activeTab, fetchAssets]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":158,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":158,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6041,6044],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6041,6044],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { toast } from 'sonner';\r\nimport { Upload, Trash2, Copy, Image as ImageIcon, Loader2, RefreshCw, Video, Play, CheckCircle2, Plus, Info, Link as LinkIcon } from 'lucide-react';\r\nimport { EmptyState } from '@/components/ui/empty-state';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from '@/components/ui/select';\r\n\r\ninterface AssetFile {\r\n    name: string;\r\n    id: string;\r\n    url: string;\r\n    created_at: string;\r\n    size: number;\r\n    type: string;\r\n}\r\n\r\ninterface SocialAssetsGalleryProps {\r\n    onSelect?: (url: string) => void;\r\n    onApplyToInstagram?: (type: 'posts' | 'profile', data: any, targetLinkId: string) => void;\r\n    isApplying?: boolean;\r\n    availableLinks?: { id: string; title: string; platform: string }[];\r\n    selectionMode?: boolean;\r\n    onSelectionConfirm?: (assets: AssetFile[], type: string) => void;\r\n}\r\n\r\nexport function SocialAssetsGallery({\r\n    onSelect,\r\n    onApplyToInstagram,\r\n    isApplying,\r\n    availableLinks = [],\r\n    selectionMode = false,\r\n    onSelectionConfirm\r\n}: SocialAssetsGalleryProps) {\r\n    const { user } = useAuth();\r\n    const [assets, setAssets] = useState<AssetFile[]>([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [uploading, setUploading] = useState(false);\r\n    const [activeTab, setActiveTab] = useState('posts'); // 'posts' or 'perfil'\r\n    const [selectedLinkId, setSelectedLinkId] = useState<string>('');\r\n\r\n    // Selection & Preview State\r\n    const [selectedAssets, setSelectedAssets] = useState<AssetFile[]>([]);\r\n    const [previewItem, setPreviewItem] = useState<AssetFile | null>(null);\r\n\r\n    // Filter only Instagram links for selection context (since this feature is Instagram specific)\r\n    const instagramLinks = availableLinks.filter(l => l.platform === 'instagram');\r\n\r\n    // Auto-select if only one link exists\r\n    useEffect(() => {\r\n        if (!selectionMode && instagramLinks.length === 1 && !selectedLinkId) {\r\n            setSelectedLinkId(instagramLinks[0].id);\r\n        }\r\n    }, [instagramLinks, selectedLinkId, selectionMode]);\r\n\r\n    const fetchAssets = async () => {\r\n        if (!user) return;\r\n        try {\r\n            setLoading(true);\r\n            const folderPath = `${user.id}/social/${activeTab}`;\r\n\r\n            const { data, error } = await supabase.storage\r\n                .from('media')\r\n                .list(folderPath, {\r\n                    limit: 100,\r\n                    offset: 0,\r\n                    sortBy: { column: 'created_at', order: 'desc' },\r\n                });\r\n\r\n            if (error) throw error;\r\n\r\n            const files = data || [];\r\n            // Filter out empty folder placeholders if any\r\n            const realFiles = files.filter(f => f.name !== '.emptyFolderPlaceholder');\r\n\r\n            const processedAssets: AssetFile[] = realFiles.map(file => {\r\n                const { data: { publicUrl } } = supabase.storage\r\n                    .from('media')\r\n                    .getPublicUrl(`${folderPath}/${file.name}`);\r\n\r\n                return {\r\n                    name: file.name,\r\n                    id: file.id || file.name,\r\n                    created_at: file.created_at,\r\n                    size: file.metadata?.size || 0,\r\n                    type: file.metadata?.mimetype || 'unknown',\r\n                    url: publicUrl\r\n                };\r\n            });\r\n\r\n            setAssets(processedAssets);\r\n        } catch (error: any) {\r\n            console.error('Error fetching assets:', error);\r\n            // Don't show error on 404/empty folder, just show empty\r\n            if (error.message !== 'The resource was not found') {\r\n                toast.error('Erro ao listar arquivos');\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchAssets();\r\n        setSelectedAssets([]); // Reset selection on tab change\r\n    }, [user, activeTab]);\r\n\r\n    const handleUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const files = event.target.files;\r\n        if (!files || files.length === 0 || !user) return;\r\n\r\n        setUploading(true);\r\n        let successCount = 0;\r\n\r\n        try {\r\n            for (let i = 0; i < files.length; i++) {\r\n                const file = files[i];\r\n\r\n                if (!file.type.startsWith('image/') && !file.type.startsWith('video/')) {\r\n                    toast.error(`Arquivo ignorado (tipo inv??lido): ${file.name}`);\r\n                    continue;\r\n                }\r\n\r\n                const fileExt = file.name.split('.').pop()?.toLowerCase();\r\n                const sanitizedName = file.name.replace(/[^a-zA-Z0-9]/g, '_');\r\n                const fileName = `manual_${Date.now()}_${sanitizedName}.${fileExt}`;\r\n                const filePath = `${user.id}/social/${activeTab}/${fileName}`;\r\n\r\n                const { error: uploadError } = await supabase.storage\r\n                    .from('media')\r\n                    .upload(filePath, file, {\r\n                        upsert: true\r\n                    });\r\n\r\n                if (uploadError) {\r\n                    console.error(`Error uploading ${file.name}:`, uploadError);\r\n                    toast.error(`Erro ao enviar ${file.name}`);\r\n                } else {\r\n                    successCount++;\r\n                }\r\n            }\r\n\r\n            if (successCount > 0) {\r\n                toast.success(`${successCount} arquivo(s) enviado(s)!`);\r\n                fetchAssets();\r\n            }\r\n        } catch (error: any) {\r\n            console.error('Upload error:', error);\r\n            toast.error('Erro cr??tico no upload');\r\n        } finally {\r\n            setUploading(false);\r\n            event.target.value = '';\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (fileName: string) => {\r\n        if (!user || !confirm('Excluir este arquivo permanentemente?')) return;\r\n\r\n        try {\r\n            const { error } = await supabase.storage\r\n                .from('media')\r\n                .remove([`${user.id}/social/${activeTab}/${fileName}`]);\r\n\r\n            if (error) throw error;\r\n\r\n            toast.success('Arquivo exclu??do');\r\n            setAssets(prev => prev.filter(a => a.name !== fileName));\r\n            setSelectedAssets(prev => prev.filter(a => a.name !== fileName));\r\n        } catch (error) {\r\n            console.error('Delete error:', error);\r\n            toast.error('Erro ao excluir arquivo');\r\n        }\r\n    };\r\n\r\n    const handleCopyUrl = (url: string) => {\r\n        navigator.clipboard.writeText(url);\r\n        toast.success('URL copiada!');\r\n    };\r\n\r\n    // Toggle selection logic\r\n    const toggleSelection = (asset: AssetFile) => {\r\n        // If Profile Tab -> Radio behavior (Single Select)\r\n        if (activeTab === 'perfil') {\r\n            // Validate: Must be an image for profile (usually)\r\n            if (asset.name.match(/\\.(mp4|webm|mov)$/i)) {\r\n                toast.warning('A foto de perfil deve ser uma imagem, n??o um v??deo.');\r\n                return;\r\n            }\r\n            // If already selected, do nothing or deselect? Usually radio doesn't deselect on click.\r\n            // Let's just set it as the single item.\r\n            setSelectedAssets([asset]);\r\n            return;\r\n        }\r\n\r\n        // If Posts Tab -> Multi Select (Max 3)\r\n        if (selectedAssets.find(a => a.id === asset.id)) {\r\n            setSelectedAssets(prev => prev.filter(a => a.id !== asset.id));\r\n        } else {\r\n            if (selectedAssets.length >= 3) {\r\n                toast.warning('Voc?? s?? pode selecionar at?? 3 posts para o card.');\r\n                return;\r\n            }\r\n            setSelectedAssets(prev => [...prev, asset]);\r\n        }\r\n    };\r\n\r\n    const handleConfirmSelection = () => {\r\n        if (!onSelectionConfirm) return;\r\n\r\n        if (activeTab === 'perfil' && selectedAssets.length !== 1) {\r\n            toast.error('Selecione exatamente 1 foto para o perfil.');\r\n            return;\r\n        }\r\n        if (activeTab === 'posts' && selectedAssets.length === 0) {\r\n            toast.error('Selecione pelo menos 1 item.');\r\n            return;\r\n        }\r\n\r\n        onSelectionConfirm(selectedAssets, activeTab);\r\n    };\r\n\r\n    const handleApplySelection = () => {\r\n        if (selectionMode) {\r\n            handleConfirmSelection();\r\n            return;\r\n        }\r\n\r\n        if (!onApplyToInstagram) return;\r\n\r\n        if (!selectedLinkId) {\r\n            toast.error('Selecione um Card/Link de destino na lista acima.');\r\n            return;\r\n        }\r\n\r\n        if (activeTab === 'perfil') {\r\n            if (selectedAssets.length !== 1) {\r\n                toast.error('Selecione exatamente 1 foto para o perfil.');\r\n                return;\r\n            }\r\n            onApplyToInstagram('profile', selectedAssets[0].url, selectedLinkId);\r\n        } else {\r\n            if (selectedAssets.length === 0) {\r\n                toast.error('Selecione pelo menos 1 v??deo/post.');\r\n                return;\r\n            }\r\n            const formattedAssets = selectedAssets.map(asset => ({\r\n                src: asset.url,\r\n                type: asset.name.match(/\\.(mp4|webm|mov)$/i) ? 'video' : 'image' as 'video' | 'image'\r\n            }));\r\n            onApplyToInstagram('posts', formattedAssets, selectedLinkId);\r\n        }\r\n    };\r\n\r\n    const getHeaderMessage = () => {\r\n        if (activeTab === 'perfil') return \"Selecione a Foto de Perfil (Obrigat??rio)\";\r\n        return \"Selecione os Posts para serem Visualizados no seu Perfil\";\r\n    };\r\n\r\n    const isApplyDisabled = () => {\r\n        if (isApplying) return true;\r\n        if (!selectionMode && !selectedLinkId) return true;\r\n        if (activeTab === 'perfil') return selectedAssets.length !== 1;\r\n        return selectedAssets.length === 0;\r\n    };\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className={`p-4 rounded-xl border space-y-4 ${selectionMode ? 'bg-zinc-800 border-zinc-700' : 'bg-muted/30'}`}>\r\n                <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-semibold flex items-center gap-2\">\r\n                            {selectionMode ? 'Galeria' : 'Galeria Social'}\r\n                            {selectedAssets.length > 0 && (\r\n                                <Badge variant=\"secondary\" className=\"ml-2\">\r\n                                    {selectedAssets.length} {activeTab === 'perfil' ? 'selecionada' : 'selecionados'}\r\n                                </Badge>\r\n                            )}\r\n                        </h2>\r\n                        <p className=\"text-sm font-medium text-blue-500 flex items-center gap-1.5 mt-1 bg-blue-500/10 px-3 py-1 rounded-full w-fit\">\r\n                            <Info className=\"w-4 h-4\" />\r\n                            {getHeaderMessage()}\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-2 w-full sm:w-auto\">\r\n                        <Button variant=\"outline\" size=\"icon\" onClick={fetchAssets} title=\"Atualizar\">\r\n                            <RefreshCw className={`h-4 w-4 ${loading ? 'animate-spin' : ''}`} />\r\n                        </Button>\r\n                        <div className=\"relative flex-1 sm:flex-initial\">\r\n                            <input\r\n                                type=\"file\"\r\n                                accept={activeTab === 'perfil' ? \"image/*\" : \"image/*,video/*\"}\r\n                                multiple={activeTab === 'posts'}\r\n                                className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                                onChange={handleUpload}\r\n                                disabled={uploading}\r\n                            />\r\n                            <Button disabled={uploading} className=\"w-full\" variant=\"secondary\">\r\n                                {uploading ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : <Upload className=\"h-4 w-4 mr-2\" />}\r\n                                Upload\r\n                            </Button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Card Selection and Apply Row - Visible only when items are selected */}\r\n                {selectedAssets.length > 0 && (\r\n                    <div className=\"flex flex-col sm:flex-row items-center gap-4 bg-zinc-900/50 p-4 rounded-xl border border-zinc-800 animate-in fade-in slide-in-from-top-2\">\r\n                        {!selectionMode && (\r\n                            <div className=\"flex-1 w-full flex items-center gap-3\">\r\n                                <div className=\"shrink-0 bg-blue-500/10 p-2 rounded-full\">\r\n                                    <LinkIcon className=\"w-4 h-4 text-blue-500\" />\r\n                                </div>\r\n                                <div className=\"flex-1\">\r\n                                    <p className=\"text-xs text-zinc-400 font-bold uppercase tracking-wider mb-1.5\">\r\n                                        Destino do {activeTab === 'perfil' ? 'Perfil' : 'Post'}\r\n                                    </p>\r\n                                    <Select value={selectedLinkId} onValueChange={setSelectedLinkId} disabled={instagramLinks.length === 0}>\r\n                                        <SelectTrigger className=\"w-full bg-black/20 border-zinc-700 text-zinc-100\">\r\n                                            <SelectValue placeholder={instagramLinks.length === 0 ? \"Nenhum card do Instagram criado\" : \"Selecione o Card para vincular...\"} />\r\n                                        </SelectTrigger>\r\n                                        <SelectContent>\r\n                                            {instagramLinks.map(link => (\r\n                                                <SelectItem key={link.id} value={link.id}>\r\n                                                    {link.title} ({link.platform})\r\n                                                </SelectItem>\r\n                                            ))}\r\n                                        </SelectContent>\r\n                                    </Select>\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {(onApplyToInstagram || selectionMode) && (\r\n                            <div className={`w-full ${selectionMode ? 'flex justify-end' : 'sm:w-auto mt-auto sm:self-end'}`}>\r\n                                <Button\r\n                                    type={selectionMode ? 'button' : 'submit'}\r\n                                    onClick={(e) => {\r\n                                        if (selectionMode) {\r\n                                            e.preventDefault();\r\n                                            handleConfirmSelection();\r\n                                        } else {\r\n                                            handleApplySelection();\r\n                                        }\r\n                                    }}\r\n                                    disabled={isApplyDisabled()}\r\n                                    className={`w-full sm:w-auto h-10 px-6 ${activeTab === 'perfil' ? \"bg-blue-600 hover:bg-blue-700 text-white\" : \"bg-gradient-to-r from-purple-600 to-orange-500 hover:opacity-90 text-white border-0\"}`}\r\n                                >\r\n                                    {isApplying && <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />}\r\n                                    {selectionMode\r\n                                        ? (activeTab === 'perfil' ? 'Confirmar Foto de Perfil' : 'Confirmar Posts')\r\n                                        : (activeTab === 'perfil' ? 'Definir Foto' : 'Usar Posts')\r\n                                    }\r\n                                </Button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n                <TabsList className=\"grid w-full grid-cols-2 max-w-[400px]\">\r\n                    <TabsTrigger value=\"posts\">Meus Posts</TabsTrigger>\r\n                    <TabsTrigger value=\"perfil\">Fotos de Perfil</TabsTrigger>\r\n                </TabsList>\r\n\r\n                {/* Content Area */}\r\n                <div className=\"mt-6 min-h-[300px]\">\r\n                    {loading && assets.length === 0 ? (\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n                            {[...Array(6)].map((_, i) => (\r\n                                <Skeleton key={i} className=\"aspect-square rounded-xl\" />\r\n                            ))}\r\n                        </div>\r\n                    ) : assets.length === 0 ? (\r\n                        <EmptyState\r\n                            icon={ImageIcon}\r\n                            title={`Nenhum arquivo em ${activeTab}`}\r\n                            description=\"Envie imagens ou v??deos para esta pasta.\"\r\n                        />\r\n                    ) : (\r\n                        <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4 animate-fade-in\">\r\n                            {assets.map((asset) => {\r\n                                const isSelected = selectedAssets.some(a => a.id === asset.id);\r\n                                const isVideo = asset.name.match(/\\.(mp4|webm|mov)$/i);\r\n\r\n                                return (\r\n                                    <div\r\n                                        key={asset.id}\r\n                                        className={`group relative aspect-square rounded-xl overflow-hidden border transition-all duration-300 ${isSelected ? 'ring-4 ring-purple-500 ring-offset-2' : 'hover:border-purple-300'}`}\r\n                                        onClick={() => toggleSelection(asset)}\r\n                                    >\r\n                                        {/* Background Media */}\r\n                                        {isVideo ? (\r\n                                            <div className=\"w-full h-full flex items-center justify-center bg-black\">\r\n                                                <video src={asset.url} className=\"w-full h-full object-cover opacity-80\" muted />\r\n                                                <div className=\"absolute inset-0 flex items-center justify-center\">\r\n                                                    <Video className=\"w-8 h-8 text-white/70\" />\r\n                                                </div>\r\n                                            </div>\r\n                                        ) : (\r\n                                            <img\r\n                                                src={asset.url}\r\n                                                alt={asset.name}\r\n                                                className=\"w-full h-full object-cover transition-transform group-hover:scale-105\"\r\n                                            />\r\n                                        )}\r\n\r\n                                        {/* Selection Indicator */}\r\n                                        {isSelected && (\r\n                                            <div className=\"absolute top-2 right-2 bg-purple-600 text-white rounded-full p-1 shadow-lg z-20\">\r\n                                                <CheckCircle2 className=\"w-4 h-4\" />\r\n                                            </div>\r\n                                        )}\r\n\r\n                                        {/* Hover Actions */}\r\n                                        <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col items-center justify-center gap-2 z-10\">\r\n                                            <div className=\"flex gap-2\">\r\n                                                <Button\r\n                                                    variant=\"secondary\"\r\n                                                    size=\"sm\"\r\n                                                    className=\"h-8 w-8 rounded-full\"\r\n                                                    onClick={(e) => { e.stopPropagation(); setPreviewItem(asset); }}\r\n                                                    title=\"Pr??-visualizar\"\r\n                                                >\r\n                                                    <Play className=\"h-4 w-4 ml-0.5\" />\r\n                                                </Button>\r\n                                                <Button\r\n                                                    variant=\"destructive\"\r\n                                                    size=\"sm\"\r\n                                                    className=\"h-8 w-8 rounded-full\"\r\n                                                    onClick={(e) => { e.stopPropagation(); handleDelete(asset.name); }}\r\n                                                    title=\"Excluir\"\r\n                                                >\r\n                                                    <Trash2 className=\"h-4 w-4\" />\r\n                                                </Button>\r\n                                            </div>\r\n                                            <p className=\"text-[10px] text-white/80 px-2 truncate max-w-full text-center mt-2\">\r\n                                                {isSelected ? 'Selecionado' : 'Clique para selecionar'}\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                );\r\n                            })}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </Tabs>\r\n\r\n            {/* Preview Dialog */}\r\n            <Dialog open={!!previewItem} onOpenChange={() => setPreviewItem(null)}>\r\n                <DialogContent className=\"max-w-3xl bg-black border-white/10 p-1 rounded-2xl overflow-hidden text-white w-full aspect-video flex items-center justify-center\">\r\n                    {previewItem && (\r\n                        previewItem.name.match(/\\.(mp4|webm|mov)$/i) ? (\r\n                            <video\r\n                                src={previewItem.url}\r\n                                className=\"w-full h-full max-h-[80vh] object-contain\"\r\n                                controls\r\n                                autoPlay\r\n                            />\r\n                        ) : (\r\n                            <img\r\n                                src={previewItem.url}\r\n                                alt={previewItem.name}\r\n                                className=\"w-full h-full max-h-[80vh] object-contain\"\r\n                            />\r\n                        )\r\n                    )}\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\widgets\\WidgetAssetsGallery.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":60,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":60,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2171,2174],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2171,2174],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchAssets'. Either include it or remove the dependency array.","line":70,"column":8,"nodeType":"ArrayExpression","endLine":70,"endColumn":14,"suggestions":[{"desc":"Update the dependencies array to be: [fetchAssets, user]","fix":{"range":[2420,2426],"text":"[fetchAssets, user]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":105,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":105,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3766,3769],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3766,3769],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { toast } from 'sonner';\r\nimport { Upload, Trash2, Copy, Image as ImageIcon, Loader2, RefreshCw } from 'lucide-react';\r\nimport { EmptyState } from '@/components/ui/empty-state';\r\nimport { compressImage } from '@/utils/imageCompression';\r\n\r\ninterface AssetFile {\r\n    name: string;\r\n    id: string; // File name as ID for list\r\n    url: string;\r\n    created_at: string;\r\n    size: number;\r\n}\r\n\r\ninterface WidgetAssetsGalleryProps {\r\n    onSelect?: (url: string) => void;\r\n}\r\n\r\nexport function WidgetAssetsGallery({ onSelect }: WidgetAssetsGalleryProps) {\r\n    const { user } = useAuth();\r\n    const [assets, setAssets] = useState<AssetFile[]>([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const [uploading, setUploading] = useState(false);\r\n\r\n    const fetchAssets = async () => {\r\n        if (!user) return;\r\n        try {\r\n            setLoading(true);\r\n            const { data, error } = await supabase.storage\r\n                .from('media')\r\n                .list(`${user.id}/widgets`, {\r\n                    limit: 100,\r\n                    offset: 0,\r\n                    sortBy: { column: 'created_at', order: 'desc' },\r\n                });\r\n\r\n            if (error) throw error;\r\n\r\n            const files = data || [];\r\n            const processedAssets: AssetFile[] = files.map(file => {\r\n                const { data: { publicUrl } } = supabase.storage\r\n                    .from('media')\r\n                    .getPublicUrl(`${user.id}/widgets/${file.name}`);\r\n\r\n                return {\r\n                    name: file.name,\r\n                    id: file.id || file.name,\r\n                    created_at: file.created_at,\r\n                    size: file.metadata?.size || 0,\r\n                    url: publicUrl\r\n                };\r\n            });\r\n\r\n            setAssets(processedAssets);\r\n        } catch (error: any) {\r\n            console.error('Error fetching assets:', error);\r\n            toast.error('Erro ao listar imagens');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchAssets();\r\n    }, [user]);\r\n\r\n    const handleUpload = async (event: React.ChangeEvent<HTMLInputElement>) => {\r\n        const file = event.target.files?.[0];\r\n        if (!file || !user) return;\r\n\r\n        if (!file.type.startsWith('image/')) {\r\n            toast.error('Apenas arquivos de imagem s??o permitidos.');\r\n            return;\r\n        }\r\n\r\n        setUploading(true);\r\n        try {\r\n            // Compress image before upload\r\n            const compressedBlob = await compressImage(file, 1920, 0.8);\r\n\r\n            const fileExt = file.name.split('.').pop()?.toLowerCase() || 'jpg';\r\n            // Force jpg extension if we converted to jpeg blob, mostly likely yes\r\n            const finalExt = 'jpg';\r\n\r\n            const sanitizedName = file.name.replace(/[^a-zA-Z0-9]/g, '_');\r\n            const fileName = `widget_${Date.now()}_${sanitizedName}.${finalExt}`;\r\n            const filePath = `${user.id}/widgets/${fileName}`;\r\n\r\n            const { error: uploadError } = await supabase.storage\r\n                .from('media')\r\n                .upload(filePath, compressedBlob, {\r\n                    contentType: 'image/jpeg',\r\n                    upsert: true\r\n                });\r\n\r\n            if (uploadError) throw uploadError;\r\n\r\n            toast.success('Imagem enviada com sucesso!');\r\n            fetchAssets();\r\n        } catch (error: any) {\r\n            console.error('Upload error:', error);\r\n            toast.error('Erro ao enviar imagem');\r\n        } finally {\r\n            setUploading(false);\r\n            // Reset input\r\n            event.target.value = '';\r\n        }\r\n    };\r\n\r\n    const handleDelete = async (fileName: string) => {\r\n        if (!user || !confirm('Excluir esta imagem permanentemente?')) return;\r\n\r\n        try {\r\n            const { error } = await supabase.storage\r\n                .from('media')\r\n                .remove([`${user.id}/widgets/${fileName}`]);\r\n\r\n            if (error) throw error;\r\n\r\n            toast.success('Imagem exclu??da');\r\n            setAssets(prev => prev.filter(a => a.name !== fileName));\r\n        } catch (error) {\r\n            console.error('Delete error:', error);\r\n            toast.error('Erro ao excluir imagem');\r\n        }\r\n    };\r\n\r\n    const handleCopyUrl = (url: string) => {\r\n        navigator.clipboard.writeText(url);\r\n        toast.success('URL copiada!');\r\n    };\r\n\r\n    if (loading && assets.length === 0) {\r\n        return (\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4\">\r\n                {[...Array(6)].map((_, i) => (\r\n                    <Skeleton key={i} className=\"aspect-square rounded-xl\" />\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            <div className=\"flex items-center justify-between\">\r\n                <div>\r\n                    <h2 className=\"text-xl font-semibold\">Galeria de Widgets</h2>\r\n                    <p className=\"text-sm text-muted-foreground\">Gerencie imagens de fundo para rel??gio e clima</p>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Button variant=\"outline\" size=\"icon\" onClick={fetchAssets} title=\"Atualizar\">\r\n                        <RefreshCw className=\"h-4 w-4\" />\r\n                    </Button>\r\n                    <div className=\"relative\">\r\n                        <input\r\n                            type=\"file\"\r\n                            accept=\"image/*\"\r\n                            className=\"absolute inset-0 w-full h-full opacity-0 cursor-pointer\"\r\n                            onChange={handleUpload}\r\n                            disabled={uploading}\r\n                        />\r\n                        <Button disabled={uploading}>\r\n                            {uploading ? <Loader2 className=\"h-4 w-4 animate-spin mr-2\" /> : <Upload className=\"h-4 w-4 mr-2\" />}\r\n                            Upload\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {assets.length === 0 ? (\r\n                <EmptyState\r\n                    icon={ImageIcon}\r\n                    title=\"Galeria vazia\"\r\n                    description=\"Envie imagens para usar como fundo nos seus widgets.\"\r\n                />\r\n            ) : (\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4\">\r\n                    {assets.map((asset) => (\r\n                        <div\r\n                            key={asset.id}\r\n                            className={`group relative aspect-square rounded-xl overflow-hidden border bg-muted/50 ${onSelect ? 'cursor-pointer ring-offset-2 hover:ring-2 ring-primary' : ''}`}\r\n                            onClick={() => onSelect && onSelect(asset.url)}\r\n                        >\r\n                            <img\r\n                                src={asset.url}\r\n                                alt={asset.name}\r\n                                className=\"w-full h-full object-cover transition-transform group-hover:scale-110\"\r\n                            />\r\n\r\n                            {!onSelect ? (\r\n                                <div className=\"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\r\n                                    <Button\r\n                                        variant=\"secondary\"\r\n                                        size=\"icon\"\r\n                                        className=\"h-8 w-8\"\r\n                                        onClick={(e) => { e.stopPropagation(); handleCopyUrl(asset.url); }}\r\n                                        title=\"Copiar URL\"\r\n                                    >\r\n                                        <Copy className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                    <Button\r\n                                        variant=\"destructive\"\r\n                                        size=\"icon\"\r\n                                        className=\"h-8 w-8\"\r\n                                        onClick={(e) => { e.stopPropagation(); handleDelete(asset.name); }}\r\n                                        title=\"Excluir\"\r\n                                    >\r\n                                        <Trash2 className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center\">\r\n                                    <span className=\"text-white font-medium bg-black/50 px-3 py-1 rounded-full text-sm backdrop-blur-sm\">\r\n                                        Selecionar\r\n                                    </span>\r\n                                </div>\r\n                            )}\r\n\r\n                            <div className=\"absolute bottom-0 left-0 right-0 p-2 bg-gradient-to-t from-black/80 to-transparent text-white opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                                <p className=\"text-xs truncate\">{asset.name}</p>\r\n                            </div>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\widgets\\WidgetForm.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":59,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":62,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3332,3335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3332,3335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":109,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":109,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4688,4691],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4688,4691],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\r\nimport { Widget, WidgetConfig, WidgetType } from '@/types/models';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Loader2, Trash2, LayoutTemplate, Smartphone, Clock, Cloud, Newspaper, Image as ImageIcon } from 'lucide-react';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\r\nimport { toast } from 'sonner';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { useAuth } from '@/contexts/AuthContext';\r\nimport { WidgetAssetsGallery } from './WidgetAssetsGallery';\r\n\r\ninterface WidgetFormProps {\r\n    initialData: Widget | null;\r\n    onSave: (data: Partial<Widget>) => Promise<void>;\r\n    onCancel: () => void;\r\n    renderPreview: (type: WidgetType, config: WidgetConfig, orientation: 'landscape' | 'portrait') => React.ReactNode;\r\n}\r\n\r\nconst WIDGET_TYPES_OPTS = [\r\n    { value: 'clock', label: 'Rel??gio', icon: Clock },\r\n    { value: 'weather', label: 'Clima', icon: Cloud },\r\n    { value: 'rss', label: 'Not??cias (RSS)', icon: Newspaper },\r\n];\r\n\r\nconst getDefaultConfig = (type: string): WidgetConfig => {\r\n    switch (type) {\r\n        case 'clock':\r\n            return { showDate: true, showSeconds: false, position: 'center', backgroundImageLandscape: null, backgroundImagePortrait: null };\r\n        case 'weather':\r\n            return { latitude: -23.5505, longitude: -46.6333, position: 'center', backgroundImageLandscape: null, backgroundImagePortrait: null };\r\n        case 'rss':\r\n            return { feedUrl: 'https://g1.globo.com/rss/g1/', maxItems: 5, scrollSpeed: 8, position: 'center', variant: 'full', backgroundImageLandscape: null, backgroundImagePortrait: null };\r\n        default:\r\n            return {};\r\n    }\r\n};\r\n\r\nexport function WidgetForm({ initialData, onSave, onCancel, renderPreview }: WidgetFormProps) {\r\n    const { user } = useAuth();\r\n\r\n    // State\r\n    const [name, setName] = useState('');\r\n    const [widgetType, setWidgetType] = useState<WidgetType>('clock');\r\n    const [config, setConfig] = useState<WidgetConfig>({});\r\n    const [isActive, setIsActive] = useState(true);\r\n    const [editOrientation, setEditOrientation] = useState<'landscape' | 'portrait'>('landscape');\r\n    const [uploading, setUploading] = useState(false);\r\n    const [saving, setSaving] = useState(false);\r\n\r\n    // Gallery State\r\n    const [galleryOpen, setGalleryOpen] = useState(false);\r\n    const [galleryTarget, setGalleryTarget] = useState<'landscape' | 'portrait'>('landscape');\r\n\r\n    // Load initial data\r\n    useEffect(() => {\r\n        if (initialData) {\r\n            setName(initialData.name);\r\n            setWidgetType(initialData.widget_type);\r\n            setConfig(initialData.config || {});\r\n            setIsActive(initialData.is_active);\r\n        } else {\r\n            setName('');\r\n            setWidgetType('clock');\r\n            setConfig(getDefaultConfig('clock'));\r\n            setIsActive(true);\r\n        }\r\n    }, [initialData]);\r\n\r\n    const handleTypeChange = (type: WidgetType) => {\r\n        setWidgetType(type);\r\n        setConfig(getDefaultConfig(type));\r\n    };\r\n\r\n    const updateConfig = (key: keyof WidgetConfig, value: any) => {\r\n        setConfig(prev => ({ ...prev, [key]: value }));\r\n    };\r\n\r\n    const handleImageUpload = async (event: React.ChangeEvent<HTMLInputElement>, imageType: 'landscape' | 'portrait') => {\r\n        const file = event.target.files?.[0];\r\n        if (!file || !user) return;\r\n\r\n        setUploading(true);\r\n        try {\r\n            const fileExt = file.name.split('.').pop()?.toLowerCase() || 'jpg';\r\n            const sanitizedName = file.name.replace(/[^a-zA-Z0-9]/g, '_');\r\n            const fileName = `widget_${Date.now()}_${sanitizedName}.${fileExt}`;\r\n            // Organize widget assets in a specific folder\r\n            const filePath = `${user.id}/widgets/${fileName}`;\r\n\r\n            const { error: uploadError } = await supabase.storage\r\n                .from('media')\r\n                .upload(filePath, file, { upsert: true });\r\n\r\n            if (uploadError) throw uploadError;\r\n\r\n            const { data: { publicUrl } } = supabase.storage\r\n                .from('media')\r\n                .getPublicUrl(filePath);\r\n\r\n            if (imageType === 'landscape') {\r\n                updateConfig('backgroundImageLandscape', publicUrl);\r\n            } else {\r\n                updateConfig('backgroundImagePortrait', publicUrl);\r\n            }\r\n\r\n            toast.success('Imagem carregada com sucesso!');\r\n        } catch (error: any) {\r\n            console.error('Upload error:', error);\r\n            toast.error(`Erro: ${error.message || 'Falha no upload'}`);\r\n        } finally {\r\n            setUploading(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        if (!name.trim()) {\r\n            toast.error('Nome ?? obrigat??rio');\r\n            return;\r\n        }\r\n\r\n        if (widgetType === 'rss' && !config.backgroundImageLandscape && !config.backgroundImagePortrait) {\r\n            toast.error('RSS requer imagem de fundo (Horizontal ou Vertical).');\r\n            return;\r\n        }\r\n\r\n        if (widgetType === 'weather') {\r\n            if (config.latitude! < -90 || config.latitude! > 90) {\r\n                toast.error('Latitude inv??lida (-90 a 90)');\r\n                return;\r\n            }\r\n            if (config.longitude! < -180 || config.longitude! > 180) {\r\n                toast.error('Longitude inv??lida (-180 a 180)');\r\n                return;\r\n            }\r\n        }\r\n\r\n        setSaving(true);\r\n        try {\r\n            await onSave({\r\n                name,\r\n                widget_type: widgetType,\r\n                config,\r\n                is_active: isActive,\r\n            });\r\n        } finally {\r\n            setSaving(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col md:flex-row h-full\">\r\n            {/* LEFT COLUMN: FORM */}\r\n            <div className=\"w-full md:w-1/2 flex flex-col h-full border-r bg-background overflow-hidden relative\">\r\n                <div className=\"p-6 border-b shrink-0 bg-background/95 backdrop-blur z-10\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>{initialData ? 'Editar Widget' : 'Novo Widget'}</DialogTitle>\r\n                    </DialogHeader>\r\n                </div>\r\n\r\n                <div className=\"flex-1 w-full overflow-y-auto custom-scrollbar\">\r\n                    <div className=\"p-6 space-y-6\">\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Nome do Widget</Label>\r\n                            <Input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Ex: Rel??gio Recep????o\" />\r\n                        </div>\r\n\r\n                        <div className=\"space-y-2\">\r\n                            <Label>Tipo</Label>\r\n                            <div className=\"grid grid-cols-3 gap-2\">\r\n                                {WIDGET_TYPES_OPTS.map(type => {\r\n                                    const Icon = type.icon;\r\n                                    const isSelected = widgetType === type.value;\r\n                                    return (\r\n                                        <button\r\n                                            key={type.value}\r\n                                            onClick={() => handleTypeChange(type.value as WidgetType)}\r\n                                            className={`flex flex-col items-center gap-2 p-3 rounded-lg border transition-all ${isSelected ? 'border-primary bg-primary/10' : 'border-border hover:bg-muted'}`}\r\n                                        >\r\n                                            <Icon className=\"h-5 w-5\" />\r\n                                            <span className=\"text-xs font-medium\">{type.label}</span>\r\n                                        </button>\r\n                                    );\r\n                                })}\r\n                            </div>\r\n                        </div>\r\n\r\n                        {/* ORIENTATION & BG */}\r\n                        {(widgetType === 'clock' || widgetType === 'weather' || widgetType === 'rss') && (\r\n                            <div className=\"space-y-4 border rounded-lg p-4 bg-muted/20\">\r\n                                <Label className=\"text-sm font-semibold\">Configura????o de Fundo</Label>\r\n                                <div className=\"flex bg-muted rounded-lg p-1\">\r\n                                    <button onClick={() => setEditOrientation('landscape')} className={`flex-1 flex items-center justify-center gap-2 text-xs font-medium py-2 rounded-md transition-all ${editOrientation === 'landscape' ? 'bg-background shadow text-foreground' : 'text-muted-foreground'}`}>\r\n                                        <LayoutTemplate className=\"h-4 w-4\" /> Horizontal (16:9)\r\n                                    </button>\r\n                                    <button onClick={() => setEditOrientation('portrait')} className={`flex-1 flex items-center justify-center gap-2 text-xs font-medium py-2 rounded-md transition-all ${editOrientation === 'portrait' ? 'bg-background shadow text-foreground' : 'text-muted-foreground'}`}>\r\n                                        <Smartphone className=\"h-4 w-4\" /> Vertical (9:16)\r\n                                    </button>\r\n                                </div>\r\n\r\n                                <div className=\"pt-2\">\r\n                                    {editOrientation === 'landscape' ? (\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label className=\"text-xs text-muted-foreground\">Imagem de Fundo (Horizontal)</Label>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                {config.backgroundImageLandscape ? (\r\n                                                    <div className=\"relative w-32 h-20 rounded overflow-hidden border bg-black shrink-0\">\r\n                                                        <img src={config.backgroundImageLandscape} className=\"w-full h-full object-cover\" alt=\"Land\" />\r\n                                                        <button onClick={() => updateConfig('backgroundImageLandscape', null)} className=\"absolute top-0 right-0 p-1 bg-red-500 text-white\"><Trash2 className=\"h-3 w-3\" /></button>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <div className=\"w-32 h-20 rounded bg-muted flex items-center justify-center border border-dashed text-xs text-muted-foreground shrink-0\">1920x1080</div>\r\n                                                )}\r\n                                                <div className=\"flex-1 flex flex-col gap-2\">\r\n                                                    <Input type=\"file\" accept=\"image/*\" onChange={(e) => handleImageUpload(e, 'landscape')} disabled={uploading} className=\"text-xs\" />\r\n                                                    <Button variant=\"outline\" size=\"sm\" onClick={() => { setGalleryTarget('landscape'); setGalleryOpen(true); }} className=\"w-full text-xs\">\r\n                                                        <ImageIcon className=\"h-3 w-3 mr-2\" />\r\n                                                        Abrir Galeria\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ) : (\r\n                                        <div className=\"space-y-2\">\r\n                                            <Label className=\"text-xs text-muted-foreground\">Imagem de Fundo (Vertical)</Label>\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                {config.backgroundImagePortrait ? (\r\n                                                    <div className=\"relative w-20 h-32 rounded overflow-hidden border bg-black shrink-0\">\r\n                                                        <img src={config.backgroundImagePortrait} className=\"w-full h-full object-cover\" alt=\"Port\" />\r\n                                                        <button onClick={() => updateConfig('backgroundImagePortrait', null)} className=\"absolute top-0 right-0 p-1 bg-red-500 text-white\"><Trash2 className=\"h-3 w-3\" /></button>\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    <div className=\"w-20 h-32 rounded bg-muted flex items-center justify-center border border-dashed text-xs text-muted-foreground shrink-0\">1080x1920</div>\r\n                                                )}\r\n                                                <div className=\"flex-1 flex flex-col gap-2\">\r\n                                                    <Input type=\"file\" accept=\"image/*\" onChange={(e) => handleImageUpload(e, 'portrait')} disabled={uploading} className=\"text-xs\" />\r\n                                                    <Button variant=\"outline\" size=\"sm\" onClick={() => { setGalleryTarget('portrait'); setGalleryOpen(true); }} className=\"w-full text-xs\">\r\n                                                        <ImageIcon className=\"h-3 w-3 mr-2\" />\r\n                                                        Abrir Galeria\r\n                                                    </Button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n\r\n                        {/* SPECIFIC CONFIGS */}\r\n                        <div className=\"space-y-4 border rounded-lg p-4 bg-muted/20\">\r\n                            {widgetType === 'clock' && (\r\n                                <>\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <Label>Mostrar Data</Label>\r\n                                        <Switch checked={config.showDate} onCheckedChange={(v) => updateConfig('showDate', v)} />\r\n                                    </div>\r\n                                    <div className=\"flex items-center justify-between\">\r\n                                        <Label>Mostrar Segundos</Label>\r\n                                        <Switch checked={config.showSeconds} onCheckedChange={(v) => updateConfig('showSeconds', v)} />\r\n                                    </div>\r\n                                </>\r\n                            )}\r\n\r\n                            {widgetType === 'weather' && (\r\n                                <div className=\"grid grid-cols-2 gap-2\">\r\n                                    <div><Label>Latitude</Label><Input type=\"number\" value={config.latitude} onChange={(e) => updateConfig('latitude', parseFloat(e.target.value))} /></div>\r\n                                    <div><Label>Longitude</Label><Input type=\"number\" value={config.longitude} onChange={(e) => updateConfig('longitude', parseFloat(e.target.value))} /></div>\r\n                                </div>\r\n                            )}\r\n\r\n                            {widgetType === 'rss' && (\r\n                                <div className=\"space-y-3\">\r\n                                    <div><Label>URL do Feed</Label><Input value={config.feedUrl} onChange={(e) => updateConfig('feedUrl', e.target.value)} /></div>\r\n                                    <div className=\"flex gap-2\">\r\n                                        <div className=\"flex-1\"><Label>M??x. Itens</Label><Input type=\"number\" value={config.maxItems} onChange={(e) => updateConfig('maxItems', parseInt(e.target.value))} /></div>\r\n                                        <div className=\"flex-1\"><Label>Segundos/Item</Label><Input type=\"number\" value={config.scrollSpeed} onChange={(e) => updateConfig('scrollSpeed', parseInt(e.target.value))} /></div>\r\n                                    </div>\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <Label>Widget Ativo</Label>\r\n                            <Switch checked={isActive} onCheckedChange={setIsActive} />\r\n                        </div>\r\n\r\n                        <div className=\"h-4\"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"p-4 border-t shrink-0 bg-background flex justify-end gap-2\">\r\n                    <Button variant=\"outline\" onClick={onCancel}>Cancelar</Button>\r\n                    <Button onClick={handleSubmit} disabled={saving}>{saving ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : 'Salvar Altera????es'}</Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* RIGHT COLUMN: PREVIEW */}\r\n            {renderPreview(widgetType, config, editOrientation)}\r\n\r\n            {/* GALLERY SELECTION DIALOG */}\r\n            <Dialog open={galleryOpen} onOpenChange={setGalleryOpen}>\r\n                <DialogContent className=\"max-w-4xl h-[80vh] overflow-y-auto\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Selecionar Imagem da Galeria</DialogTitle>\r\n                    </DialogHeader>\r\n                    <WidgetAssetsGallery onSelect={(url) => {\r\n                        if (galleryTarget === 'landscape') updateConfig('backgroundImageLandscape', url);\r\n                        else updateConfig('backgroundImagePortrait', url);\r\n                        setGalleryOpen(false);\r\n                        toast.success('Imagem selecionada!');\r\n                    }} />\r\n                </DialogContent>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\widgets\\WidgetList.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\dashboard\\widgets\\WidgetPreview.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\media\\MediaCard.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\media\\MediaPreviewDialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\media\\MediaUploadDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":313,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":313,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9794,9797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9794,9797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useRef } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Progress } from '@/components/ui/progress';\nimport { Calendar } from '@/components/ui/calendar';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Upload, X, Image, Video, Music, FileIcon, CheckCircle2, Clock, CalendarIcon, Monitor } from 'lucide-react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport { format } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport { cn } from '@/lib/utils';\n\ninterface MediaUploadDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  onUploadComplete: () => void;\n}\n\ninterface UploadFile {\n  file: File;\n  progress: number;\n  status: 'pending' | 'uploading' | 'complete' | 'error';\n  error?: string;\n}\n\nconst ACCEPTED_TYPES = {\n  image: ['image/jpeg', 'image/png', 'image/gif', 'image/webp', 'image/svg+xml'],\n  video: ['video/mp4', 'video/webm', 'video/ogg', 'video/quicktime'],\n  audio: ['audio/mpeg', 'audio/wav', 'audio/ogg', 'audio/aac', 'audio/mp3'],\n};\n\nconst SEGMENTS = [\n  'Varejo',\n  'Alimenta????o',\n  'Sa??de',\n  'Educa????o',\n  'Tecnologia',\n  'Servi??os',\n  'Ind??stria',\n  'Entretenimento',\n  'Financeiro',\n  'Imobili??rio',\n  'Automotivo',\n  'Outros',\n];\n\nconst getFileType = (mimeType: string): 'image' | 'video' | 'audio' | 'other' => {\n  if (ACCEPTED_TYPES.image.includes(mimeType)) return 'image';\n  if (ACCEPTED_TYPES.video.includes(mimeType)) return 'video';\n  if (ACCEPTED_TYPES.audio.includes(mimeType)) return 'audio';\n  return 'other';\n};\n\nconst getFileIcon = (type: string) => {\n  switch (type) {\n    case 'image': return <Image className=\"h-8 w-8 text-primary\" />;\n    case 'video': return <Video className=\"h-8 w-8 text-accent\" />;\n    case 'audio': return <Music className=\"h-8 w-8 text-success\" />;\n    default: return <FileIcon className=\"h-8 w-8 text-muted-foreground\" />;\n  }\n};\n\nconst formatFileSize = (bytes: number): string => {\n  if (bytes === 0) return '0 Bytes';\n  const k = 1024;\n  const sizes = ['Bytes', 'KB', 'MB', 'GB'];\n  const i = Math.floor(Math.log(bytes) / Math.log(k));\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];\n};\n\n// Extract thumbnail from video file\nconst extractVideoThumbnail = (file: File, userId: string): Promise<string | null> => {\n  return new Promise((resolve, reject) => {\n    const video = document.createElement('video');\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    \n    video.preload = 'metadata';\n    video.muted = true;\n    video.playsInline = true;\n    \n    video.onloadeddata = () => {\n      // Seek to 1 second or 10% of video duration (whichever is smaller)\n      video.currentTime = Math.min(1, video.duration * 0.1);\n    };\n    \n    video.onseeked = async () => {\n      try {\n        canvas.width = video.videoWidth;\n        canvas.height = video.videoHeight;\n        ctx?.drawImage(video, 0, 0, canvas.width, canvas.height);\n        \n        // Convert canvas to blob\n        canvas.toBlob(async (blob) => {\n          if (!blob) {\n            resolve(null);\n            return;\n          }\n          \n          try {\n            // Upload thumbnail to storage\n            const thumbnailFileName = `${Date.now()}-thumb.jpg`;\n            const thumbnailPath = `${userId}/thumbnails/${thumbnailFileName}`;\n            \n            const { error: uploadError } = await supabase.storage\n              .from('media')\n              .upload(thumbnailPath, blob, {\n                cacheControl: '3600',\n                contentType: 'image/jpeg',\n              });\n            \n            if (uploadError) {\n              console.warn('Thumbnail upload error:', uploadError);\n              resolve(null);\n              return;\n            }\n            \n            const { data: { publicUrl } } = supabase.storage\n              .from('media')\n              .getPublicUrl(thumbnailPath);\n            \n            resolve(publicUrl);\n          } catch (err) {\n            console.warn('Error uploading thumbnail:', err);\n            resolve(null);\n          }\n        }, 'image/jpeg', 0.8);\n      } catch (err) {\n        reject(err);\n      } finally {\n        URL.revokeObjectURL(video.src);\n      }\n    };\n    \n    video.onerror = () => {\n      URL.revokeObjectURL(video.src);\n      resolve(null);\n    };\n    \n    video.src = URL.createObjectURL(file);\n  });\n};\n\nexport function MediaUploadDialog({ open, onOpenChange, onUploadComplete }: MediaUploadDialogProps) {\n  const { user } = useAuth();\n  const [files, setFiles] = useState<UploadFile[]>([]);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Form fields\n  const [mediaName, setMediaName] = useState('');\n  const [companyName, setCompanyName] = useState('');\n  const [segment, setSegment] = useState('');\n  const [mediaDuration, setMediaDuration] = useState(10);\n  const [scheduledDate, setScheduledDate] = useState<Date>();\n  const [calendarOpen, setCalendarOpen] = useState(false);\n  const [aspectRatio, setAspectRatio] = useState<'16x9' | '9x16'>('16x9');\n\n  const acceptedMimeTypes = [\n    ...ACCEPTED_TYPES.image,\n    ...ACCEPTED_TYPES.video,\n    ...ACCEPTED_TYPES.audio,\n  ].join(',');\n\n  const handleFileSelect = (selectedFiles: FileList | null) => {\n    if (!selectedFiles) return;\n\n    const newFiles: UploadFile[] = Array.from(selectedFiles)\n      .filter(file => {\n        const isAccepted = [...ACCEPTED_TYPES.image, ...ACCEPTED_TYPES.video, ...ACCEPTED_TYPES.audio]\n          .includes(file.type);\n        if (!isAccepted) {\n          toast.error(`Tipo de arquivo n??o suportado: ${file.name}`);\n        }\n        return isAccepted;\n      })\n      .map(file => ({\n        file,\n        progress: 0,\n        status: 'pending' as const,\n      }));\n\n    setFiles(prev => [...prev, ...newFiles]);\n  };\n\n  const handleDrop = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(false);\n    handleFileSelect(e.dataTransfer.files);\n  };\n\n  const handleDragOver = (e: React.DragEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = () => {\n    setIsDragging(false);\n  };\n\n  const removeFile = (index: number) => {\n    setFiles(prev => prev.filter((_, i) => i !== index));\n  };\n\n  const handleDurationChange = (value: string) => {\n    const num = parseInt(value, 10);\n    if (!isNaN(num) && num >= 1 && num <= 120) {\n      setMediaDuration(num);\n    }\n  };\n\n  const uploadFiles = async () => {\n    if (!user) {\n      toast.error('Voc?? precisa estar logado para fazer upload');\n      return;\n    }\n\n    if (!mediaName.trim()) {\n      toast.error('Por favor, preencha o nome da m??dia');\n      return;\n    }\n\n    if (!companyName.trim()) {\n      toast.error('Por favor, preencha o nome da empresa');\n      return;\n    }\n\n    if (!segment) {\n      toast.error('Por favor, selecione um seguimento');\n      return;\n    }\n\n    if (!aspectRatio) {\n      toast.error('Por favor, selecione a propor????o de tela');\n      return;\n    }\n\n    if (files.length === 0) {\n      toast.error('Por favor, selecione pelo menos um arquivo');\n      return;\n    }\n\n    setIsUploading(true);\n\n    for (let i = 0; i < files.length; i++) {\n      const uploadFile = files[i];\n      if (uploadFile.status !== 'pending') continue;\n\n      // Update status to uploading\n      setFiles(prev => prev.map((f, idx) => \n        idx === i ? { ...f, status: 'uploading' as const } : f\n      ));\n\n      try {\n        const fileExt = uploadFile.file.name.split('.').pop();\n        const fileName = `${Date.now()}-${Math.random().toString(36).substring(7)}.${fileExt}`;\n        const filePath = `${user.id}/${fileName}`;\n\n        // Upload to storage\n        const { error: uploadError } = await supabase.storage\n          .from('media')\n          .upload(filePath, uploadFile.file, {\n            cacheControl: '3600',\n            upsert: false,\n          });\n\n        if (uploadError) throw uploadError;\n\n        // Get public URL\n        const { data: { publicUrl } } = supabase.storage\n          .from('media')\n          .getPublicUrl(filePath);\n\n        // Use the custom name if provided, otherwise use original filename\n        const finalName = mediaName.trim() || uploadFile.file.name;\n\n        // Extract video thumbnail if it's a video\n        let thumbnailUrl: string | null = null;\n        if (getFileType(uploadFile.file.type) === 'video') {\n          try {\n            thumbnailUrl = await extractVideoThumbnail(uploadFile.file, user.id);\n          } catch (err) {\n            console.warn('Could not extract video thumbnail:', err);\n          }\n        }\n\n        // Save to database\n        const { error: dbError } = await supabase.from('media').insert({\n          user_id: user.id,\n          name: finalName,\n          file_path: filePath,\n          file_url: publicUrl,\n          file_type: getFileType(uploadFile.file.type),\n          file_size: uploadFile.file.size,\n          mime_type: uploadFile.file.type,\n          aspect_ratio: aspectRatio,\n          thumbnail_url: thumbnailUrl,\n        });\n\n        if (dbError) throw dbError;\n\n        // Update status to complete\n        setFiles(prev => prev.map((f, idx) => \n          idx === i ? { ...f, status: 'complete' as const, progress: 100 } : f\n        ));\n\n      } catch (error: any) {\n        console.error('Upload error:', error);\n        setFiles(prev => prev.map((f, idx) => \n          idx === i ? { ...f, status: 'error' as const, error: error.message } : f\n        ));\n      }\n    }\n\n    setIsUploading(false);\n    \n    const successCount = files.filter(f => f.status === 'complete').length + \n                         files.filter(f => f.status === 'pending').length;\n    \n    if (successCount > 0) {\n      toast.success(`${successCount} arquivo(s) enviado(s) com sucesso!`);\n      onUploadComplete();\n    }\n  };\n\n  const handleClose = () => {\n    if (!isUploading) {\n      setFiles([]);\n      setMediaName('');\n      setCompanyName('');\n      setSegment('');\n      setMediaDuration(10);\n      setScheduledDate(undefined);\n      setAspectRatio('16x9');\n      onOpenChange(false);\n    }\n  };\n\n  const pendingFiles = files.filter(f => f.status === 'pending');\n  const hasFilesToUpload = pendingFiles.length > 0;\n\n  return (\n    <Dialog open={open} onOpenChange={handleClose}>\n      <DialogContent className=\"sm:max-w-2xl max-h-[90vh] overflow-y-auto\">\n        <DialogHeader>\n          <DialogTitle>Upload de M??dias</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"space-y-4\">\n          {/* Nome da M??dia */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"mediaName\">Nome da M??dia</Label>\n            <Input\n              id=\"mediaName\"\n              placeholder=\"Digite o nome da m??dia\"\n              value={mediaName}\n              onChange={(e) => setMediaName(e.target.value)}\n            />\n          </div>\n\n          {/* Nome da Empresa */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"companyName\">Nome da Empresa</Label>\n            <Input\n              id=\"companyName\"\n              placeholder=\"Digite o nome da empresa\"\n              value={companyName}\n              onChange={(e) => setCompanyName(e.target.value)}\n            />\n          </div>\n\n          {/* Seguimento */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"segment\">Seguimento</Label>\n            <Select value={segment} onValueChange={setSegment}>\n              <SelectTrigger>\n                <SelectValue placeholder=\"Selecione o seguimento\" />\n              </SelectTrigger>\n              <SelectContent>\n                {SEGMENTS.map((seg) => (\n                  <SelectItem key={seg} value={seg}>\n                    {seg}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n\n          {/* Propor????o de Tela */}\n          <div className=\"space-y-2\">\n            <Label>Propor????o de Tela</Label>\n            <div className=\"grid grid-cols-2 gap-3\">\n              {/* 16x9 Horizontal */}\n              <button\n                type=\"button\"\n                onClick={() => setAspectRatio('16x9')}\n                className={`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${\n                  aspectRatio === '16x9'\n                    ? 'border-primary bg-primary/10'\n                    : 'border-muted-foreground/25 hover:border-primary/50'\n                }`}\n              >\n                <div className=\"flex-shrink-0\">\n                  <Monitor className=\"h-8 w-8 text-primary\" />\n                </div>\n                <div className=\"text-left\">\n                  <p className=\"font-medium text-sm\">16x9</p>\n                  <p className=\"text-xs text-muted-foreground\">Horizontal</p>\n                </div>\n              </button>\n\n              {/* 9x16 Vertical (deitado) */}\n              <button\n                type=\"button\"\n                onClick={() => setAspectRatio('9x16')}\n                className={`flex items-center gap-3 p-4 rounded-lg border-2 transition-all ${\n                  aspectRatio === '9x16'\n                    ? 'border-primary bg-primary/10'\n                    : 'border-muted-foreground/25 hover:border-primary/50'\n                }`}\n              >\n                <div className=\"flex-shrink-0\">\n                  <Monitor className=\"h-8 w-8 text-primary rotate-90\" />\n                </div>\n                <div className=\"text-left\">\n                  <p className=\"font-medium text-sm\">9x16</p>\n                  <p className=\"text-xs text-muted-foreground\">Vertical</p>\n                </div>\n              </button>\n            </div>\n          </div>\n\n          {/* Tempo de M??dia */}\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"mediaDuration\">Tempo de M??dia</Label>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5 text-muted-foreground\" />\n              <Input\n                id=\"mediaDuration\"\n                type=\"number\"\n                min={1}\n                max={120}\n                value={mediaDuration}\n                onChange={(e) => handleDurationChange(e.target.value)}\n                className=\"w-24\"\n              />\n              <span className=\"text-sm text-muted-foreground\">segundos (1s - 2min)</span>\n            </div>\n          </div>\n\n          {/* Agendamento */}\n          <div className=\"space-y-2\">\n            <Label>Agendamento</Label>\n            <Popover open={calendarOpen} onOpenChange={setCalendarOpen}>\n              <PopoverTrigger asChild>\n                <Button\n                  variant=\"outline\"\n                  className={cn(\n                    \"w-full justify-start text-left font-normal\",\n                    !scheduledDate && \"text-muted-foreground\"\n                  )}\n                >\n                  <CalendarIcon className=\"mr-2 h-4 w-4\" />\n                  {scheduledDate ? (\n                    format(scheduledDate, \"PPP\", { locale: ptBR })\n                  ) : (\n                    <span>Calend??rio</span>\n                  )}\n                </Button>\n              </PopoverTrigger>\n              <PopoverContent className=\"w-auto p-0\" align=\"start\">\n                <Calendar\n                  mode=\"single\"\n                  selected={scheduledDate}\n                  onSelect={(date) => {\n                    setScheduledDate(date);\n                    setCalendarOpen(false);\n                  }}\n                  locale={ptBR}\n                  initialFocus\n                  className=\"pointer-events-auto\"\n                />\n              </PopoverContent>\n            </Popover>\n          </div>\n\n          {/* Upload de M??dias */}\n          <div className=\"space-y-2\">\n            <Label>Upload de M??dias</Label>\n            <div\n              onDrop={handleDrop}\n              onDragOver={handleDragOver}\n              onDragLeave={handleDragLeave}\n              onClick={() => fileInputRef.current?.click()}\n              className={`\n                border-2 border-dashed rounded-lg p-6 text-center cursor-pointer transition-colors\n                ${isDragging \n                  ? 'border-primary bg-primary/5' \n                  : 'border-muted-foreground/25 hover:border-primary/50'\n                }\n              `}\n            >\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                multiple\n                accept={acceptedMimeTypes}\n                onChange={(e) => handleFileSelect(e.target.files)}\n                className=\"hidden\"\n              />\n              <Upload className=\"h-10 w-10 mx-auto mb-3 text-muted-foreground\" />\n              <p className=\"text-base font-medium mb-1\">\n                Arraste e solte seus arquivos aqui\n              </p>\n              <p className=\"text-sm text-muted-foreground\">\n                ou clique para selecionar\n              </p>\n              <p className=\"text-xs text-muted-foreground mt-2\">\n                Suporta: Imagens (JPG, PNG, GIF, WebP), V??deos (MP4, WebM), ??udios (MP3, WAV)\n              </p>\n            </div>\n          </div>\n\n          {/* File List */}\n          {files.length > 0 && (\n            <div className=\"space-y-2 max-h-40 overflow-y-auto\">\n              {files.map((uploadFile, index) => (\n                <div\n                  key={index}\n                  className=\"flex items-center gap-3 p-3 rounded-lg bg-muted/50\"\n                >\n                  {getFileIcon(getFileType(uploadFile.file.type))}\n                  <div className=\"flex-1 min-w-0\">\n                    <p className=\"text-sm font-medium truncate\">{uploadFile.file.name}</p>\n                    <p className=\"text-xs text-muted-foreground\">\n                      {formatFileSize(uploadFile.file.size)}\n                    </p>\n                    {uploadFile.status === 'uploading' && (\n                      <Progress value={50} className=\"h-1 mt-1\" />\n                    )}\n                    {uploadFile.status === 'error' && (\n                      <p className=\"text-xs text-destructive mt-1\">{uploadFile.error}</p>\n                    )}\n                  </div>\n                  {uploadFile.status === 'complete' ? (\n                    <CheckCircle2 className=\"h-5 w-5 text-success\" />\n                  ) : uploadFile.status !== 'uploading' && (\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        removeFile(index);\n                      }}\n                    >\n                      <X className=\"h-4 w-4\" />\n                    </Button>\n                  )}\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex justify-end gap-2 pt-4\">\n          <Button variant=\"outline\" onClick={handleClose} disabled={isUploading}>\n            Cancelar\n          </Button>\n          <Button \n            onClick={uploadFiles} \n            disabled={!hasFilesToUpload || isUploading}\n            className=\"gradient-primary\"\n          >\n            {isUploading ? 'Enviando...' : `Enviar ${pendingFiles.length} arquivo(s)`}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\native\\NativeStatus.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":6,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":6,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[293,296],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[293,296],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import React, { useEffect, useState } from 'react';\r\nimport { useNativePlayer } from '../../hooks/useNativePlayer';\r\n\r\nexport const NativeStatus: React.FC = () => {\r\n    const { isNative, getDeviceId, getPlayerConfig, showToast } = useNativePlayer();\r\n    const [config, setConfig] = useState<any>(null);\r\n    const [deviceId, setDeviceId] = useState<string>('Loading...');\r\n\r\n    useEffect(() => {\r\n        // Load data on mount\r\n        setDeviceId(getDeviceId());\r\n        try {\r\n            const configStr = getPlayerConfig();\r\n            setConfig(JSON.parse(configStr));\r\n        } catch (e) {\r\n            console.error(\"Failed to parse config\", e);\r\n        }\r\n    }, [getDeviceId, getPlayerConfig]);\r\n\r\n    const handleTestToast = () => {\r\n        showToast(\"Ol?? do React!\");\r\n    };\r\n\r\n    if (!isNative && process.env.NODE_ENV === 'production') {\r\n        // Optionally hide in production if not native\r\n        // return null; \r\n    }\r\n\r\n    return (\r\n        <div className=\"fixed bottom-4 right-4 p-4 bg-black/80 text-white rounded-lg backdrop-blur border border-white/20 shadow-xl max-w-sm\">\r\n            <h3 className=\"text-lg font-bold mb-2 flex items-center gap-2\">\r\n                <span className={`w-3 h-3 rounded-full ${isNative ? 'bg-green-500' : 'bg-yellow-500'}`} />\r\n                Diagn??stico do Sistema\r\n            </h3>\r\n\r\n            <div className=\"space-y-2 text-sm font-mono\">\r\n                <p><span className=\"text-gray-400\">Ambiente:</span> {isNative ? 'Sistema Android' : 'Navegador Web'}</p>\r\n                <p><span className=\"text-gray-400\">ID do Dispositivo:</span> {deviceId}</p>\r\n                <p><span className=\"text-gray-400\">Modo Quiosque:</span> {config?.kioskMode ? 'Ativo' : 'Inativo'}</p>\r\n                <p><span className=\"text-gray-400\">Vers??o:</span> {config?.version || 'N/A'}</p>\r\n            </div>\r\n\r\n            <button\r\n                onClick={handleTestToast}\r\n                className=\"mt-3 w-full py-1.5 px-3 bg-blue-600 hover:bg-blue-700 rounded text-sm font-medium transition-colors\"\r\n            >\r\n                Testar Alerta Nativo\r\n            </button>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\ClockWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\DirectMediaRenderer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\PlayerEngine.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":78,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":81,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2714,2717],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2714,2717],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":100,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":100,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4042,4045],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4042,4045],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has missing dependencies: 'hasStarted' and 'nextItem'. Either include them or remove the dependency array.","line":175,"column":8,"nodeType":"ArrayExpression","endLine":175,"endColumn":32,"suggestions":[{"desc":"Update the dependencies array to be: [currentIndex, hasStarted, nextItem, playlist]","fix":{"range":[6565,6589],"text":"[currentIndex, hasStarted, nextItem, playlist]"}}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useEffect, useState, useRef } from \"react\";\r\nimport { supabase } from \"@/integrations/supabase/client\";\r\nimport { Loader2, AlertCircle } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\n\r\ninterface MediaItem {\r\n    id: string;\r\n    url: string;\r\n    type: 'video' | 'image' | 'web';\r\n    duration: number;\r\n}\r\n\r\nexport const PlayerEngine = () => {\r\n    const [playlist, setPlaylist] = useState<MediaItem[]>([]);\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [error, setError] = useState<string | null>(null);\r\n    const [hasStarted, setHasStarted] = useState(false); // User interaction flag\r\n    const videoRef = useRef<HTMLVideoElement>(null);\r\n\r\n    // --- HARDENING: CODEC CHECK ---\r\n    // Web Strategy: \"Try and Skip\". Browsers are good at determining support at runtime.\r\n    // We only filter if we are 100% sure it's garbage.\r\n\r\n    // 1. Fetch Playlist & Sign URLs (Parallel)\r\n    useEffect(() => {\r\n        const fetchPlaylist = async () => {\r\n            try {\r\n                // Get ID from URL or LocalStorage\r\n                const params = new URLSearchParams(window.location.search);\r\n                const screenId = params.get('screen_id') || localStorage.getItem('saved_screen_id');\r\n\r\n                if (!screenId) {\r\n                    setError(\"Nenhuma tela selecionada.\");\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n\r\n                // Fetch Screen to get Playlist ID\r\n                const { data: screen, error: screenError } = await supabase\r\n                    .from('screens')\r\n                    .select('playlist_id')\r\n                    .eq('screen_code', screenId) // Assuming screen_code is the ID used\r\n                    .single();\r\n\r\n                if (screenError || !screen?.playlist_id) {\r\n                    console.warn(\"Screen not found.\");\r\n                    setError(\"Tela n??o encontrada.\");\r\n                    setIsLoading(false);\r\n                    return;\r\n                }\r\n\r\n                // Fetch Items\r\n                const { data: items, error: itemsError } = await supabase\r\n                    .from('playlist_items')\r\n                    .select(`\r\n                        id, position, duration,\r\n                        media:media_id ( file_url, type, duration_seconds )\r\n                    `)\r\n                    .eq('playlist_id', screen.playlist_id)\r\n                    .order('position');\r\n\r\n                if (itemsError) throw itemsError;\r\n\r\n                // RESOLVE SIGNED URLs (Parallel Promise.all)\r\n                const mappedItems = await Promise.all(items.map(async (item: any) => {\r\n                    let finalUrl = item.media.file_url;\r\n\r\n                    if (finalUrl && !finalUrl.startsWith('http')) {\r\n                        // Always try to sign relative paths\r\n                        const { data } = await supabase.storage\r\n                            .from('media')\r\n                            .createSignedUrl(finalUrl, 3600);\r\n\r\n                        if (data?.signedUrl) finalUrl = data.signedUrl;\r\n                        else {\r\n                            // Fallback public\r\n                            const { data: publicData } = supabase.storage.from('media').getPublicUrl(finalUrl);\r\n                            finalUrl = publicData.publicUrl;\r\n                        }\r\n                    }\r\n\r\n                    return {\r\n                        id: item.id,\r\n                        url: finalUrl,\r\n                        type: item.media.type,\r\n                        duration: item.duration || item.media.duration_seconds || 10\r\n                    };\r\n                }));\r\n\r\n                console.log(\"Playlist Ready:\", mappedItems);\r\n\r\n                if (mappedItems.length === 0) {\r\n                    setError(\"Playlist vazia.\");\r\n                } else {\r\n                    setPlaylist(mappedItems);\r\n                }\r\n\r\n            } catch (err: any) {\r\n                console.error(\"Sync Error:\", err);\r\n                setError(err.message);\r\n            } finally {\r\n                setIsLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchPlaylist();\r\n    }, []);\r\n\r\n    // 2. Playback Loop & Video Control\r\n    useEffect(() => {\r\n        if (!hasStarted || playlist.length === 0) return;\r\n\r\n        const currentItem = playlist[currentIndex];\r\n\r\n        // Image logic\r\n        if (currentItem.type === 'image') {\r\n            const timer = setTimeout(() => {\r\n                nextItem();\r\n            }, currentItem.duration * 1000);\r\n            return () => clearTimeout(timer);\r\n        }\r\n\r\n        // Video Logic: Force Play & Watchdog\r\n        if (currentItem.type === 'video' && videoRef.current) {\r\n            // Attempt to play immediately\r\n            const videoEl = videoRef.current;\r\n\r\n            const startPlay = async () => {\r\n                try {\r\n                    await videoEl.play();\r\n                } catch (e) {\r\n                    console.warn(\"Play attempt failed:\", e);\r\n                }\r\n            };\r\n            startPlay();\r\n\r\n            // WATCHDOG: Check for freezing every 1s\r\n            let lastTime = -1;\r\n            let stuckCount = 0;\r\n\r\n            const watchdog = setInterval(() => {\r\n                if (!videoEl) return;\r\n\r\n                const currentTime = videoEl.currentTime;\r\n                const isPlaying = !videoEl.paused && !videoEl.ended && videoEl.readyState > 2;\r\n\r\n                if (currentTime === lastTime) {\r\n                    stuckCount++;\r\n                    console.log(`Video Stuck Check: ${stuckCount}/5`);\r\n\r\n                    // Try to kickstart it\r\n                    if (stuckCount === 2) {\r\n                        console.log(\"Kickstarting video...\");\r\n                        videoEl.play().catch(() => { });\r\n                    }\r\n\r\n                    // If stuck for 5 seconds, SKIP\r\n                    if (stuckCount >= 5) {\r\n                        console.error(\"Watchdog: Video frozen, forcing skip.\");\r\n                        toast.error(\"V??deo travou. Pulando...\");\r\n                        clearInterval(watchdog);\r\n                        nextItem();\r\n                    }\r\n                } else {\r\n                    // It's moving, reset counters\r\n                    stuckCount = 0;\r\n                    lastTime = currentTime;\r\n                }\r\n            }, 1000);\r\n\r\n            return () => clearInterval(watchdog);\r\n        }\r\n    }, [currentIndex, playlist]);\r\n\r\n    const nextItem = () => {\r\n        setCurrentIndex((prev) => (prev + 1) % playlist.length);\r\n    };\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"h-screen w-full flex flex-col items-center justify-center bg-[#0F172A] text-white\">\r\n                <Loader2 className=\"w-10 h-10 animate-spin text-indigo-500 mb-4\" />\r\n                <p>Carregando M??dias...</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (error) {\r\n        return (\r\n            <div className=\"h-screen w-full flex flex-col items-center justify-center bg-[#0F172A] text-white p-8 text-center\">\r\n                <AlertCircle className=\"w-16 h-16 text-red-500 mb-4\" />\r\n                <h2 className=\"text-xl font-bold mb-2\">Erro de Reprodu????o</h2>\r\n                <p className=\"text-slate-400\">{error}</p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (playlist.length === 0) return null;\r\n\r\n    // START OVERLAY: Forces user interaction to unlock Autoplay for the entire session\r\n    if (!hasStarted) {\r\n        return (\r\n            <div\r\n                className=\"h-screen w-full flex flex-col items-center justify-center bg-black/90 z-50 cursor-pointer\"\r\n                onClick={() => setHasStarted(true)}\r\n            >\r\n                <div className=\"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full p-6 transition-all transform hover:scale-110 shadow-2xl animate-bounce\">\r\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" fill=\"currentColor\" className=\"w-16 h-16 pl-2\">\r\n                        <path fillRule=\"evenodd\" d=\"M4.5 5.653c0-1.426 1.529-2.33 2.779-1.643l11.54 6.348c1.295.712 1.295 2.573 0 3.285L7.28 19.991c-1.25.687-2.779-.217-2.779-1.643V5.653z\" clipRule=\"evenodd\" />\r\n                    </svg>\r\n                </div>\r\n                <p className=\"mt-8 text-white font-bold text-2xl tracking-widest uppercase\">\r\n                    Clique para Iniciar\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const currentItem = playlist[currentIndex];\r\n\r\n    return (\r\n        <div className=\"h-screen w-full bg-black overflow-hidden relative cursor-pointer\" onClick={() => {\r\n            // Unlock AudioContext/Autoplay on click (Redundant backup)\r\n            if (videoRef.current) videoRef.current.play();\r\n        }}>\r\n            {/* Media Renderer */}\r\n            {currentItem.type === 'image' && (\r\n                <img\r\n                    src={currentItem.url}\r\n                    className=\"w-full h-full object-cover animate-in fade-in duration-500\"\r\n                    alt=\"Playback\"\r\n                />\r\n            )}\r\n\r\n            {currentItem.type === 'video' && (\r\n                <video\r\n                    key={currentItem.id} // FORCE RE-MOUNT: Ensures fresh decoder for every video\r\n                    ref={videoRef}\r\n                    src={currentItem.url}\r\n                    className=\"w-full h-full object-contain\"\r\n                    muted\r\n                    playsInline\r\n                    autoPlay\r\n                    onEnded={nextItem}\r\n                    onError={(e) => {\r\n                        const err = e.currentTarget.error;\r\n                        console.error(\"Video Object Error:\", err);\r\n                        toast.error(`Erro: ${err?.message || \"C??digo \" + err?.code}`);\r\n                        // Wait 1s and skip\r\n                        setTimeout(nextItem, 1000);\r\n                    }}\r\n                />\r\n            )}\r\n\r\n            {/* Debug Overlay */}\r\n            <div className=\"absolute top-2 right-2 bg-black/50 text-white text-xs p-2 rounded z-50 pointer-events-none\">\r\n                Item {currentIndex + 1}/{playlist.length} <br />\r\n                Type: {currentItem.type}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\RssWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\Splash.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\player\\WeatherWidget.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\playlists\\PlaylistDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":144,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":144,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4453,4456],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4453,4456],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useRef } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport { Upload, X, Image } from 'lucide-react';\n\ninterface Playlist {\n  id: string;\n  name: string;\n  description: string | null;\n  is_active: boolean;\n  cover_url?: string | null;\n}\n\ninterface PlaylistDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  playlist?: Playlist | null;\n  onSaved: () => void;\n}\n\nexport function PlaylistDialog({ open, onOpenChange, playlist, onSaved }: PlaylistDialogProps) {\n  const { user } = useAuth();\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [isActive, setIsActive] = useState(true);\n  const [saving, setSaving] = useState(false);\n  const [coverUrl, setCoverUrl] = useState<string | null>(null);\n  const [coverFile, setCoverFile] = useState<File | null>(null);\n  const [coverPreview, setCoverPreview] = useState<string | null>(null);\n  const [uploadingCover, setUploadingCover] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  useEffect(() => {\n    if (playlist) {\n      setName(playlist.name);\n      setDescription(playlist.description || '');\n      setIsActive(playlist.is_active);\n      setCoverUrl(playlist.cover_url || null);\n      setCoverPreview(playlist.cover_url || null);\n    } else {\n      setName('');\n      setDescription('');\n      setIsActive(true);\n      setCoverUrl(null);\n      setCoverPreview(null);\n    }\n    setCoverFile(null);\n  }, [playlist, open]);\n\n  const handleCoverSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      if (!file.type.startsWith('image/')) {\n        toast.error('Por favor, selecione uma imagem');\n        return;\n      }\n      setCoverFile(file);\n      setCoverPreview(URL.createObjectURL(file));\n    }\n  };\n\n  const removeCover = () => {\n    setCoverFile(null);\n    setCoverPreview(null);\n    setCoverUrl(null);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  };\n\n  const uploadCover = async (): Promise<string | null> => {\n    if (!coverFile || !user) return coverUrl;\n\n    setUploadingCover(true);\n    try {\n      const fileExt = coverFile.name.split('.').pop();\n      const fileName = `${Date.now()}-cover.${fileExt}`;\n      const filePath = `${user.id}/covers/${fileName}`;\n\n      const { error: uploadError } = await supabase.storage\n        .from('media')\n        .upload(filePath, coverFile, {\n          cacheControl: '3600',\n          upsert: false,\n        });\n\n      if (uploadError) throw uploadError;\n\n      const { data: { publicUrl } } = supabase.storage\n        .from('media')\n        .getPublicUrl(filePath);\n\n      return publicUrl;\n    } catch (error) {\n      console.error('Error uploading cover:', error);\n      toast.error('Erro ao fazer upload da capa');\n      return null;\n    } finally {\n      setUploadingCover(false);\n    }\n  };\n\n  const handleSave = async () => {\n    if (!user) return;\n    if (!name.trim()) {\n      toast.error('Nome ?? obrigat??rio');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      // Upload cover if there's a new file\n      let finalCoverUrl = coverUrl;\n      if (coverFile) {\n        finalCoverUrl = await uploadCover();\n      } else if (!coverPreview && coverUrl) {\n        // Cover was removed\n        finalCoverUrl = null;\n      }\n\n      if (playlist) {\n        const { error } = await supabase\n          .from('playlists')\n          .update({ name, description, is_active: isActive, cover_url: finalCoverUrl })\n          .eq('id', playlist.id);\n        if (error) throw error;\n        toast.success('Playlist atualizada!');\n      } else {\n        const { error } = await supabase\n          .from('playlists')\n          .insert({ user_id: user.id, name, description, is_active: isActive, cover_url: finalCoverUrl });\n        if (error) throw error;\n        toast.success('Playlist criada!');\n      }\n      onSaved();\n      onOpenChange(false);\n    } catch (error: any) {\n      console.error('Error saving playlist:', error);\n      toast.error('Erro ao salvar playlist');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-h-[85vh] flex flex-col p-0 gap-0\">\n        <DialogHeader className=\"p-6 pb-2 shrink-0\">\n          <DialogTitle>{playlist ? 'Editar Playlist' : 'Nova Playlist'}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto p-6 pt-2 custom-scrollbar space-y-4\">\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"name\">Nome da Playlist</Label>\n            <Input\n              id=\"name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              placeholder=\"Ex: Manh??, Ofertas, Institucional\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"description\">Descri????o (Opcional)</Label>\n            <Textarea\n              id=\"description\"\n              value={description}\n              onChange={(e) => setDescription(e.target.value)}\n              placeholder=\"Uma breve descri????o sobre o conte??do...\"\n            />\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label>Capa da Playlist</Label>\n            <div className=\"flex items-start gap-4\">\n              <div\n                className=\"w-24 h-24 rounded-lg bg-muted flex items-center justify-center border-2 border-dashed overflow-hidden relative cursor-pointer hover:bg-muted/80 transition-colors\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                {coverPreview ? (\n                  <>\n                    <img\n                      src={coverPreview}\n                      alt=\"Capa\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                    <div className=\"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 hover:opacity-100 transition-opacity\">\n                      <Upload className=\"h-6 w-6 text-white\" />\n                    </div>\n                  </>\n                ) : (\n                  <div className=\"flex flex-col items-center gap-1 text-muted-foreground\">\n                    <Image className=\"h-8 w-8\" />\n                    <span className=\"text-[10px]\">Alterar</span>\n                  </div>\n                )}\n              </div>\n              <div className=\"flex-1 space-y-2\">\n                <Input\n                  ref={fileInputRef}\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={handleCoverSelect}\n                  className=\"hidden\"\n                />\n                <div className=\"text-sm text-muted-foreground\">\n                  <p>Selecione uma imagem para identificar a playlist.</p>\n                  <p className=\"text-xs mt-1\">Formatos aceitos: JPG, PNG, WEBP</p>\n                </div>\n                {coverPreview && (\n                  <Button variant=\"outline\" size=\"sm\" onClick={removeCover} className=\"h-8 text-xs text-destructive hover:text-destructive\">\n                    <X className=\"h-3 w-3 mr-1\" />\n                    Remover Capa\n                  </Button>\n                )}\n              </div>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between border rounded-lg p-3\">\n            <div className=\"space-y-0.5\">\n              <Label>Playlist Ativa</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                Se desativada, n??o aparecer?? nas telas vinculadas\n              </p>\n            </div>\n            <Switch checked={isActive} onCheckedChange={setIsActive} />\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t bg-background mt-auto flex justify-end gap-2 shrink-0\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancelar\n          </Button>\n          <Button onClick={handleSave} disabled={saving || uploadingCover}>\n            {saving || uploadingCover ? 'Salvando...' : 'Salvar'}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\playlists\\PlaylistItemsDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":179,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":179,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6725,6728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6725,6728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":191,"column":6,"nodeType":"ArrayExpression","endLine":191,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, open, playlist]","fix":{"range":[6960,6976],"text":"[fetchData, open, playlist]"}}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":289,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":289,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9777,9780],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9777,9780],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":317,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":317,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10640,10643],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10640,10643],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":345,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":345,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11519,11522],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11519,11522],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":366,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":366,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12182,12185],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12182,12185],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":381,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":381,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12630,12633],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12630,12633],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":390,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":390,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12957,12960],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12957,12960],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":395,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":395,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[13116,13119],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[13116,13119],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":8,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { ScrollArea } from '@/components/ui/scroll-area';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport { Popover, PopoverContent, PopoverTrigger } from '@/components/ui/popover';\nimport { ToggleGroup, ToggleGroupItem } from '@/components/ui/toggle-group';\nimport { Plus, Trash2, GripVertical, Image, Video, Music, Clock, Loader2, Cloud, Newspaper, LayoutGrid, ArrowUp, ArrowDown, Link2, Calendar as CalendarIcon } from 'lucide-react';\nimport { Playlist, Media, Widget, ExternalLink, PlaylistItem, WidgetType } from '@/types/models';\n\ninterface PlaylistItemsDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  playlist: Playlist | null;\n}\n\nconst getFileIcon = (type: string) => {\n  switch (type) {\n    case 'image': return <Image className=\"h-5 w-5 text-primary\" />;\n    case 'video': return <Video className=\"h-5 w-5 text-accent\" />;\n    case 'audio': return <Music className=\"h-5 w-5 text-success\" />;\n    default: return <Image className=\"h-5 w-5 text-muted-foreground\" />;\n  }\n};\n\nconst getWidgetLabel = (type: string) => {\n  switch (type) {\n    case 'clock': return 'Rel??gio';\n    case 'weather': return 'Clima';\n    case 'rss': return 'Not??cias';\n    default: return 'Widget';\n  }\n};\n\n// Componente de preview do rel??gio em miniatura\nconst ClockPreview = () => {\n  const [time, setTime] = useState(new Date());\n\n  useEffect(() => {\n    const timer = setInterval(() => setTime(new Date()), 1000);\n    return () => clearInterval(timer);\n  }, []);\n\n  return (\n    <div className=\"w-full h-full bg-gradient-to-br from-primary/20 to-primary/5 flex items-center justify-center\">\n      <span className=\"text-xs font-bold text-primary\">\n        {time.toLocaleTimeString('pt-BR', { hour: '2-digit', minute: '2-digit' })}\n      </span>\n    </div>\n  );\n};\n\n// Componente de preview do clima em miniatura\nconst WeatherPreview = () => (\n  <div className=\"w-full h-full bg-gradient-to-br from-blue-500/20 to-blue-500/5 flex items-center justify-center\">\n    <Cloud className=\"h-5 w-5 text-blue-500\" />\n  </div>\n);\n\n// Componente de preview do RSS em miniatura\nconst RssPreview = () => (\n  <div className=\"w-full h-full bg-gradient-to-br from-orange-500/20 to-orange-500/5 flex items-center justify-center\">\n    <Newspaper className=\"h-5 w-5 text-orange-500\" />\n  </div>\n);\n\n// Extrair thumbnail do Instagram a partir da URL\nconst getInstagramThumbnail = (url: string) => {\n  // Tentar extrair o ID do post do Instagram\n  const match = url.match(/instagram\\.com\\/p\\/([^/?#&]+)/);\n  if (match) {\n    // Usar a URL de embed do Instagram como thumbnail\n    return `https://www.instagram.com/p/${match[1]}/media/?size=t`;\n  }\n  return null;\n};\n\n// Componente de thumbnail para links externos\nconst ExternalLinkThumbnail = ({ link }: { link: ExternalLink }) => {\n  const [imgError, setImgError] = useState(false);\n\n  // Tentar usar thumbnail_url salvo, ou extrair do Instagram\n  let thumbnailUrl = link.thumbnail_url;\n  if (!thumbnailUrl && link.platform.toLowerCase().includes('instagram')) {\n    thumbnailUrl = getInstagramThumbnail(link.url);\n  }\n\n  if (thumbnailUrl && !imgError) {\n    return (\n      <img\n        src={thumbnailUrl}\n        alt=\"\"\n        className=\"w-full h-full object-cover\"\n        onError={() => setImgError(true)}\n      />\n    );\n  }\n\n  // Fallback: mostrar ??cone com cor baseada na plataforma\n  const platform = link.platform.toLowerCase();\n  if (platform.includes('instagram')) {\n    return (\n      <div className=\"w-full h-full bg-gradient-to-br from-pink-500/30 via-purple-500/30 to-orange-500/30 flex items-center justify-center\">\n        <span className=\"text-[10px] font-bold text-white\">IG</span>\n      </div>\n    );\n  }\n  if (platform.includes('youtube')) {\n    return (\n      <div className=\"w-full h-full bg-gradient-to-br from-red-500/30 to-red-600/30 flex items-center justify-center\">\n        <span className=\"text-[10px] font-bold text-white\">YT</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full h-full bg-gradient-to-br from-purple-500/20 to-purple-500/5 flex items-center justify-center\">\n      <Link2 className=\"h-5 w-5 text-purple-500\" />\n    </div>\n  );\n};\n\nexport function PlaylistItemsDialog({ open, onOpenChange, playlist }: PlaylistItemsDialogProps) {\n  const { user } = useAuth();\n  const [items, setItems] = useState<PlaylistItem[]>([]);\n  const [availableMedia, setAvailableMedia] = useState<Media[]>([]);\n  const [availableWidgets, setAvailableWidgets] = useState<Widget[]>([]);\n  const [availableLinks, setAvailableLinks] = useState<ExternalLink[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [showPicker, setShowPicker] = useState(false);\n  const [pickerTab, setPickerTab] = useState<'media' | 'widgets' | 'links'>('media');\n  const [draggedIndex, setDraggedIndex] = useState<number | null>(null);\n  const [dragOverIndex, setDragOverIndex] = useState<number | null>(null);\n\n  const fetchData = async () => {\n    if (!playlist || !user) return;\n\n    setLoading(true);\n    try {\n      const { data: itemsData, error: itemsError } = await supabase\n        .from('playlist_items')\n        .select('*, media:media_id(*), widget:widget_id(*), external_link:external_link_id(*)')\n        .eq('playlist_id', playlist.id)\n        .order('position');\n\n      if (itemsError) throw itemsError;\n      setItems((itemsData || []) as PlaylistItem[]);\n\n      const { data: mediaData, error: mediaError } = await supabase\n        .from('media')\n        .select('*')\n        .order('created_at', { ascending: false });\n\n      if (mediaError) throw mediaError;\n      setAvailableMedia((mediaData || []) as unknown as Media[]);\n\n      const { data: widgetData, error: widgetError } = await supabase\n        .from('widgets')\n        .select('*')\n        .eq('is_active', true)\n        .order('created_at', { ascending: false });\n\n      if (widgetError) throw widgetError;\n      setAvailableWidgets((widgetData || []) as unknown as Widget[]);\n\n      const { data: linksData, error: linksError } = await supabase\n        .from('external_links')\n        .select('*')\n        .eq('is_active', true)\n        .order('created_at', { ascending: false });\n\n      if (linksError) throw linksError;\n      setAvailableLinks((linksData || []) as ExternalLink[]);\n    } catch (error: any) {\n      console.error('Error fetching data:', error);\n      toast.error('Erro ao carregar dados');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (open && playlist) {\n      fetchData();\n    }\n  }, [open, playlist]);\n\n  const updatePositions = useCallback(async (newItems: PlaylistItem[]) => {\n    try {\n      const updates = newItems.map((item, index) =>\n        supabase\n          .from('playlist_items')\n          .update({ position: index })\n          .eq('id', item.id)\n      );\n\n      await Promise.all(updates);\n    } catch (error) {\n      console.error('Error updating positions:', error);\n      toast.error('Erro ao atualizar posi????es');\n    }\n  }, []);\n\n  const handleDragStart = (e: React.DragEvent, index: number) => {\n    setDraggedIndex(index);\n    e.dataTransfer.effectAllowed = 'move';\n    e.dataTransfer.setData('text/html', '');\n  };\n\n  const handleDragOver = (e: React.DragEvent, index: number) => {\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n    setDragOverIndex(index);\n  };\n\n  const handleDragLeave = () => {\n    setDragOverIndex(null);\n  };\n\n  const handleDrop = async (e: React.DragEvent, dropIndex: number) => {\n    e.preventDefault();\n\n    if (draggedIndex === null || draggedIndex === dropIndex) {\n      setDraggedIndex(null);\n      setDragOverIndex(null);\n      return;\n    }\n\n    const newItems = [...items];\n    const [draggedItem] = newItems.splice(draggedIndex, 1);\n    newItems.splice(dropIndex, 0, draggedItem);\n\n    const updatedItems = newItems.map((item, index) => ({ ...item, position: index }));\n    setItems(updatedItems);\n\n    await updatePositions(updatedItems);\n    toast.success('Ordem atualizada!');\n\n    setDraggedIndex(null);\n    setDragOverIndex(null);\n  };\n\n  const handleDragEnd = () => {\n    setDraggedIndex(null);\n    setDragOverIndex(null);\n  };\n\n  const moveItem = async (fromIndex: number, toIndex: number) => {\n    if (toIndex < 0 || toIndex >= items.length) return;\n\n    const newItems = [...items];\n    const [movedItem] = newItems.splice(fromIndex, 1);\n    newItems.splice(toIndex, 0, movedItem);\n\n    const updatedItems = newItems.map((item, index) => ({ ...item, position: index }));\n    setItems(updatedItems);\n\n    await updatePositions(updatedItems);\n    toast.success('Ordem atualizada!');\n  };\n\n  const addMedia = async (media: Media) => {\n    if (!playlist) return;\n\n    try {\n      const newPosition = items.length;\n      const { data, error } = await supabase\n        .from('playlist_items')\n        .insert({\n          playlist_id: playlist.id,\n          media_id: media.id,\n          widget_id: null,\n          external_link_id: null,\n          position: newPosition,\n          duration: media.file_type === 'video' ? 0 : 10,\n        })\n        .select('*, media:media_id(*), widget:widget_id(*), external_link:external_link_id(*)')\n        .single();\n\n      if (error) throw error;\n      setItems([...items, data as PlaylistItem]);\n      setShowPicker(false);\n      toast.success('M??dia adicionada!');\n    } catch (error: any) {\n      console.error('Error adding media:', error);\n      toast.error('Erro ao adicionar m??dia: ' + (error.message || 'Erro desconhecido'));\n    }\n  };\n\n  const addWidget = async (widget: Widget) => {\n    if (!playlist) return;\n\n    try {\n      const newPosition = items.length;\n      const { data, error } = await supabase\n        .from('playlist_items')\n        .insert({\n          playlist_id: playlist.id,\n          media_id: null,\n          widget_id: widget.id,\n          external_link_id: null,\n          position: newPosition,\n          duration: 15,\n        })\n        .select('*, media:media_id(*), widget:widget_id(*), external_link:external_link_id(*)')\n        .single();\n\n      if (error) throw error;\n      setItems([...items, data as PlaylistItem]);\n      setShowPicker(false);\n      toast.success('Widget adicionado!');\n    } catch (error: any) {\n      console.error('Error adding widget:', error);\n      toast.error('Erro ao adicionar widget: ' + (error.message || 'Erro desconhecido'));\n    }\n  };\n\n  const addExternalLink = async (link: ExternalLink) => {\n    if (!playlist) return;\n\n    try {\n      const newPosition = items.length;\n      const { data, error } = await supabase\n        .from('playlist_items')\n        .insert({\n          playlist_id: playlist.id,\n          media_id: null,\n          widget_id: null,\n          external_link_id: link.id,\n          position: newPosition,\n          duration: 30,\n        })\n        .select('*, media:media_id(*), widget:widget_id(*), external_link:external_link_id(*)')\n        .single();\n\n      if (error) throw error;\n      setItems([...items, data as PlaylistItem]);\n      setShowPicker(false);\n      toast.success('Link externo adicionado!');\n    } catch (error: any) {\n      console.error('Error adding external link:', error);\n      toast.error('Erro ao adicionar link externo: ' + (error.message || 'Erro desconhecido'));\n    }\n  };\n\n  const removeItem = async (itemId: string) => {\n    try {\n      const { error } = await supabase\n        .from('playlist_items')\n        .delete()\n        .eq('id', itemId);\n\n      if (error) throw error;\n\n      const newItems = items.filter(i => i.id !== itemId);\n      const updatedItems = newItems.map((item, index) => ({ ...item, position: index }));\n      setItems(updatedItems);\n      await updatePositions(updatedItems);\n\n      toast.success('Item removido!');\n    } catch (error: any) {\n      console.error('Error removing item:', error);\n      toast.error('Erro ao remover item');\n    }\n  };\n\n  const updateDuration = async (itemId: string, duration: number) => {\n    try {\n      const { error } = await supabase\n        .from('playlist_items')\n        .update({ duration })\n        .eq('id', itemId);\n\n      if (error) throw error;\n      setItems(items.map(i => i.id === itemId ? { ...i, duration } : i));\n    } catch (error: any) {\n      console.error('Error updating duration:', error);\n    }\n  };\n\n  const updateSchedule = async (itemId: string, updates: { start_time?: string | null, end_time?: string | null, days?: number[] | null }) => {\n    try {\n      const { error } = await supabase\n        .from('playlist_items')\n        .update(updates as any)\n        .eq('id', itemId);\n\n      if (error) throw error;\n      setItems(items.map(i => i.id === itemId ? { ...i, ...updates } : i));\n    } catch (error: any) {\n      console.error('Error updating schedule:', error);\n      toast.error('Erro ao atualizar agendamento');\n    }\n  };\n\n\n\n  const totalDuration = items.reduce((acc, item) => acc + item.duration, 0);\n  const formatDuration = (seconds: number) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins}:${secs.toString().padStart(2, '0')}`;\n  };\n\n  const usedMediaIds = items.filter(i => i.media_id).map(i => i.media_id);\n  const unusedMedia = availableMedia.filter(m => !usedMediaIds.includes(m.id));\n\n  const getItemName = (item: PlaylistItem) => {\n    if (item.media) return item.media.name;\n    if (item.widget) return item.widget.name;\n    if (item.external_link) return item.external_link.title;\n    return 'Item desconhecido';\n  };\n\n  const getItemThumbnail = (item: PlaylistItem) => {\n    if (item.media) {\n      if (item.media.file_type === 'image') {\n        return <img src={item.media.file_url} alt=\"\" className=\"w-full h-full object-cover\" />;\n      }\n      if (item.media.file_type === 'video') {\n        // Usar thumbnail se dispon??vel, sen??o mostrar ??cone\n        if (item.media.thumbnail_url) {\n          return <img src={item.media.thumbnail_url} alt=\"\" className=\"w-full h-full object-cover\" />;\n        }\n        return (\n          <div className=\"w-full h-full bg-gradient-to-br from-accent/20 to-accent/5 flex items-center justify-center relative\">\n            <Video className=\"h-5 w-5 text-accent\" />\n          </div>\n        );\n      }\n      return getFileIcon(item.media.file_type);\n    }\n    if (item.widget) {\n      switch (item.widget.widget_type) {\n        case 'clock':\n          return <ClockPreview />;\n        case 'weather':\n          return <WeatherPreview />;\n        case 'rss':\n          return <RssPreview />;\n        default:\n          return <LayoutGrid className=\"h-5 w-5 text-muted-foreground\" />;\n      }\n    }\n    if (item.external_link) {\n      return <ExternalLinkThumbnail link={item.external_link} />;\n    }\n    return <LayoutGrid className=\"h-5 w-5 text-muted-foreground\" />;\n  };\n\n  const getItemSubtitle = (item: PlaylistItem) => {\n    if (item.widget) return getWidgetLabel(item.widget.widget_type);\n    if (item.external_link) return item.external_link.platform;\n    return null;\n  };\n\n  if (!playlist) return null;\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-2xl max-h-[85vh] flex flex-col p-0 gap-0\">\n        <DialogHeader className=\"p-6 pb-2 shrink-0\">\n          <DialogTitle className=\"flex items-center justify-between\">\n            <span>Itens em \"{playlist.name}\"</span>\n            <span className=\"text-sm font-normal text-muted-foreground flex items-center gap-1\">\n              <Clock className=\"h-4 w-4\" />\n              Total: {formatDuration(totalDuration)}\n            </span>\n          </DialogTitle>\n        </DialogHeader>\n\n        {loading ? (\n          <div className=\"flex items-center justify-center py-8\">\n            <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n          </div>\n        ) : (\n          <>\n            <div className=\"flex-1 overflow-y-auto p-6 pt-2 custom-scrollbar\">\n              {items.length === 0 ? (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  Nenhum item na playlist. Adicione m??dias, widgets ou links abaixo.\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {items.length > 0 && (\n                    <p className=\"text-xs text-muted-foreground text-center mb-2\">\n                      Arraste os itens para reordenar ou use as setas\n                    </p>\n                  )}\n\n                  {items.map((item, index) => (\n                    <div\n                      key={item.id}\n                      draggable\n                      onDragStart={(e) => handleDragStart(e, index)}\n                      onDragOver={(e) => handleDragOver(e, index)}\n                      onDragLeave={handleDragLeave}\n                      onDrop={(e) => handleDrop(e, index)}\n                      onDragEnd={handleDragEnd}\n                      className={`flex items-center gap-3 p-3 rounded-lg bg-muted/50 group transition-all ${draggedIndex === index ? 'opacity-50 scale-95' : ''\n                        } ${dragOverIndex === index ? 'ring-2 ring-primary ring-offset-2' : ''\n                        }`}\n                    >\n                      <GripVertical className=\"h-5 w-5 text-muted-foreground cursor-grab active:cursor-grabbing flex-shrink-0\" />\n\n                      <div className=\"flex flex-col gap-1\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-6 w-6\"\n                          onClick={() => moveItem(index, index - 1)}\n                          disabled={index === 0}\n                        >\n                          <ArrowUp className=\"h-3 w-3\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"h-6 w-6\"\n                          onClick={() => moveItem(index, index + 1)}\n                          disabled={index === items.length - 1}\n                        >\n                          <ArrowDown className=\"h-3 w-3\" />\n                        </Button>\n                      </div>\n\n                      <span className=\"text-sm font-medium text-muted-foreground w-6\">\n                        {index + 1}\n                      </span>\n                      <div className=\"w-12 h-12 rounded overflow-hidden bg-muted flex-shrink-0 flex items-center justify-center\">\n                        {getItemThumbnail(item)}\n                      </div>\n                      <div className=\"flex-1 min-w-0\">\n                        <p className=\"text-sm font-medium truncate\">\n                          {getItemName(item)}\n                        </p>\n                        {getItemSubtitle(item) && (\n                          <p className=\"text-xs text-muted-foreground\">\n                            {getItemSubtitle(item)}\n                          </p>\n                        )}\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Label className=\"text-xs text-muted-foreground\">Dura????o (s):</Label>\n                        <Input\n                          type=\"number\"\n                          min={0}\n                          value={item.duration}\n                          onChange={(e) => updateDuration(item.id, parseInt(e.target.value) || 0)}\n                          className=\"w-20 h-8\"\n                        />\n                      </div>\n\n                      <Popover>\n                        <PopoverTrigger asChild>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"icon\"\n                            className={item.start_time || (item.days && item.days.length > 0) ? \"text-primary hover:text-primary\" : \"text-muted-foreground hover:text-foreground\"}\n                          >\n                            <CalendarIcon className=\"h-4 w-4\" />\n                          </Button>\n                        </PopoverTrigger>\n                        <PopoverContent className=\"w-80\">\n                          <div className=\"space-y-4\">\n                            <h4 className=\"font-medium leading-none\">Agendamento</h4>\n                            <p className=\"text-sm text-muted-foreground\">Defina quando este item deve aparecer.</p>\n\n                            <div className=\"grid gap-2\">\n                              <div className=\"grid grid-cols-2 gap-2\">\n                                <div className=\"space-y-1\">\n                                  <Label htmlFor={`start-${item.id}`}>In??cio</Label>\n                                  <Input\n                                    id={`start-${item.id}`}\n                                    type=\"time\"\n                                    value={item.start_time || ''}\n                                    onChange={(e) => updateSchedule(item.id, { start_time: e.target.value || null })}\n                                  />\n                                </div>\n                                <div className=\"space-y-1\">\n                                  <Label htmlFor={`end-${item.id}`}>Fim</Label>\n                                  <Input\n                                    id={`end-${item.id}`}\n                                    type=\"time\"\n                                    value={item.end_time || ''}\n                                    onChange={(e) => updateSchedule(item.id, { end_time: e.target.value || null })}\n                                  />\n                                </div>\n                              </div>\n                            </div>\n\n                            <div className=\"space-y-2\">\n                              <Label>Dias da Semana</Label>\n                              <ToggleGroup\n                                type=\"multiple\"\n                                variant=\"outline\"\n                                value={item.days?.map(String) || []}\n                                onValueChange={(val) => {\n                                  const nums = val.map(Number).sort((a, b) => a - b);\n                                  updateSchedule(item.id, { days: nums.length > 0 ? nums : null });\n                                }}\n                                className=\"flex justify-between\"\n                              >\n                                {['D', 'S', 'T', 'Q', 'Q', 'S', 'S'].map((d, i) => (\n                                  <ToggleGroupItem key={i} value={String(i)} className=\"h-8 w-8 p-0\" title={['Domingo', 'Segunda', 'Ter??a', 'Quarta', 'Quinta', 'Sexta', 'S??bado'][i]}>\n                                    {d}\n                                  </ToggleGroupItem>\n                                ))}\n                              </ToggleGroup>\n                              <p className=\"text-xs text-muted-foreground text-center\">\n                                {item.days && item.days.length > 0\n                                  ? item.days.length === 7\n                                    ? 'Todos os dias'\n                                    : 'Apenas dias selecionados'\n                                  : 'Todos os dias (Padr??o)'}\n                              </p>\n                            </div>\n                          </div>\n                        </PopoverContent>\n                      </Popover>\n\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => removeItem(item.id)}\n                        className=\"opacity-0 group-hover:opacity-100 transition-opacity\"\n                      >\n                        <Trash2 className=\"h-4 w-4 text-destructive\" />\n                      </Button>\n                    </div>\n                  ))}\n                </div>\n              )}\n            </div>\n\n            <div className=\"p-4 border-t bg-background mt-auto shrink-0\">\n              {showPicker ? (\n                <div className=\"space-y-3\">\n                  <div className=\"flex items-center justify-between\">\n                    <Label>Selecione um item:</Label>\n                    <Button variant=\"ghost\" size=\"sm\" onClick={() => setShowPicker(false)}>\n                      Cancelar\n                    </Button>\n                  </div>\n\n                  <Tabs value={pickerTab} onValueChange={(v) => setPickerTab(v as 'media' | 'widgets' | 'links')}>\n                    <TabsList className=\"grid w-full grid-cols-3\">\n                      <TabsTrigger value=\"media\" className=\"flex items-center gap-2\">\n                        <Image className=\"h-4 w-4\" />\n                        M??dias\n                      </TabsTrigger>\n                      <TabsTrigger value=\"widgets\" className=\"flex items-center gap-2\">\n                        <LayoutGrid className=\"h-4 w-4\" />\n                        Widgets\n                      </TabsTrigger>\n                      <TabsTrigger value=\"links\" className=\"flex items-center gap-2\">\n                        <Link2 className=\"h-4 w-4\" />\n                        Links\n                      </TabsTrigger>\n                    </TabsList>\n\n                    <TabsContent value=\"media\" className=\"mt-3\">\n                      <ScrollArea className=\"h-[200px]\">\n                        {unusedMedia.length === 0 ? (\n                          <div className=\"text-center py-4 text-muted-foreground\">\n                            Todas as m??dias j?? foram adicionadas\n                          </div>\n                        ) : (\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            {unusedMedia.map(media => (\n                              <div\n                                key={media.id}\n                                onClick={() => addMedia(media)}\n                                className=\"flex items-center gap-2 p-2 rounded-lg border cursor-pointer hover:bg-muted/50 transition-colors\"\n                              >\n                                <div className=\"w-10 h-10 rounded overflow-hidden bg-muted flex-shrink-0 flex items-center justify-center\">\n                                  {media.file_type === 'image' ? (\n                                    <img src={media.file_url} alt=\"\" className=\"w-full h-full object-cover\" />\n                                  ) : (\n                                    getFileIcon(media.file_type)\n                                  )}\n                                </div>\n                                <span className=\"text-sm truncate\">{media.name}</span>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </ScrollArea>\n                    </TabsContent>\n\n                    <TabsContent value=\"widgets\" className=\"mt-3\">\n                      <ScrollArea className=\"h-[200px]\">\n                        {availableWidgets.length === 0 ? (\n                          <div className=\"text-center py-4 text-muted-foreground\">\n                            Nenhum widget dispon??vel. Crie widgets na se????o Widgets.\n                          </div>\n                        ) : (\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            {availableWidgets.map(widget => {\n                              const WidgetPreviewComponent = () => {\n                                switch (widget.widget_type) {\n                                  case 'clock': return <ClockPreview />;\n                                  case 'weather': return <WeatherPreview />;\n                                  case 'rss': return <RssPreview />;\n                                  default: return <LayoutGrid className=\"h-5 w-5 text-muted-foreground\" />;\n                                }\n                              };\n                              return (\n                                <div\n                                  key={widget.id}\n                                  onClick={() => addWidget(widget)}\n                                  className=\"flex items-center gap-2 p-2 rounded-lg border cursor-pointer hover:bg-muted/50 transition-colors\"\n                                >\n                                  <div className=\"w-10 h-10 rounded overflow-hidden bg-muted flex-shrink-0 flex items-center justify-center\">\n                                    <WidgetPreviewComponent />\n                                  </div>\n                                  <div className=\"flex-1 min-w-0\">\n                                    <span className=\"text-sm truncate block\">{widget.name}</span>\n                                    <span className=\"text-xs text-muted-foreground\">\n                                      {getWidgetLabel(widget.widget_type)}\n                                    </span>\n                                  </div>\n                                </div>\n                              );\n                            })}\n                          </div>\n                        )}\n                      </ScrollArea>\n                    </TabsContent>\n\n                    <TabsContent value=\"links\" className=\"mt-3\">\n                      <ScrollArea className=\"h-[200px]\">\n                        {availableLinks.length === 0 ? (\n                          <div className=\"text-center py-4 text-muted-foreground\">\n                            Nenhum link externo dispon??vel. Crie links na se????o Links Externos.\n                          </div>\n                        ) : (\n                          <div className=\"grid grid-cols-2 gap-2\">\n                            {availableLinks.map(link => (\n                              <div\n                                key={link.id}\n                                onClick={() => addExternalLink(link)}\n                                className=\"flex items-center gap-2 p-2 rounded-lg border cursor-pointer hover:bg-muted/50 transition-colors\"\n                              >\n                                <div className=\"w-10 h-10 rounded overflow-hidden bg-muted flex-shrink-0 flex items-center justify-center\">\n                                  <ExternalLinkThumbnail link={link} />\n                                </div>\n                                <div className=\"flex-1 min-w-0\">\n                                  <span className=\"text-sm truncate block\">{link.title}</span>\n                                  <span className=\"text-xs text-muted-foreground\">\n                                    {link.platform}\n                                  </span>\n                                </div>\n                              </div>\n                            ))}\n                          </div>\n                        )}\n                      </ScrollArea>\n                    </TabsContent>\n                  </Tabs>\n                </div>\n              ) : (\n                <Button onClick={() => setShowPicker(true)} className=\"w-full\" variant=\"outline\">\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Adicionar Item\n                </Button>\n              )}\n            </div>\n          </>\n        )}\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\pwa\\PWAInstallPrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\pwa\\PWAOfflineIndicator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\pwa\\PWAProvider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\pwa\\PWAUpdatePrompt.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\pwa\\SmartInstallBanner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\screens\\ScreenDialog.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":151,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":151,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4455,4458],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4455,4458],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Textarea } from '@/components/ui/textarea';\nimport { Switch } from '@/components/ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport { Monitor, MonitorSmartphone, Loader2 } from 'lucide-react';\n\nimport { Screen } from '@/types/models';\n\ninterface Playlist {\n  id: string;\n  name: string;\n}\n\ninterface ScreenDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  screen?: Screen | null;\n  onSaved: () => void;\n}\n\nconst ASPECT_RATIOS = [\n  { value: '16x9', label: '16x9 (Horizontal)', icon: 'horizontal' },\n  { value: '9x16', label: '9x16 (Vertical)', icon: 'vertical' },\n];\n\nexport function ScreenDialog({ open, onOpenChange, screen, onSaved }: ScreenDialogProps) {\n  const { user } = useAuth();\n  const [name, setName] = useState('');\n  const [description, setDescription] = useState('');\n  const [location, setLocation] = useState('');\n  const [resolution, setResolution] = useState('16x9');\n  const [customId, setCustomId] = useState('');\n  const [playlistId, setPlaylistId] = useState<string | null>(null);\n  const [isActive, setIsActive] = useState(true);\n  const [playlists, setPlaylists] = useState<Playlist[]>([]);\n  const [saving, setSaving] = useState(false);\n\n  useEffect(() => {\n    const fetchPlaylists = async () => {\n      const { data } = await supabase\n        .from('playlists')\n        .select('id, name')\n        .eq('is_active', true)\n        .order('name');\n      setPlaylists(data || []);\n    };\n\n    if (open) {\n      fetchPlaylists();\n    }\n  }, [open]);\n\n  useEffect(() => {\n    if (screen) {\n      setName(screen.name);\n      setDescription(screen.description || '');\n      setLocation(screen.location || '');\n      setResolution(screen.resolution || '16x9');\n      setCustomId(screen.custom_id || '');\n      setPlaylistId(screen.playlist_id);\n      setIsActive(screen.is_active);\n    } else {\n      setName('');\n      setDescription('');\n      setLocation('');\n      setResolution('16x9');\n      setCustomId('');\n      setPlaylistId(null);\n      setIsActive(true);\n    }\n  }, [screen, open]);\n\n  const handleSave = async () => {\n    if (!user) return;\n    if (!name.trim()) {\n      toast.error('Nome ?? obrigat??rio');\n      return;\n    }\n\n    // Validar ID personalizado\n    if (!customId.trim()) {\n      toast.error('ID ?? obrigat??rio');\n      return;\n    }\n\n    const idRegex = /^[a-zA-Z0-9_-]+$/;\n    if (!idRegex.test(customId)) {\n      toast.error('ID deve conter apenas letras, n??meros, h??fens e underscores');\n      return;\n    }\n\n\n    const orientation = resolution === '16x9' ? 'landscape' : 'portrait';\n\n    setSaving(true);\n    try {\n      if (screen) {\n        const { error } = await supabase\n          .from('screens')\n          .update({\n            name,\n            description: description || null,\n            location: location || null,\n            resolution,\n            orientation,\n            playlist_id: playlistId,\n            is_active: isActive,\n            custom_id: customId,\n          })\n          .eq('id', screen.id);\n        if (error) {\n          if (error.code === '23505') {\n            toast.error('Este ID j?? est?? em uso. Escolha outro.');\n            return;\n          }\n          throw error;\n        }\n        toast.success('Tela atualizada!');\n      } else {\n        const { error } = await supabase\n          .from('screens')\n          .insert({\n            name,\n            description: description || null,\n            location: location || null,\n            resolution,\n            orientation,\n            playlist_id: playlistId,\n            is_active: isActive,\n            user_id: user.id,\n            custom_id: customId,\n          });\n        if (error) {\n          if (error.code === '23505') {\n            toast.error('Este ID j?? est?? em uso. Escolha outro.');\n            return;\n          }\n          throw error;\n        }\n        toast.success('Tela criada!');\n      }\n      onSaved();\n      onOpenChange(false);\n    } catch (error: any) {\n      console.error('Error saving screen:', error);\n      toast.error('Erro ao salvar tela');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"max-h-[85vh] flex flex-col p-0 gap-0\">\n        <DialogHeader className=\"p-6 pb-2 shrink-0\">\n          <DialogTitle>{screen ? 'Editar Tela' : 'Nova Tela'}</DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto p-6 pt-2 custom-scrollbar space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"name\">Nome da Tela *</Label>\n              <Input\n                id=\"name\"\n                value={name}\n                onChange={(e) => setName(e.target.value)}\n                placeholder=\"Ex: Recep????o, Vitrine\"\n                className=\"bg-muted/30 border-border/50 focus:border-primary/50 transition-colors\"\n              />\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"custom_id\">ID Personalizado *</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"custom_id\"\n                  value={customId}\n                  onChange={(e) => setCustomId(e.target.value.toUpperCase().replace(/\\s+/g, '-'))}\n                  placeholder=\"Ex: TELA-01\"\n                  className=\"font-mono uppercase bg-muted/30 border-border/50 focus:border-primary/50 transition-colors pr-10\"\n                />\n                <div className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground/30\">\n                  <Monitor className=\"h-4 w-4\" />\n                </div>\n              </div>\n              <p className=\"text-[10px] text-muted-foreground\">\n                Usado para conectar o player: <code className=\"text-primary/70\">{customId || 'ID'}</code>\n              </p>\n            </div>\n          </div>\n\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"location\">Localiza????o / Descri????o</Label>\n            <Input\n              id=\"location\"\n              value={location}\n              onChange={(e) => setLocation(e.target.value)}\n              placeholder=\"Ex: Piso 1, Entrada Principal\"\n              className=\"bg-muted/30 border-border/50\"\n            />\n          </div>\n\n          <div className=\"grid grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label>Formato</Label>\n              <Select value={resolution} onValueChange={setResolution}>\n                <SelectTrigger>\n                  <SelectValue />\n                </SelectTrigger>\n                <SelectContent>\n                  {ASPECT_RATIOS.map(ratio => (\n                    <SelectItem key={ratio.value} value={ratio.value}>\n                      <div className=\"flex items-center gap-2\">\n                        {ratio.icon === 'horizontal' ? <Monitor className=\"h-4 w-4\" /> : <MonitorSmartphone className=\"h-4 w-4\" />}\n                        {ratio.label}\n                      </div>\n                    </SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n\n            <div className=\"space-y-2\">\n              <Label>Playlist Padr??o</Label>\n              <Select value={playlistId || 'none'} onValueChange={(v) => setPlaylistId(v === 'none' ? null : v)}>\n                <SelectTrigger>\n                  <SelectValue placeholder=\"Selecione...\" />\n                </SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"none\">Nenhuma</SelectItem>\n                  {playlists.map(p => (\n                    <SelectItem key={p.id} value={p.id}>{p.name}</SelectItem>\n                  ))}\n                </SelectContent>\n              </Select>\n            </div>\n          </div>\n\n          <div className=\"flex items-center justify-between border rounded-lg p-3\">\n            <div className=\"space-y-0.5\">\n              <Label>Tela Ativa</Label>\n              <p className=\"text-sm text-muted-foreground\">\n                Se desativada, o player mostrar?? tela preta\n              </p>\n            </div>\n            <Switch checked={isActive} onCheckedChange={setIsActive} />\n          </div>\n        </div>\n\n        <div className=\"p-4 border-t bg-background mt-auto flex justify-end gap-2 shrink-0\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Cancelar\n          </Button>\n          <Button onClick={handleSave} disabled={saving}>\n            {saving ? <Loader2 className=\"h-4 w-4 animate-spin\" /> : 'Salvar'}\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\screens\\ScreenIdBadge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\screens\\ScreenScheduleDialog.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'fetchData'. Either include it or remove the dependency array.","line":103,"column":6,"nodeType":"ArrayExpression","endLine":103,"endColumn":22,"suggestions":[{"desc":"Update the dependencies array to be: [fetchData, open, screenId]","fix":{"range":[3306,3322],"text":"[fetchData, open, screenId]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogFooter } from '@/components/ui/dialog';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { supabase } from '@/integrations/supabase/client';\nimport { toast } from 'sonner';\nimport { Plus, Trash2, Clock, Calendar, Loader2 } from 'lucide-react';\nimport { Checkbox } from '@/components/ui/checkbox';\n\ninterface Schedule {\n  id: string;\n  screen_id: string;\n  playlist_id: string;\n  name: string;\n  start_time: string;\n  end_time: string;\n  days_of_week: number[];\n  priority: number;\n  is_active: boolean;\n  playlist?: { name: string } | null;\n}\n\ninterface Playlist {\n  id: string;\n  name: string;\n}\n\ninterface ScreenScheduleDialogProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  screenId: string;\n  screenName: string;\n}\n\nconst DAYS_OF_WEEK = [\n  { value: 0, label: 'Dom', fullLabel: 'Domingo' },\n  { value: 1, label: 'Seg', fullLabel: 'Segunda' },\n  { value: 2, label: 'Ter', fullLabel: 'Ter??a' },\n  { value: 3, label: 'Qua', fullLabel: 'Quarta' },\n  { value: 4, label: 'Qui', fullLabel: 'Quinta' },\n  { value: 5, label: 'Sex', fullLabel: 'Sexta' },\n  { value: 6, label: 'S??b', fullLabel: 'S??bado' },\n];\n\nexport function ScreenScheduleDialog({\n  open,\n  onOpenChange,\n  screenId,\n  screenName\n}: ScreenScheduleDialogProps) {\n  const [schedules, setSchedules] = useState<Schedule[]>([]);\n  const [playlists, setPlaylists] = useState<Playlist[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [saving, setSaving] = useState(false);\n\n  // New schedule form state\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [newName, setNewName] = useState('');\n  const [newPlaylistId, setNewPlaylistId] = useState('');\n  const [newStartTime, setNewStartTime] = useState('08:00');\n  const [newEndTime, setNewEndTime] = useState('18:00');\n  const [newDays, setNewDays] = useState<number[]>([1, 2, 3, 4, 5]); // Weekdays default\n  const [newPriority, setNewPriority] = useState(0);\n\n  const fetchData = async () => {\n    try {\n      const [schedulesRes, playlistsRes] = await Promise.all([\n        supabase\n          .from('screen_schedules')\n          .select('*, playlist:playlist_id(name)')\n          .eq('screen_id', screenId)\n          .order('priority', { ascending: false }),\n        supabase\n          .from('playlists')\n          .select('id, name')\n          .eq('is_active', true)\n          .order('name'),\n      ]);\n\n      if (schedulesRes.error) throw schedulesRes.error;\n      if (playlistsRes.error) throw playlistsRes.error;\n\n      setSchedules(schedulesRes.data || []);\n      setPlaylists(playlistsRes.data || []);\n    } catch (error) {\n      console.error('Error fetching schedules:', error);\n      toast.error('Erro ao carregar agendamentos');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    if (open) {\n      setLoading(true);\n      fetchData();\n    }\n  }, [open, screenId]);\n\n  const resetForm = () => {\n    setNewName('');\n    setNewPlaylistId('');\n    setNewStartTime('08:00');\n    setNewEndTime('18:00');\n    setNewDays([1, 2, 3, 4, 5]);\n    setNewPriority(0);\n    setShowAddForm(false);\n  };\n\n  const handleAddSchedule = async () => {\n    if (!newName.trim() || !newPlaylistId) {\n      toast.error('Preencha nome e playlist');\n      return;\n    }\n\n    if (newStartTime >= newEndTime) {\n      toast.error('O hor??rio final deve ser posterior ao inicial');\n      return;\n    }\n\n    if (newDays.length === 0) {\n      toast.error('Selecione pelo menos um dia');\n      return;\n    }\n\n    setSaving(true);\n    try {\n      const { error } = await supabase\n        .from('screen_schedules')\n        .insert({\n          screen_id: screenId,\n          playlist_id: newPlaylistId,\n          name: newName,\n          start_time: newStartTime,\n          end_time: newEndTime,\n          days_of_week: newDays,\n          priority: newPriority,\n        });\n\n      if (error) throw error;\n      toast.success('Agendamento criado!');\n      resetForm();\n      fetchData();\n    } catch (error) {\n      console.error('Error creating schedule:', error);\n      toast.error('Erro ao criar agendamento');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  const handleToggleActive = async (scheduleId: string, isActive: boolean) => {\n    try {\n      const { error } = await supabase\n        .from('screen_schedules')\n        .update({ is_active: isActive })\n        .eq('id', scheduleId);\n\n      if (error) throw error;\n      setSchedules(prev =>\n        prev.map(s => s.id === scheduleId ? { ...s, is_active: isActive } : s)\n      );\n    } catch (error) {\n      console.error('Error updating schedule:', error);\n      toast.error('Erro ao atualizar agendamento');\n    }\n  };\n\n  const handleDeleteSchedule = async (scheduleId: string) => {\n    try {\n      const { error } = await supabase\n        .from('screen_schedules')\n        .delete()\n        .eq('id', scheduleId);\n\n      if (error) throw error;\n      setSchedules(prev => prev.filter(s => s.id !== scheduleId));\n      toast.success('Agendamento exclu??do!');\n    } catch (error) {\n      console.error('Error deleting schedule:', error);\n      toast.error('Erro ao excluir agendamento');\n    }\n  };\n\n  const toggleDay = (day: number) => {\n    setNewDays(prev =>\n      prev.includes(day)\n        ? prev.filter(d => d !== day)\n        : [...prev, day].sort()\n    );\n  };\n\n  const formatTime = (time: string) => {\n    return time.substring(0, 5); // HH:MM\n  };\n\n  const formatDays = (days: number[]) => {\n    if (days.length === 7) return 'Todos os dias';\n    if (JSON.stringify(days.sort()) === JSON.stringify([1, 2, 3, 4, 5])) return 'Dias ??teis';\n    if (JSON.stringify(days.sort()) === JSON.stringify([0, 6])) return 'Fins de semana';\n    return days.map(d => DAYS_OF_WEEK[d].label).join(', ');\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-2xl max-h-[85vh] flex flex-col p-0 gap-0\">\n        <DialogHeader className=\"p-6 pb-2 shrink-0\">\n          <DialogTitle className=\"flex items-center gap-2\">\n            <Calendar className=\"h-5 w-5\" />\n            Agendamentos - {screenName}\n          </DialogTitle>\n        </DialogHeader>\n\n        <div className=\"flex-1 overflow-y-auto p-6 pt-2 custom-scrollbar\">\n          {loading ? (\n            <div className=\"flex items-center justify-center py-8\">\n              <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n            </div>\n          ) : (\n            <div className=\"space-y-4\">\n              {/* Existing schedules */}\n              {schedules.length === 0 && !showAddForm ? (\n                <div className=\"text-center py-8 text-muted-foreground\">\n                  <Clock className=\"h-12 w-12 mx-auto mb-3 opacity-50\" />\n                  <p>Nenhum agendamento configurado</p>\n                  <p className=\"text-sm\">A playlist padr??o ser?? exibida o tempo todo</p>\n                </div>\n              ) : (\n                <div className=\"space-y-2\">\n                  {schedules.map(schedule => (\n                    <Card key={schedule.id} className={!schedule.is_active ? 'opacity-60' : ''}>\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-start justify-between gap-4\">\n                          <div className=\"flex-1 min-w-0\">\n                            <div className=\"flex items-center gap-2\">\n                              <h4 className=\"font-medium\">{schedule.name}</h4>\n                              {schedule.priority > 0 && (\n                                <Badge variant=\"secondary\" className=\"text-xs\">\n                                  Prioridade {schedule.priority}\n                                </Badge>\n                              )}\n                            </div>\n                            <p className=\"text-sm text-muted-foreground\">\n                              {schedule.playlist?.name || 'Playlist n??o encontrada'}\n                            </p>\n                            <div className=\"flex items-center gap-4 mt-2 text-sm\">\n                              <span className=\"flex items-center gap-1\">\n                                <Clock className=\"h-3 w-3\" />\n                                {formatTime(schedule.start_time)} - {formatTime(schedule.end_time)}\n                              </span>\n                              <span className=\"text-muted-foreground\">\n                                {formatDays(schedule.days_of_week)}\n                              </span>\n                            </div>\n                          </div>\n                          <div className=\"flex items-center gap-2\">\n                            <Switch\n                              checked={schedule.is_active}\n                              onCheckedChange={(v) => handleToggleActive(schedule.id, v)}\n                            />\n                            <Button\n                              variant=\"ghost\"\n                              size=\"icon\"\n                              onClick={() => handleDeleteSchedule(schedule.id)}\n                              className=\"text-destructive hover:text-destructive\"\n                            >\n                              <Trash2 className=\"h-4 w-4\" />\n                            </Button>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n                </div>\n              )}\n\n              {/* Add new schedule form */}\n              {showAddForm ? (\n                <Card>\n                  <CardContent className=\"p-4 space-y-4\">\n                    <h4 className=\"font-medium\">Novo Agendamento</h4>\n\n                    <div className=\"grid grid-cols-2 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>Nome</Label>\n                        <Input\n                          value={newName}\n                          onChange={(e) => setNewName(e.target.value)}\n                          placeholder=\"Ex: Hor??rio comercial\"\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Playlist</Label>\n                        <Select value={newPlaylistId} onValueChange={setNewPlaylistId}>\n                          <SelectTrigger>\n                            <SelectValue placeholder=\"Selecione...\" />\n                          </SelectTrigger>\n                          <SelectContent>\n                            {playlists.map(p => (\n                              <SelectItem key={p.id} value={p.id}>{p.name}</SelectItem>\n                            ))}\n                          </SelectContent>\n                        </Select>\n                      </div>\n                    </div>\n\n                    <div className=\"grid grid-cols-3 gap-4\">\n                      <div className=\"space-y-2\">\n                        <Label>In??cio</Label>\n                        <Input\n                          type=\"time\"\n                          value={newStartTime}\n                          onChange={(e) => setNewStartTime(e.target.value)}\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Fim</Label>\n                        <Input\n                          type=\"time\"\n                          value={newEndTime}\n                          onChange={(e) => setNewEndTime(e.target.value)}\n                        />\n                      </div>\n                      <div className=\"space-y-2\">\n                        <Label>Prioridade</Label>\n                        <Input\n                          type=\"number\"\n                          min={0}\n                          max={100}\n                          value={newPriority}\n                          onChange={(e) => setNewPriority(parseInt(e.target.value) || 0)}\n                        />\n                      </div>\n                    </div>\n\n                    <div className=\"space-y-2\">\n                      <Label>Dias da semana</Label>\n                      <div className=\"flex flex-wrap gap-2\">\n                        {DAYS_OF_WEEK.map(day => (\n                          <div key={day.value} className=\"flex items-center gap-2\">\n                            <Checkbox\n                              id={`day-${day.value}`}\n                              checked={newDays.includes(day.value)}\n                              onCheckedChange={() => toggleDay(day.value)}\n                            />\n                            <Label\n                              htmlFor={`day-${day.value}`}\n                              className=\"text-sm cursor-pointer\"\n                            >\n                              {day.fullLabel}\n                            </Label>\n                          </div>\n                        ))}\n                      </div>\n                    </div>\n\n                    <div className=\"flex gap-2 justify-end\">\n                      <Button variant=\"outline\" onClick={resetForm} disabled={saving}>\n                        Cancelar\n                      </Button>\n                      <Button onClick={handleAddSchedule} disabled={saving} className=\"gradient-primary\">\n                        {saving ? 'Salvando...' : 'Adicionar'}\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ) : (\n                <Button\n                  variant=\"outline\"\n                  className=\"w-full\"\n                  onClick={() => setShowAddForm(true)}\n                >\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Adicionar Agendamento\n                </Button>\n              )}\n\n              <div className=\"bg-muted/50 rounded-lg p-3 text-sm text-muted-foreground\">\n                <p><strong>Como funciona:</strong></p>\n                <ul className=\"list-disc list-inside mt-1 space-y-1\">\n                  <li>Se n??o houver agendamento ativo, a playlist padr??o da tela ?? exibida</li>\n                  <li>Agendamentos com maior prioridade t??m prefer??ncia se houver sobreposi????o</li>\n                  <li>A transi????o entre playlists ocorre automaticamente no hor??rio definido</li>\n                </ul>\n              </div>\n            </div>\n          )}\n        </div>\n\n        <div className=\"p-4 border-t bg-background mt-auto flex justify-end gap-2 shrink-0\">\n          <Button variant=\"outline\" onClick={() => onOpenChange(false)}>\n            Fechar\n          </Button>\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\ErrorBoundary.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\accordion.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\alert.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\aspect-ratio.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\badge.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":29,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":29,"endColumn":30}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default: \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive: \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n);\n\nexport interface BadgeProps extends React.HTMLAttributes<HTMLDivElement>, VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return <div className={cn(badgeVariants({ variant }), className)} {...props} />;\n}\n\nexport { Badge, badgeVariants };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\breadcrumb.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\button.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":47,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":47,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\n        destructive: \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\n        outline: \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\n        secondary: \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-10 px-4 py-2\",\n        sm: \"h-9 rounded-md px-3\",\n        lg: \"h-11 rounded-md px-8\",\n        icon: \"h-10 w-10\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean;\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n    return <Comp className={cn(buttonVariants({ variant, size, className }))} ref={ref} {...props} />;\n  },\n);\nButton.displayName = \"Button\";\n\nexport { Button, buttonVariants };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\calendar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\chart.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\checkbox.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\collapsible.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\command.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":24,"column":11,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":24,"endColumn":29,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[710,761],"text":"type CommandDialogProps = DialogProps"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { type DialogProps } from \"@radix-ui/react-dialog\";\nimport { Command as CommandPrimitive } from \"cmdk\";\nimport { Search } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Dialog, DialogContent } from \"@/components/ui/dialog\";\n\nconst Command = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive\n    ref={ref}\n    className={cn(\n      \"flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\nCommand.displayName = CommandPrimitive.displayName;\n\ninterface CommandDialogProps extends DialogProps {}\n\nconst CommandDialog = ({ children, ...props }: CommandDialogProps) => {\n  return (\n    <Dialog {...props}>\n      <DialogContent className=\"overflow-hidden p-0 shadow-lg\">\n        <Command className=\"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5\">\n          {children}\n        </Command>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nconst CommandInput = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Input>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Input>\n>(({ className, ...props }, ref) => (\n  <div className=\"flex items-center border-b px-3\" cmdk-input-wrapper=\"\">\n    <Search className=\"mr-2 h-4 w-4 shrink-0 opacity-50\" />\n    <CommandPrimitive.Input\n      ref={ref}\n      className={cn(\n        \"flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      {...props}\n    />\n  </div>\n));\n\nCommandInput.displayName = CommandPrimitive.Input.displayName;\n\nconst CommandList = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.List\n    ref={ref}\n    className={cn(\"max-h-[300px] overflow-y-auto overflow-x-hidden\", className)}\n    {...props}\n  />\n));\n\nCommandList.displayName = CommandPrimitive.List.displayName;\n\nconst CommandEmpty = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Empty>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Empty>\n>((props, ref) => <CommandPrimitive.Empty ref={ref} className=\"py-6 text-center text-sm\" {...props} />);\n\nCommandEmpty.displayName = CommandPrimitive.Empty.displayName;\n\nconst CommandGroup = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Group>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Group>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Group\n    ref={ref}\n    className={cn(\n      \"overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandGroup.displayName = CommandPrimitive.Group.displayName;\n\nconst CommandSeparator = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Separator>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Separator>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Separator ref={ref} className={cn(\"-mx-1 h-px bg-border\", className)} {...props} />\n));\nCommandSeparator.displayName = CommandPrimitive.Separator.displayName;\n\nconst CommandItem = React.forwardRef<\n  React.ElementRef<typeof CommandPrimitive.Item>,\n  React.ComponentPropsWithoutRef<typeof CommandPrimitive.Item>\n>(({ className, ...props }, ref) => (\n  <CommandPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nCommandItem.displayName = CommandPrimitive.Item.displayName;\n\nconst CommandShortcut = ({ className, ...props }: React.HTMLAttributes<HTMLSpanElement>) => {\n  return <span className={cn(\"ml-auto text-xs tracking-widest text-muted-foreground\", className)} {...props} />;\n};\nCommandShortcut.displayName = \"CommandShortcut\";\n\nexport {\n  Command,\n  CommandDialog,\n  CommandInput,\n  CommandList,\n  CommandEmpty,\n  CommandGroup,\n  CommandItem,\n  CommandShortcut,\n  CommandSeparator,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\context-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\drawer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\empty-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\form.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":129,"column":10,"nodeType":"Identifier","messageId":"namedExport","endLine":129,"endColumn":22}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as LabelPrimitive from \"@radix-ui/react-label\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { Controller, ControllerProps, FieldPath, FieldValues, FormProvider, useFormContext } from \"react-hook-form\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Label } from \"@/components/ui/label\";\n\nconst Form = FormProvider;\n\ntype FormFieldContextValue<\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n> = {\n  name: TName;\n};\n\nconst FormFieldContext = React.createContext<FormFieldContextValue>({} as FormFieldContextValue);\n\nconst FormField = <\n  TFieldValues extends FieldValues = FieldValues,\n  TName extends FieldPath<TFieldValues> = FieldPath<TFieldValues>,\n>({\n  ...props\n}: ControllerProps<TFieldValues, TName>) => {\n  return (\n    <FormFieldContext.Provider value={{ name: props.name }}>\n      <Controller {...props} />\n    </FormFieldContext.Provider>\n  );\n};\n\nconst useFormField = () => {\n  const fieldContext = React.useContext(FormFieldContext);\n  const itemContext = React.useContext(FormItemContext);\n  const { getFieldState, formState } = useFormContext();\n\n  const fieldState = getFieldState(fieldContext.name, formState);\n\n  if (!fieldContext) {\n    throw new Error(\"useFormField should be used within <FormField>\");\n  }\n\n  const { id } = itemContext;\n\n  return {\n    id,\n    name: fieldContext.name,\n    formItemId: `${id}-form-item`,\n    formDescriptionId: `${id}-form-item-description`,\n    formMessageId: `${id}-form-item-message`,\n    ...fieldState,\n  };\n};\n\ntype FormItemContextValue = {\n  id: string;\n};\n\nconst FormItemContext = React.createContext<FormItemContextValue>({} as FormItemContextValue);\n\nconst FormItem = React.forwardRef<HTMLDivElement, React.HTMLAttributes<HTMLDivElement>>(\n  ({ className, ...props }, ref) => {\n    const id = React.useId();\n\n    return (\n      <FormItemContext.Provider value={{ id }}>\n        <div ref={ref} className={cn(\"space-y-2\", className)} {...props} />\n      </FormItemContext.Provider>\n    );\n  },\n);\nFormItem.displayName = \"FormItem\";\n\nconst FormLabel = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root>\n>(({ className, ...props }, ref) => {\n  const { error, formItemId } = useFormField();\n\n  return <Label ref={ref} className={cn(error && \"text-destructive\", className)} htmlFor={formItemId} {...props} />;\n});\nFormLabel.displayName = \"FormLabel\";\n\nconst FormControl = React.forwardRef<React.ElementRef<typeof Slot>, React.ComponentPropsWithoutRef<typeof Slot>>(\n  ({ ...props }, ref) => {\n    const { error, formItemId, formDescriptionId, formMessageId } = useFormField();\n\n    return (\n      <Slot\n        ref={ref}\n        id={formItemId}\n        aria-describedby={!error ? `${formDescriptionId}` : `${formDescriptionId} ${formMessageId}`}\n        aria-invalid={!!error}\n        {...props}\n      />\n    );\n  },\n);\nFormControl.displayName = \"FormControl\";\n\nconst FormDescription = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, ...props }, ref) => {\n    const { formDescriptionId } = useFormField();\n\n    return <p ref={ref} id={formDescriptionId} className={cn(\"text-sm text-muted-foreground\", className)} {...props} />;\n  },\n);\nFormDescription.displayName = \"FormDescription\";\n\nconst FormMessage = React.forwardRef<HTMLParagraphElement, React.HTMLAttributes<HTMLParagraphElement>>(\n  ({ className, children, ...props }, ref) => {\n    const { error, formMessageId } = useFormField();\n    const body = error ? String(error?.message) : children;\n\n    if (!body) {\n      return null;\n    }\n\n    return (\n      <p ref={ref} id={formMessageId} className={cn(\"text-sm font-medium text-destructive\", className)} {...props}>\n        {body}\n      </p>\n    );\n  },\n);\nFormMessage.displayName = \"FormMessage\";\n\nexport { useFormField, Form, FormItem, FormLabel, FormControl, FormDescription, FormMessage, FormField };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\hover-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\input-otp.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\loading-state.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\menubar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\navigation-menu.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":111,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":111,"endColumn":29}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as NavigationMenuPrimitive from \"@radix-ui/react-navigation-menu\";\nimport { cva } from \"class-variance-authority\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst NavigationMenu = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Root>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Root\n    ref={ref}\n    className={cn(\"relative z-10 flex max-w-max flex-1 items-center justify-center\", className)}\n    {...props}\n  >\n    {children}\n    <NavigationMenuViewport />\n  </NavigationMenuPrimitive.Root>\n));\nNavigationMenu.displayName = NavigationMenuPrimitive.Root.displayName;\n\nconst NavigationMenuList = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.List>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.List>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.List\n    ref={ref}\n    className={cn(\"group flex flex-1 list-none items-center justify-center space-x-1\", className)}\n    {...props}\n  />\n));\nNavigationMenuList.displayName = NavigationMenuPrimitive.List.displayName;\n\nconst NavigationMenuItem = NavigationMenuPrimitive.Item;\n\nconst navigationMenuTriggerStyle = cva(\n  \"group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50\",\n);\n\nconst NavigationMenuTrigger = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Trigger>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Trigger>\n>(({ className, children, ...props }, ref) => (\n  <NavigationMenuPrimitive.Trigger\n    ref={ref}\n    className={cn(navigationMenuTriggerStyle(), \"group\", className)}\n    {...props}\n  >\n    {children}{\" \"}\n    <ChevronDown\n      className=\"relative top-[1px] ml-1 h-3 w-3 transition duration-200 group-data-[state=open]:rotate-180\"\n      aria-hidden=\"true\"\n    />\n  </NavigationMenuPrimitive.Trigger>\n));\nNavigationMenuTrigger.displayName = NavigationMenuPrimitive.Trigger.displayName;\n\nconst NavigationMenuContent = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Content>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"left-0 top-0 w-full data-[motion^=from-]:animate-in data-[motion^=to-]:animate-out data-[motion^=from-]:fade-in data-[motion^=to-]:fade-out data-[motion=from-end]:slide-in-from-right-52 data-[motion=from-start]:slide-in-from-left-52 data-[motion=to-end]:slide-out-to-right-52 data-[motion=to-start]:slide-out-to-left-52 md:absolute md:w-auto\",\n      className,\n    )}\n    {...props}\n  />\n));\nNavigationMenuContent.displayName = NavigationMenuPrimitive.Content.displayName;\n\nconst NavigationMenuLink = NavigationMenuPrimitive.Link;\n\nconst NavigationMenuViewport = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Viewport>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Viewport>\n>(({ className, ...props }, ref) => (\n  <div className={cn(\"absolute left-0 top-full flex justify-center\")}>\n    <NavigationMenuPrimitive.Viewport\n      className={cn(\n        \"origin-top-center relative mt-1.5 h-[var(--radix-navigation-menu-viewport-height)] w-full overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-90 md:w-[var(--radix-navigation-menu-viewport-width)]\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  </div>\n));\nNavigationMenuViewport.displayName = NavigationMenuPrimitive.Viewport.displayName;\n\nconst NavigationMenuIndicator = React.forwardRef<\n  React.ElementRef<typeof NavigationMenuPrimitive.Indicator>,\n  React.ComponentPropsWithoutRef<typeof NavigationMenuPrimitive.Indicator>\n>(({ className, ...props }, ref) => (\n  <NavigationMenuPrimitive.Indicator\n    ref={ref}\n    className={cn(\n      \"top-full z-[1] flex h-1.5 items-end justify-center overflow-hidden data-[state=visible]:animate-in data-[state=hidden]:animate-out data-[state=hidden]:fade-out data-[state=visible]:fade-in\",\n      className,\n    )}\n    {...props}\n  >\n    <div className=\"relative top-[60%] h-2 w-2 rotate-45 rounded-tl-sm bg-border shadow-md\" />\n  </NavigationMenuPrimitive.Indicator>\n));\nNavigationMenuIndicator.displayName = NavigationMenuPrimitive.Indicator.displayName;\n\nexport {\n  navigationMenuTriggerStyle,\n  NavigationMenu,\n  NavigationMenuList,\n  NavigationMenuItem,\n  NavigationMenuContent,\n  NavigationMenuTrigger,\n  NavigationMenuLink,\n  NavigationMenuIndicator,\n  NavigationMenuViewport,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\pagination.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\popover.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\progress.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\radio-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\resizable.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\scroll-area.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\sidebar.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":636,"column":3,"nodeType":"Identifier","messageId":"namedExport","endLine":636,"endColumn":13}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { VariantProps, cva } from \"class-variance-authority\";\nimport { PanelLeft } from \"lucide-react\";\n\nimport { useIsMobile } from \"@/hooks/use-mobile\";\nimport { cn } from \"@/lib/utils\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Separator } from \"@/components/ui/separator\";\nimport { Sheet, SheetContent } from \"@/components/ui/sheet\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Tooltip, TooltipContent, TooltipProvider, TooltipTrigger } from \"@/components/ui/tooltip\";\n\nconst SIDEBAR_COOKIE_NAME = \"sidebar:state\";\nconst SIDEBAR_COOKIE_MAX_AGE = 60 * 60 * 24 * 7;\nconst SIDEBAR_WIDTH = \"16rem\";\nconst SIDEBAR_WIDTH_MOBILE = \"18rem\";\nconst SIDEBAR_WIDTH_ICON = \"3rem\";\nconst SIDEBAR_KEYBOARD_SHORTCUT = \"b\";\n\ntype SidebarContext = {\n  state: \"expanded\" | \"collapsed\";\n  open: boolean;\n  setOpen: (open: boolean) => void;\n  openMobile: boolean;\n  setOpenMobile: (open: boolean) => void;\n  isMobile: boolean;\n  toggleSidebar: () => void;\n};\n\nconst SidebarContext = React.createContext<SidebarContext | null>(null);\n\nfunction useSidebar() {\n  const context = React.useContext(SidebarContext);\n  if (!context) {\n    throw new Error(\"useSidebar must be used within a SidebarProvider.\");\n  }\n\n  return context;\n}\n\nconst SidebarProvider = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    defaultOpen?: boolean;\n    open?: boolean;\n    onOpenChange?: (open: boolean) => void;\n  }\n>(({ defaultOpen = true, open: openProp, onOpenChange: setOpenProp, className, style, children, ...props }, ref) => {\n  const isMobile = useIsMobile();\n  const [openMobile, setOpenMobile] = React.useState(false);\n\n  // This is the internal state of the sidebar.\n  // We use openProp and setOpenProp for control from outside the component.\n  const [_open, _setOpen] = React.useState(defaultOpen);\n  const open = openProp ?? _open;\n  const setOpen = React.useCallback(\n    (value: boolean | ((value: boolean) => boolean)) => {\n      const openState = typeof value === \"function\" ? value(open) : value;\n      if (setOpenProp) {\n        setOpenProp(openState);\n      } else {\n        _setOpen(openState);\n      }\n\n      // This sets the cookie to keep the sidebar state.\n      document.cookie = `${SIDEBAR_COOKIE_NAME}=${openState}; path=/; max-age=${SIDEBAR_COOKIE_MAX_AGE}`;\n    },\n    [setOpenProp, open],\n  );\n\n  // Helper to toggle the sidebar.\n  const toggleSidebar = React.useCallback(() => {\n    return isMobile ? setOpenMobile((open) => !open) : setOpen((open) => !open);\n  }, [isMobile, setOpen, setOpenMobile]);\n\n  // Adds a keyboard shortcut to toggle the sidebar.\n  React.useEffect(() => {\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === SIDEBAR_KEYBOARD_SHORTCUT && (event.metaKey || event.ctrlKey)) {\n        event.preventDefault();\n        toggleSidebar();\n      }\n    };\n\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  }, [toggleSidebar]);\n\n  // We add a state so that we can do data-state=\"expanded\" or \"collapsed\".\n  // This makes it easier to style the sidebar with Tailwind classes.\n  const state = open ? \"expanded\" : \"collapsed\";\n\n  const contextValue = React.useMemo<SidebarContext>(\n    () => ({\n      state,\n      open,\n      setOpen,\n      isMobile,\n      openMobile,\n      setOpenMobile,\n      toggleSidebar,\n    }),\n    [state, open, setOpen, isMobile, openMobile, setOpenMobile, toggleSidebar],\n  );\n\n  return (\n    <SidebarContext.Provider value={contextValue}>\n      <TooltipProvider delayDuration={0}>\n        <div\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH,\n              \"--sidebar-width-icon\": SIDEBAR_WIDTH_ICON,\n              ...style,\n            } as React.CSSProperties\n          }\n          className={cn(\"group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar\", className)}\n          ref={ref}\n          {...props}\n        >\n          {children}\n        </div>\n      </TooltipProvider>\n    </SidebarContext.Provider>\n  );\n});\nSidebarProvider.displayName = \"SidebarProvider\";\n\nconst Sidebar = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    side?: \"left\" | \"right\";\n    variant?: \"sidebar\" | \"floating\" | \"inset\";\n    collapsible?: \"offcanvas\" | \"icon\" | \"none\";\n  }\n>(({ side = \"left\", variant = \"sidebar\", collapsible = \"offcanvas\", className, children, ...props }, ref) => {\n  const { isMobile, state, openMobile, setOpenMobile } = useSidebar();\n\n  if (collapsible === \"none\") {\n    return (\n      <div\n        className={cn(\"flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground\", className)}\n        ref={ref}\n        {...props}\n      >\n        {children}\n      </div>\n    );\n  }\n\n  if (isMobile) {\n    return (\n      <Sheet open={openMobile} onOpenChange={setOpenMobile} {...props}>\n        <SheetContent\n          data-sidebar=\"sidebar\"\n          data-mobile=\"true\"\n          className=\"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden\"\n          style={\n            {\n              \"--sidebar-width\": SIDEBAR_WIDTH_MOBILE,\n            } as React.CSSProperties\n          }\n          side={side}\n        >\n          <div className=\"flex h-full w-full flex-col\">{children}</div>\n        </SheetContent>\n      </Sheet>\n    );\n  }\n\n  return (\n    <div\n      ref={ref}\n      className=\"group peer hidden text-sidebar-foreground md:block\"\n      data-state={state}\n      data-collapsible={state === \"collapsed\" ? collapsible : \"\"}\n      data-variant={variant}\n      data-side={side}\n    >\n      {/* This is what handles the sidebar gap on desktop */}\n      <div\n        className={cn(\n          \"relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear\",\n          \"group-data-[collapsible=offcanvas]:w-0\",\n          \"group-data-[side=right]:rotate-180\",\n          variant === \"floating\" || variant === \"inset\"\n            ? \"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon]\",\n        )}\n      />\n      <div\n        className={cn(\n          \"fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex\",\n          side === \"left\"\n            ? \"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]\"\n            : \"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]\",\n          // Adjust the padding for floating and inset variants.\n          variant === \"floating\" || variant === \"inset\"\n            ? \"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]\"\n            : \"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l\",\n          className,\n        )}\n        {...props}\n      >\n        <div\n          data-sidebar=\"sidebar\"\n          className=\"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow\"\n        >\n          {children}\n        </div>\n      </div>\n    </div>\n  );\n});\nSidebar.displayName = \"Sidebar\";\n\nconst SidebarTrigger = React.forwardRef<React.ElementRef<typeof Button>, React.ComponentProps<typeof Button>>(\n  ({ className, onClick, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <Button\n        ref={ref}\n        data-sidebar=\"trigger\"\n        variant=\"ghost\"\n        size=\"icon\"\n        className={cn(\"h-7 w-7\", className)}\n        onClick={(event) => {\n          onClick?.(event);\n          toggleSidebar();\n        }}\n        {...props}\n      >\n        <PanelLeft />\n        <span className=\"sr-only\">Toggle Sidebar</span>\n      </Button>\n    );\n  },\n);\nSidebarTrigger.displayName = \"SidebarTrigger\";\n\nconst SidebarRail = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\">>(\n  ({ className, ...props }, ref) => {\n    const { toggleSidebar } = useSidebar();\n\n    return (\n      <button\n        ref={ref}\n        data-sidebar=\"rail\"\n        aria-label=\"Toggle Sidebar\"\n        tabIndex={-1}\n        onClick={toggleSidebar}\n        title=\"Toggle Sidebar\"\n        className={cn(\n          \"absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex\",\n          \"[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize\",\n          \"[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize\",\n          \"group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar\",\n          \"[[data-side=left][data-collapsible=offcanvas]_&]:-right-2\",\n          \"[[data-side=right][data-collapsible=offcanvas]_&]:-left-2\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarRail.displayName = \"SidebarRail\";\n\nconst SidebarInset = React.forwardRef<HTMLDivElement, React.ComponentProps<\"main\">>(({ className, ...props }, ref) => {\n  return (\n    <main\n      ref={ref}\n      className={cn(\n        \"relative flex min-h-svh flex-1 flex-col bg-background\",\n        \"peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarInset.displayName = \"SidebarInset\";\n\nconst SidebarInput = React.forwardRef<React.ElementRef<typeof Input>, React.ComponentProps<typeof Input>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Input\n        ref={ref}\n        data-sidebar=\"input\"\n        className={cn(\n          \"h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarInput.displayName = \"SidebarInput\";\n\nconst SidebarHeader = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"header\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarHeader.displayName = \"SidebarHeader\";\n\nconst SidebarFooter = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return <div ref={ref} data-sidebar=\"footer\" className={cn(\"flex flex-col gap-2 p-2\", className)} {...props} />;\n});\nSidebarFooter.displayName = \"SidebarFooter\";\n\nconst SidebarSeparator = React.forwardRef<React.ElementRef<typeof Separator>, React.ComponentProps<typeof Separator>>(\n  ({ className, ...props }, ref) => {\n    return (\n      <Separator\n        ref={ref}\n        data-sidebar=\"separator\"\n        className={cn(\"mx-2 w-auto bg-sidebar-border\", className)}\n        {...props}\n      />\n    );\n  },\n);\nSidebarSeparator.displayName = \"SidebarSeparator\";\n\nconst SidebarContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"content\"\n      className={cn(\n        \"flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarContent.displayName = \"SidebarContent\";\n\nconst SidebarGroup = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(({ className, ...props }, ref) => {\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"group\"\n      className={cn(\"relative flex w-full min-w-0 flex-col p-2\", className)}\n      {...props}\n    />\n  );\n});\nSidebarGroup.displayName = \"SidebarGroup\";\n\nconst SidebarGroupLabel = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"div\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-label\"\n        className={cn(\n          \"flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          \"group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupLabel.displayName = \"SidebarGroupLabel\";\n\nconst SidebarGroupAction = React.forwardRef<HTMLButtonElement, React.ComponentProps<\"button\"> & { asChild?: boolean }>(\n  ({ className, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\";\n\n    return (\n      <Comp\n        ref={ref}\n        data-sidebar=\"group-action\"\n        className={cn(\n          \"absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n          // Increases the hit area of the button on mobile.\n          \"after:absolute after:-inset-2 after:md:hidden\",\n          \"group-data-[collapsible=icon]:hidden\",\n          className,\n        )}\n        {...props}\n      />\n    );\n  },\n);\nSidebarGroupAction.displayName = \"SidebarGroupAction\";\n\nconst SidebarGroupContent = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div ref={ref} data-sidebar=\"group-content\" className={cn(\"w-full text-sm\", className)} {...props} />\n  ),\n);\nSidebarGroupContent.displayName = \"SidebarGroupContent\";\n\nconst SidebarMenu = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(({ className, ...props }, ref) => (\n  <ul ref={ref} data-sidebar=\"menu\" className={cn(\"flex w-full min-w-0 flex-col gap-1\", className)} {...props} />\n));\nSidebarMenu.displayName = \"SidebarMenu\";\n\nconst SidebarMenuItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ className, ...props }, ref) => (\n  <li ref={ref} data-sidebar=\"menu-item\" className={cn(\"group/menu-item relative\", className)} {...props} />\n));\nSidebarMenuItem.displayName = \"SidebarMenuItem\";\n\nconst sidebarMenuButtonVariants = cva(\n  \"peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default: \"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground\",\n        outline:\n          \"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]\",\n      },\n      size: {\n        default: \"h-8 text-sm\",\n        sm: \"h-7 text-xs\",\n        lg: \"h-12 text-sm group-data-[collapsible=icon]:!p-0\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst SidebarMenuButton = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    isActive?: boolean;\n    tooltip?: string | React.ComponentProps<typeof TooltipContent>;\n  } & VariantProps<typeof sidebarMenuButtonVariants>\n>(({ asChild = false, isActive = false, variant = \"default\", size = \"default\", tooltip, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n  const { isMobile, state } = useSidebar();\n\n  const button = (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(sidebarMenuButtonVariants({ variant, size }), className)}\n      {...props}\n    />\n  );\n\n  if (!tooltip) {\n    return button;\n  }\n\n  if (typeof tooltip === \"string\") {\n    tooltip = {\n      children: tooltip,\n    };\n  }\n\n  return (\n    <Tooltip>\n      <TooltipTrigger asChild>{button}</TooltipTrigger>\n      <TooltipContent side=\"right\" align=\"center\" hidden={state !== \"collapsed\" || isMobile} {...tooltip} />\n    </Tooltip>\n  );\n});\nSidebarMenuButton.displayName = \"SidebarMenuButton\";\n\nconst SidebarMenuAction = React.forwardRef<\n  HTMLButtonElement,\n  React.ComponentProps<\"button\"> & {\n    asChild?: boolean;\n    showOnHover?: boolean;\n  }\n>(({ className, asChild = false, showOnHover = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-action\"\n      className={cn(\n        \"absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0\",\n        // Increases the hit area of the button on mobile.\n        \"after:absolute after:-inset-2 after:md:hidden\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        showOnHover &&\n          \"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuAction.displayName = \"SidebarMenuAction\";\n\nconst SidebarMenuBadge = React.forwardRef<HTMLDivElement, React.ComponentProps<\"div\">>(\n  ({ className, ...props }, ref) => (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-badge\"\n      className={cn(\n        \"pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground\",\n        \"peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground\",\n        \"peer-data-[size=sm]/menu-button:top-1\",\n        \"peer-data-[size=default]/menu-button:top-1.5\",\n        \"peer-data-[size=lg]/menu-button:top-2.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuBadge.displayName = \"SidebarMenuBadge\";\n\nconst SidebarMenuSkeleton = React.forwardRef<\n  HTMLDivElement,\n  React.ComponentProps<\"div\"> & {\n    showIcon?: boolean;\n  }\n>(({ className, showIcon = false, ...props }, ref) => {\n  // Random width between 50 to 90%.\n  const width = React.useMemo(() => {\n    return `${Math.floor(Math.random() * 40) + 50}%`;\n  }, []);\n\n  return (\n    <div\n      ref={ref}\n      data-sidebar=\"menu-skeleton\"\n      className={cn(\"flex h-8 items-center gap-2 rounded-md px-2\", className)}\n      {...props}\n    >\n      {showIcon && <Skeleton className=\"size-4 rounded-md\" data-sidebar=\"menu-skeleton-icon\" />}\n      <Skeleton\n        className=\"h-4 max-w-[--skeleton-width] flex-1\"\n        data-sidebar=\"menu-skeleton-text\"\n        style={\n          {\n            \"--skeleton-width\": width,\n          } as React.CSSProperties\n        }\n      />\n    </div>\n  );\n});\nSidebarMenuSkeleton.displayName = \"SidebarMenuSkeleton\";\n\nconst SidebarMenuSub = React.forwardRef<HTMLUListElement, React.ComponentProps<\"ul\">>(\n  ({ className, ...props }, ref) => (\n    <ul\n      ref={ref}\n      data-sidebar=\"menu-sub\"\n      className={cn(\n        \"mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\nSidebarMenuSub.displayName = \"SidebarMenuSub\";\n\nconst SidebarMenuSubItem = React.forwardRef<HTMLLIElement, React.ComponentProps<\"li\">>(({ ...props }, ref) => (\n  <li ref={ref} {...props} />\n));\nSidebarMenuSubItem.displayName = \"SidebarMenuSubItem\";\n\nconst SidebarMenuSubButton = React.forwardRef<\n  HTMLAnchorElement,\n  React.ComponentProps<\"a\"> & {\n    asChild?: boolean;\n    size?: \"sm\" | \"md\";\n    isActive?: boolean;\n  }\n>(({ asChild = false, size = \"md\", isActive, className, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"a\";\n\n  return (\n    <Comp\n      ref={ref}\n      data-sidebar=\"menu-sub-button\"\n      data-size={size}\n      data-active={isActive}\n      className={cn(\n        \"flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground\",\n        \"data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground\",\n        size === \"sm\" && \"text-xs\",\n        size === \"md\" && \"text-sm\",\n        \"group-data-[collapsible=icon]:hidden\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nSidebarMenuSubButton.displayName = \"SidebarMenuSubButton\";\n\nexport {\n  Sidebar,\n  SidebarContent,\n  SidebarFooter,\n  SidebarGroup,\n  SidebarGroupAction,\n  SidebarGroupContent,\n  SidebarGroupLabel,\n  SidebarHeader,\n  SidebarInput,\n  SidebarInset,\n  SidebarMenu,\n  SidebarMenuAction,\n  SidebarMenuBadge,\n  SidebarMenuButton,\n  SidebarMenuItem,\n  SidebarMenuSkeleton,\n  SidebarMenuSub,\n  SidebarMenuSubButton,\n  SidebarMenuSubItem,\n  SidebarProvider,\n  SidebarRail,\n  SidebarSeparator,\n  SidebarTrigger,\n  useSidebar,\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\slider.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\sonner.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":27,"column":19,"nodeType":"Identifier","messageId":"namedExport","endLine":27,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useTheme } from \"next-themes\";\nimport { Toaster as Sonner, toast } from \"sonner\";\n\ntype ToasterProps = React.ComponentProps<typeof Sonner>;\n\nconst Toaster = ({ ...props }: ToasterProps) => {\n  const { theme = \"system\" } = useTheme();\n\n  return (\n    <Sonner\n      theme={theme as ToasterProps[\"theme\"]}\n      className=\"toaster group\"\n      toastOptions={{\n        classNames: {\n          toast:\n            \"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg\",\n          description: \"group-[.toast]:text-muted-foreground\",\n          actionButton: \"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground\",\n          cancelButton: \"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground\",\n        },\n      }}\n      {...props}\n    />\n  );\n};\n\nexport { Toaster, toast };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\textarea.tsx","messages":[{"ruleId":"@typescript-eslint/no-empty-object-type","severity":2,"message":"An interface declaring no members is equivalent to its supertype.","line":5,"column":18,"nodeType":"Identifier","messageId":"noEmptyInterfaceWithSuper","endLine":5,"endColumn":31,"suggestions":[{"messageId":"replaceEmptyInterfaceWithSuper","fix":{"range":[75,159],"text":"type TextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>"},"desc":"Replace empty interface with a type alias."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {}\n\nconst Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(({ className, ...props }, ref) => {\n  return (\n    <textarea\n      className={cn(\n        \"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\",\n        className,\n      )}\n      ref={ref}\n      {...props}\n    />\n  );\n});\nTextarea.displayName = \"Textarea\";\n\nexport { Textarea };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\toast.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\toaster.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\toggle-group.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\toggle.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":37,"column":18,"nodeType":"Identifier","messageId":"namedExport","endLine":37,"endColumn":32}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import * as React from \"react\";\nimport * as TogglePrimitive from \"@radix-ui/react-toggle\";\nimport { cva, type VariantProps } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\";\n\nconst toggleVariants = cva(\n  \"inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground\",\n  {\n    variants: {\n      variant: {\n        default: \"bg-transparent\",\n        outline: \"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground\",\n      },\n      size: {\n        default: \"h-10 px-3\",\n        sm: \"h-9 px-2.5\",\n        lg: \"h-11 px-5\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n);\n\nconst Toggle = React.forwardRef<\n  React.ElementRef<typeof TogglePrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof TogglePrimitive.Root> & VariantProps<typeof toggleVariants>\n>(({ className, variant, size, ...props }, ref) => (\n  <TogglePrimitive.Root ref={ref} className={cn(toggleVariants({ variant, size, className }))} {...props} />\n));\n\nToggle.displayName = TogglePrimitive.Root.displayName;\n\nexport { Toggle, toggleVariants };\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\tooltip.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\components\\ui\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\contexts\\AuthContext.tsx","messages":[{"ruleId":"react-refresh/only-export-components","severity":1,"message":"Fast refresh only works when a file only exports components. Use a new file to share constants or functions between components.","line":127,"column":17,"nodeType":"Identifier","messageId":"namedExport","endLine":127,"endColumn":24}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createContext, useContext, useEffect, useState, ReactNode } from 'react';\nimport { User, Session } from '@supabase/supabase-js';\nimport { supabase } from '@/integrations/supabase/client';\n\ninterface Profile {\n  id: string;\n  user_id: string;\n  full_name: string;\n  company_name: string;\n  email: string;\n  status: 'pending' | 'approved' | 'rejected';\n  created_at: string;\n  updated_at: string;\n}\n\ninterface AuthContextType {\n  user: User | null;\n  session: Session | null;\n  profile: Profile | null;\n  loading: boolean;\n  signIn: (email: string, password: string) => Promise<{ error: Error | null }>;\n  signUp: (email: string, password: string, fullName: string, companyName: string) => Promise<{ error: Error | null; data: { user: User | null } | null }>;\n  signOut: () => Promise<void>;\n  isApproved: boolean;\n}\n\nconst AuthContext = createContext<AuthContextType | undefined>(undefined);\n\nexport function AuthProvider({ children }: { children: ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [session, setSession] = useState<Session | null>(null);\n  const [profile, setProfile] = useState<Profile | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const fetchProfile = async (userId: string) => {\n    const { data, error } = await supabase\n      .from('profiles')\n      .select('*')\n      .eq('user_id', userId)\n      .single();\n\n    if (!error && data) {\n      setProfile(data as Profile);\n    }\n  };\n\n  useEffect(() => {\n    // Configura listener de auth PRIMEIRO\n    const { data: { subscription } } = supabase.auth.onAuthStateChange(\n      (event, session) => {\n        setSession(session);\n        setUser(session?.user ?? null);\n\n        // Busca perfil de forma ass??ncrona (evita deadlock)\n        if (session?.user) {\n          setTimeout(() => {\n            fetchProfile(session.user.id);\n          }, 0);\n        } else {\n          setProfile(null);\n        }\n      }\n    );\n\n    // DEPOIS verifica sess??o existente\n    supabase.auth.getSession().then(({ data: { session } }) => {\n      setSession(session);\n      setUser(session?.user ?? null);\n      \n      if (session?.user) {\n        fetchProfile(session.user.id);\n      }\n      setLoading(false);\n    });\n\n    return () => subscription.unsubscribe();\n  }, []);\n\n  const signIn = async (email: string, password: string) => {\n    const { error } = await supabase.auth.signInWithPassword({\n      email,\n      password,\n    });\n    return { error };\n  };\n\n  const signUp = async (email: string, password: string, fullName: string, companyName: string) => {\n    const redirectUrl = `${window.location.origin}/`;\n    \n    const { data, error } = await supabase.auth.signUp({\n      email,\n      password,\n      options: {\n        emailRedirectTo: redirectUrl,\n        data: {\n          full_name: fullName,\n          company_name: companyName,\n        },\n      },\n    });\n    return { error, data };\n  };\n\n  const signOut = async () => {\n    await supabase.auth.signOut();\n    setProfile(null);\n  };\n\n  const isApproved = profile?.status === 'approved';\n\n  return (\n    <AuthContext.Provider value={{\n      user,\n      session,\n      profile,\n      loading,\n      signIn,\n      signUp,\n      signOut,\n      isApproved,\n    }}>\n      {children}\n    </AuthContext.Provider>\n  );\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n  if (context === undefined) {\n    throw new Error('useAuth must be used within an AuthProvider');\n  }\n  return context;\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\use-mobile.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\use-toast.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\useAsyncError.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":12,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":12,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[339,342],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[339,342],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\r\nimport { useState, useCallback } from 'react';\r\n\r\n/**\r\n * Hook to throw errors from async code causing them to be caught by ErrorBoundary.\r\n * Usage:\r\n * const throwError = useAsyncError();\r\n * fetch('/api').catch(throwError);\r\n */\r\nexport const useAsyncError = () => {\r\n    const [_, setError] = useState();\r\n    return useCallback((e: any) => {\r\n        setError(() => { throw e; });\r\n    }, []);\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\useDeviceDetection.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1784,1787],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1784,1787],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":126,"column":33,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":126,"endColumn":36,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4310,4313],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4310,4313],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useMemo } from 'react';\n\n// Tipos de dispositivo suportados\nexport type DeviceType = \n  | 'android-mobile'      // Celular Android\n  | 'android-tablet'      // Tablet Android\n  | 'android-tv'          // Android TV / TV Box\n  | 'fire-tv'             // Amazon Fire TV\n  | 'ios-mobile'          // iPhone\n  | 'ios-tablet'          // iPad\n  | 'smart-tv'            // Smart TV gen??rica\n  | 'desktop-windows'     // Windows\n  | 'desktop-macos'       // macOS\n  | 'desktop-linux'       // Linux\n  | 'desktop-chromeos'    // ChromeOS\n  | 'unknown';\n\n// Navegadores suportados\nexport type BrowserType = \n  | 'chrome'\n  | 'safari'\n  | 'firefox'\n  | 'edge'\n  | 'samsung-internet'\n  | 'opera'\n  | 'brave'\n  | 'unknown';\n\nexport interface DeviceInfo {\n  deviceType: DeviceType;\n  browserType: BrowserType;\n  isMobile: boolean;\n  isTablet: boolean;\n  isDesktop: boolean;\n  isTV: boolean;\n  isAndroid: boolean;\n  isIOS: boolean;\n  isWindows: boolean;\n  isMacOS: boolean;\n  isLinux: boolean;\n  isChrome: boolean;\n  isSafari: boolean;\n  isFirefox: boolean;\n  isEdge: boolean;\n  isSamsungInternet: boolean;\n  isInstalled: boolean;\n  canInstall: boolean;\n  installMethod: 'prompt' | 'manual-ios' | 'manual-tv' | 'none';\n  deviceName: string;\n  installInstructions: string;\n}\n\n// Fun????o de detec????o pura (sem hooks) - executada uma vez\nconst detectDevice = (): DeviceInfo => {\n  if (typeof window === 'undefined') {\n    return getDefaultDeviceInfo();\n  }\n\n  const ua = navigator.userAgent.toLowerCase();\n  const platform = (navigator.platform || '').toLowerCase();\n  \n  // Detec????o de instala????o\n  const isInstalled = \n    window.matchMedia('(display-mode: standalone)').matches ||\n    window.matchMedia('(display-mode: fullscreen)').matches ||\n    (window.navigator as any).standalone === true ||\n    document.referrer.includes('android-app://');\n\n  // Detec????o de TV / TV Box\n  const isFireTV = ua.includes('fire tv') || \n                   ua.includes('firetv') || \n                   ua.includes('aftb') || \n                   ua.includes('aftt') ||\n                   ua.includes('afts') ||\n                   ua.includes('aftm');\n  \n  const isAndroidTV = ua.includes('android tv') || \n                      ua.includes('googletv') ||\n                      ua.includes('smart-tv') ||\n                      ua.includes('smarttv') ||\n                      (ua.includes('android') && (\n                        ua.includes('tv') ||\n                        ua.includes('box') ||\n                        ua.includes('adt-') ||\n                        ua.includes('mxq') ||\n                        ua.includes('x96') ||\n                        ua.includes('h96') ||\n                        ua.includes('tx') ||\n                        ua.includes('crkey')\n                      ));\n  \n  const isSmartTV = ua.includes('webos') ||\n                    ua.includes('tizen') ||\n                    ua.includes('netcast') ||\n                    ua.includes('viera') ||\n                    ua.includes('bravia') ||\n                    ua.includes('philipstv') ||\n                    ua.includes('hbbtv') ||\n                    ua.includes('nettv') ||\n                    ua.includes('roku') ||\n                    ua.includes('vidaa');\n\n  // iOS\n  const isIOS = /iphone|ipad|ipod/.test(ua) ||\n                (platform.includes('mac') && navigator.maxTouchPoints > 1);\n  const isIPad = /ipad/.test(ua) || \n                 (platform.includes('mac') && navigator.maxTouchPoints > 1);\n  const isIPhone = /iphone|ipod/.test(ua);\n\n  // Android\n  const isAndroid = ua.includes('android') && !isAndroidTV && !isFireTV;\n  const isAndroidTablet = isAndroid && !ua.includes('mobile');\n  const isAndroidMobile = isAndroid && ua.includes('mobile');\n\n  // Desktop\n  const isWindows = ua.includes('windows') || platform.includes('win');\n  const isMacOS = (ua.includes('mac') || platform.includes('mac')) && !isIOS;\n  const isLinux = (ua.includes('linux') || platform.includes('linux')) && !isAndroid;\n  const isChromeOS = ua.includes('cros');\n\n  // Navegador\n  const isSamsungInternet = ua.includes('samsungbrowser');\n  const isEdge = ua.includes('edg/') || ua.includes('edge');\n  const isFirefox = ua.includes('firefox');\n  const isOpera = ua.includes('opr/') || ua.includes('opera');\n  const isBrave = (navigator as any).brave !== undefined;\n  const isChrome = ua.includes('chrome') && !isEdge && !isOpera && !isSamsungInternet && !isBrave;\n  const isSafari = ua.includes('safari') && !isChrome && !isEdge && !isFirefox && !isOpera && !isSamsungInternet;\n\n  // Tipo de dispositivo\n  let deviceType: DeviceType = 'unknown';\n  let browserType: BrowserType = 'unknown';\n  \n  if (isFireTV) deviceType = 'fire-tv';\n  else if (isAndroidTV) deviceType = 'android-tv';\n  else if (isSmartTV) deviceType = 'smart-tv';\n  else if (isIPad) deviceType = 'ios-tablet';\n  else if (isIPhone) deviceType = 'ios-mobile';\n  else if (isAndroidTablet) deviceType = 'android-tablet';\n  else if (isAndroidMobile) deviceType = 'android-mobile';\n  else if (isWindows) deviceType = 'desktop-windows';\n  else if (isMacOS) deviceType = 'desktop-macos';\n  else if (isChromeOS) deviceType = 'desktop-chromeos';\n  else if (isLinux) deviceType = 'desktop-linux';\n\n  if (isSamsungInternet) browserType = 'samsung-internet';\n  else if (isEdge) browserType = 'edge';\n  else if (isFirefox) browserType = 'firefox';\n  else if (isOpera) browserType = 'opera';\n  else if (isBrave) browserType = 'brave';\n  else if (isChrome) browserType = 'chrome';\n  else if (isSafari) browserType = 'safari';\n\n  const isMobile = deviceType === 'android-mobile' || deviceType === 'ios-mobile';\n  const isTablet = deviceType === 'android-tablet' || deviceType === 'ios-tablet';\n  const isTV = deviceType === 'android-tv' || deviceType === 'fire-tv' || deviceType === 'smart-tv';\n  const isDesktop = deviceType.startsWith('desktop-');\n\n  let installMethod: 'prompt' | 'manual-ios' | 'manual-tv' | 'none' = 'none';\n  let canInstall = !isInstalled;\n\n  if (isInstalled) {\n    installMethod = 'none';\n    canInstall = false;\n  } else if (isTV) {\n    installMethod = 'manual-tv';\n  } else if (isIOS) {\n    installMethod = 'manual-ios';\n  } else if (isAndroid || isDesktop) {\n    installMethod = 'prompt';\n  }\n\n  const deviceNames: Record<DeviceType, string> = {\n    'android-mobile': 'Celular Android',\n    'android-tablet': 'Tablet Android',\n    'android-tv': 'Android TV / TV Box',\n    'fire-tv': 'Amazon Fire TV',\n    'ios-mobile': 'iPhone',\n    'ios-tablet': 'iPad',\n    'smart-tv': 'Smart TV',\n    'desktop-windows': 'Windows',\n    'desktop-macos': 'Mac',\n    'desktop-linux': 'Linux',\n    'desktop-chromeos': 'Chromebook',\n    'unknown': 'Dispositivo',\n  };\n\n  const getInstallInstructions = (): string => {\n    if (isInstalled) return 'O app j?? est?? instalado!';\n    if (isTV) return 'Use o app em tela cheia ou acesse pelo navegador para melhor experi??ncia.';\n    if (isIOS) {\n      if (isSafari) return 'Toque em \"Compartilhar\" e depois \"Adicionar ?? Tela de In??cio\"';\n      return 'Abra no Safari para instalar. Toque em \"Compartilhar\" ??? \"Adicionar ?? Tela de In??cio\"';\n    }\n    if (isSamsungInternet) return 'Toque no menu (???) e selecione \"Adicionar ?? tela inicial\"';\n    if (isChrome || isEdge) return 'Clique em \"Instalar\" para adicionar ao seu dispositivo';\n    if (isFirefox) return 'O Firefox n??o suporta instala????o PWA. Use Chrome ou Edge.';\n    return 'Instale o app para acesso r??pido e offline';\n  };\n\n  return {\n    deviceType,\n    browserType,\n    isMobile,\n    isTablet,\n    isDesktop,\n    isTV,\n    isAndroid: isAndroid || isAndroidTV || isFireTV,\n    isIOS,\n    isWindows,\n    isMacOS,\n    isLinux,\n    isChrome,\n    isSafari,\n    isFirefox,\n    isEdge,\n    isSamsungInternet,\n    isInstalled,\n    canInstall,\n    installMethod,\n    deviceName: deviceNames[deviceType],\n    installInstructions: getInstallInstructions(),\n  };\n};\n\nfunction getDefaultDeviceInfo(): DeviceInfo {\n  return {\n    deviceType: 'unknown',\n    browserType: 'unknown',\n    isMobile: false,\n    isTablet: false,\n    isDesktop: false,\n    isTV: false,\n    isAndroid: false,\n    isIOS: false,\n    isWindows: false,\n    isMacOS: false,\n    isLinux: false,\n    isChrome: false,\n    isSafari: false,\n    isFirefox: false,\n    isEdge: false,\n    isSamsungInternet: false,\n    isInstalled: false,\n    canInstall: false,\n    installMethod: 'none',\n    deviceName: 'Dispositivo',\n    installInstructions: '',\n  };\n}\n\n// Cache da detec????o para evitar re-c??lculos\nlet cachedDeviceInfo: DeviceInfo | null = null;\n\nexport const useDeviceDetection = (): DeviceInfo => {\n  // Calcular apenas uma vez\n  const deviceInfo = useMemo(() => {\n    if (cachedDeviceInfo) return cachedDeviceInfo;\n    cachedDeviceInfo = detectDevice();\n    return cachedDeviceInfo;\n  }, []);\n\n  const [isInstalled, setIsInstalled] = useState(deviceInfo.isInstalled);\n\n  // Listener para mudan??a de display-mode (quando o app ?? instalado)\n  useEffect(() => {\n    const mediaQuery = window.matchMedia('(display-mode: standalone)');\n    const handleChange = (e: MediaQueryListEvent) => {\n      setIsInstalled(e.matches);\n      // Atualizar cache\n      if (cachedDeviceInfo) {\n        cachedDeviceInfo = { ...cachedDeviceInfo, isInstalled: e.matches, canInstall: !e.matches };\n      }\n    };\n    \n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  // Retornar vers??o atualizada se instala????o mudou\n  return useMemo(() => ({\n    ...deviceInfo,\n    isInstalled,\n    canInstall: !isInstalled && deviceInfo.installMethod !== 'none',\n  }), [deviceInfo, isInstalled]);\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\useMedia.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\usePWA.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":76,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":76,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2209,2212],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2209,2212],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect, useCallback } from 'react';\nimport { useRegisterSW } from 'virtual:pwa-register/react';\n\ninterface BeforeInstallPromptEvent extends Event {\n  readonly platforms: string[];\n  readonly userChoice: Promise<{\n    outcome: 'accepted' | 'dismissed';\n    platform: string;\n  }>;\n  prompt(): Promise<void>;\n}\n\ninterface PWAState {\n  isInstallable: boolean;\n  isInstalled: boolean;\n  isUpdating: boolean;\n  needRefresh: boolean;\n  isOffline: boolean;\n  isIOS: boolean;\n  isAndroid: boolean;\n  isSafari: boolean;\n  isChrome: boolean;\n}\n\nexport const usePWA = () => {\n  const [deferredPrompt, setDeferredPrompt] = useState<BeforeInstallPromptEvent | null>(null);\n  const [pwaState, setPwaState] = useState<PWAState>({\n    isInstallable: false,\n    isInstalled: false,\n    isUpdating: false,\n    needRefresh: false,\n    isOffline: !navigator.onLine,\n    isIOS: false,\n    isAndroid: false,\n    isSafari: false,\n    isChrome: false,\n  });\n\n  const {\n    needRefresh: [needRefresh, setNeedRefresh],\n    updateServiceWorker,\n  } = useRegisterSW({\n    onRegisteredSW(swUrl, registration) {\n      console.log('[PWA] Service Worker registrado:', swUrl);\n      \n      // Check for updates every 1 hour\n      if (registration) {\n        setInterval(() => {\n          registration.update();\n        }, 60 * 60 * 1000);\n      }\n    },\n    onRegisterError(error) {\n      console.error('[PWA] Erro ao registrar Service Worker:', error);\n    },\n    onNeedRefresh() {\n      console.log('[PWA] Nova vers??o dispon??vel');\n      setPwaState(prev => ({ ...prev, needRefresh: true }));\n    },\n    onOfflineReady() {\n      console.log('[PWA] App pronto para uso offline');\n    },\n  });\n\n  // Detect device and browser\n  useEffect(() => {\n    const userAgent = navigator.userAgent.toLowerCase();\n    const isIOS = /iphone|ipad|ipod/.test(userAgent);\n    const isAndroid = /android/.test(userAgent);\n    const isSafari = /safari/.test(userAgent) && !/chrome/.test(userAgent);\n    const isChrome = /chrome/.test(userAgent) && !/edge/.test(userAgent);\n    \n    // Check if running as standalone PWA\n    const isInstalled = \n      window.matchMedia('(display-mode: standalone)').matches ||\n      (window.navigator as any).standalone === true ||\n      document.referrer.includes('android-app://');\n\n    setPwaState(prev => ({\n      ...prev,\n      isIOS,\n      isAndroid,\n      isSafari,\n      isChrome,\n      isInstalled,\n    }));\n  }, []);\n\n  // Handle beforeinstallprompt event\n  useEffect(() => {\n    const handleBeforeInstallPrompt = (e: Event) => {\n      e.preventDefault();\n      setDeferredPrompt(e as BeforeInstallPromptEvent);\n      setPwaState(prev => ({ ...prev, isInstallable: true }));\n      console.log('[PWA] Prompt de instala????o dispon??vel');\n    };\n\n    const handleAppInstalled = () => {\n      setDeferredPrompt(null);\n      setPwaState(prev => ({ \n        ...prev, \n        isInstalled: true, \n        isInstallable: false \n      }));\n      console.log('[PWA] App instalado com sucesso!');\n    };\n\n    window.addEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n    window.addEventListener('appinstalled', handleAppInstalled);\n\n    return () => {\n      window.removeEventListener('beforeinstallprompt', handleBeforeInstallPrompt);\n      window.removeEventListener('appinstalled', handleAppInstalled);\n    };\n  }, []);\n\n  // Handle online/offline status\n  useEffect(() => {\n    const handleOnline = () => {\n      setPwaState(prev => ({ ...prev, isOffline: false }));\n    };\n    \n    const handleOffline = () => {\n      setPwaState(prev => ({ ...prev, isOffline: true }));\n    };\n\n    window.addEventListener('online', handleOnline);\n    window.addEventListener('offline', handleOffline);\n\n    return () => {\n      window.removeEventListener('online', handleOnline);\n      window.removeEventListener('offline', handleOffline);\n    };\n  }, []);\n\n  // Sync needRefresh state\n  useEffect(() => {\n    setPwaState(prev => ({ ...prev, needRefresh }));\n  }, [needRefresh]);\n\n  const installPWA = useCallback(async () => {\n    if (!deferredPrompt) {\n      console.log('[PWA] Prompt de instala????o n??o dispon??vel');\n      return false;\n    }\n\n    try {\n      await deferredPrompt.prompt();\n      const { outcome } = await deferredPrompt.userChoice;\n      \n      console.log('[PWA] Resultado da instala????o:', outcome);\n      \n      if (outcome === 'accepted') {\n        setDeferredPrompt(null);\n        setPwaState(prev => ({ \n          ...prev, \n          isInstalled: true, \n          isInstallable: false \n        }));\n        return true;\n      }\n      \n      return false;\n    } catch (error) {\n      console.error('[PWA] Erro ao instalar:', error);\n      return false;\n    }\n  }, [deferredPrompt]);\n\n  const updatePWA = useCallback(async () => {\n    setPwaState(prev => ({ ...prev, isUpdating: true }));\n    \n    try {\n      await updateServiceWorker(true);\n      setPwaState(prev => ({ \n        ...prev, \n        isUpdating: false, \n        needRefresh: false \n      }));\n      setNeedRefresh(false);\n    } catch (error) {\n      console.error('[PWA] Erro ao atualizar:', error);\n      setPwaState(prev => ({ ...prev, isUpdating: false }));\n    }\n  }, [updateServiceWorker, setNeedRefresh]);\n\n  const dismissUpdate = useCallback(() => {\n    setNeedRefresh(false);\n    setPwaState(prev => ({ ...prev, needRefresh: false }));\n  }, [setNeedRefresh]);\n\n  return {\n    ...pwaState,\n    installPWA,\n    updatePWA,\n    dismissUpdate,\n    deferredPrompt,\n  };\n};\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\usePlaylists.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":29,"column":62,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":29,"endColumn":65,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1311,1314],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1311,1314],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":43,"column":71,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":43,"endColumn":74,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1965,1968],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1965,1968],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Playlist } from '@/types/models';\r\nimport { toast } from 'sonner';\r\n\r\nexport function usePlaylists(userId?: string) {\r\n    const queryClient = useQueryClient();\r\n\r\n    const fetchPlaylists = async (): Promise<Playlist[]> => {\r\n        const { data: playlistsData, error: playlistsError } = await supabase\r\n            .from('playlists')\r\n            .select('*')\r\n            .eq('user_id', userId)\r\n            .order('created_at', { ascending: false });\r\n\r\n        if (playlistsError) throw playlistsError;\r\n\r\n        const playlistsWithCounts = await Promise.all(\r\n            (playlistsData || []).map(async (playlist) => {\r\n                const { data: items } = await supabase\r\n                    .from('playlist_items')\r\n                    .select('duration, media:media_id(file_url, thumbnail_url, file_type)')\r\n                    .eq('playlist_id', playlist.id)\r\n                    .order('position', { ascending: true });\r\n\r\n                // Logic to find cover image\r\n                let coverUrl = playlist.cover_url;\r\n                if (!coverUrl && items && items.length > 0) {\r\n                    const firstMediaItem = items.find((item: any) => item.media);\r\n                    if (firstMediaItem?.media) {\r\n                        const media = firstMediaItem.media;\r\n                        if (media.file_type === 'video' && media.thumbnail_url) {\r\n                            coverUrl = media.thumbnail_url;\r\n                        } else if (media.file_type === 'image') {\r\n                            coverUrl = media.file_url;\r\n                        }\r\n                    }\r\n                }\r\n\r\n                return {\r\n                    ...playlist,\r\n                    item_count: items?.length || 0,\r\n                    total_duration: items?.reduce((acc: number, item: any) => acc + item.duration, 0) || 0,\r\n                    cover_url: coverUrl,\r\n                };\r\n            })\r\n        );\r\n\r\n        return playlistsWithCounts;\r\n    };\r\n\r\n    const { data: playlists = [], isLoading: loading, refetch } = useQuery({\r\n        queryKey: ['playlists', userId],\r\n        queryFn: fetchPlaylists,\r\n        enabled: !!userId || undefined, // Allow fetching even if userId is undefined (RLS handles it), but caching key depends on it\r\n    });\r\n\r\n    const deleteMutation = useMutation({\r\n        mutationFn: async (id: string) => {\r\n            const { error } = await supabase\r\n                .from('playlists')\r\n                .delete()\r\n                .eq('id', id);\r\n\r\n            if (error) throw error;\r\n            return id;\r\n        },\r\n        onSuccess: () => {\r\n            queryClient.invalidateQueries({ queryKey: ['playlists'] });\r\n            toast.success('Playlist exclu??da!');\r\n        },\r\n        onError: (error) => {\r\n            console.error('Error deleting playlist:', error);\r\n            toast.error('Erro ao excluir playlist');\r\n        }\r\n    });\r\n\r\n    return {\r\n        playlists,\r\n        loading,\r\n        fetchPlaylists: refetch, // Expose refetch as fetchPlaylists for backward compatibility\r\n        deletePlaylist: deleteMutation.mutateAsync\r\n    };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\useScreens.ts","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":38,"column":38,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":38,"endColumn":41,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1585,1588],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1585,1588],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":40,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":40,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1740,1743],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1740,1743],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":73,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":76,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3018,3021],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3018,3021],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":77,"column":81,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":77,"endColumn":84,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3026,3029],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3026,3029],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\hooks\\useServiceWorker.ts","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'handleSWMessage'. Either include it or remove the dependency array.","line":70,"column":6,"nodeType":"ArrayExpression","endLine":70,"endColumn":25,"suggestions":[{"desc":"Update the dependencies array to be: [handleSWMessage, state.isSupported]","fix":{"range":[1851,1870],"text":"[handleSWMessage, state.isSupported]"}}]},{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useCallback has a missing dependency: 'updateCacheStatus'. Either include it or remove the dependency array.","line":86,"column":6,"nodeType":"ArrayExpression","endLine":86,"endColumn":8,"suggestions":[{"desc":"Update the dependencies array to be: [updateCacheStatus]","fix":{"range":[2341,2343],"text":"[updateCacheStatus]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useEffect, useState, useCallback } from 'react';\n\ninterface CacheStatus {\n  mediaCount: number;\n  totalSize: number;\n  totalSizeMB: string;\n}\n\ninterface ServiceWorkerState {\n  isSupported: boolean;\n  isRegistered: boolean;\n  isReady: boolean;\n  cacheStatus: CacheStatus | null;\n}\n\n/**\n * Hook para gerenciar Service Worker e cache offline\n * \n * FUNCIONALIDADE:\n * - Registra o Service Worker\n * - Permite pr??-cachear m??dias\n * - Monitora status do cache\n * - Limpa cache quando necess??rio\n */\nexport function useServiceWorker() {\n  const [state, setState] = useState<ServiceWorkerState>({\n    isSupported: 'serviceWorker' in navigator,\n    isRegistered: false,\n    isReady: false,\n    cacheStatus: null,\n  });\n\n  // Registrar Service Worker\n  useEffect(() => {\n    if (!state.isSupported) {\n      console.warn('[SW Hook] Service Worker n??o suportado neste navegador');\n      return;\n    }\n\n    const registerSW = async () => {\n      try {\n        const registration = await navigator.serviceWorker.register('/sw.js', {\n          scope: '/',\n        });\n\n        console.log('[SW Hook] Service Worker registrado:', registration.scope);\n        setState(prev => ({ ...prev, isRegistered: true }));\n\n        // Aguardar ativa????o\n        if (registration.active) {\n          setState(prev => ({ ...prev, isReady: true }));\n        } else {\n          registration.addEventListener('activate', () => {\n            setState(prev => ({ ...prev, isReady: true }));\n          });\n        }\n\n        // Escutar mensagens do SW\n        navigator.serviceWorker.addEventListener('message', handleSWMessage);\n      } catch (error) {\n        console.error('[SW Hook] Falha ao registrar Service Worker:', error);\n      }\n    };\n\n    registerSW();\n\n    return () => {\n      navigator.serviceWorker.removeEventListener('message', handleSWMessage);\n    };\n  }, [state.isSupported]);\n\n  // Handler de mensagens do SW\n  const handleSWMessage = useCallback((event: MessageEvent) => {\n    const { type, payload } = event.data || {};\n\n    switch (type) {\n      case 'CACHE_COMPLETE':\n        console.log(`[SW Hook] ${payload.count} m??dias cacheadas`);\n        updateCacheStatus();\n        break;\n      case 'CACHE_CLEARED':\n        console.log('[SW Hook] Cache limpo');\n        setState(prev => ({ ...prev, cacheStatus: null }));\n        break;\n    }\n  }, []);\n\n  // Pr??-cachear lista de m??dias\n  const cacheMediaList = useCallback(async (urls: string[]) => {\n    if (!state.isReady) {\n      console.warn('[SW Hook] Service Worker n??o est?? pronto');\n      return false;\n    }\n\n    const controller = navigator.serviceWorker.controller;\n    if (!controller) {\n      console.warn('[SW Hook] Sem controller ativo');\n      return false;\n    }\n\n    controller.postMessage({\n      type: 'CACHE_MEDIA',\n      payload: { urls },\n    });\n\n    console.log(`[SW Hook] Solicitado cache de ${urls.length} m??dias`);\n    return true;\n  }, [state.isReady]);\n\n  // Limpar cache de m??dias\n  const clearMediaCache = useCallback(async () => {\n    if (!state.isReady) return false;\n\n    const controller = navigator.serviceWorker.controller;\n    if (!controller) return false;\n\n    controller.postMessage({ type: 'CLEAR_MEDIA_CACHE' });\n    return true;\n  }, [state.isReady]);\n\n  // Atualizar status do cache\n  const updateCacheStatus = useCallback(async () => {\n    if (!state.isReady) return;\n\n    const controller = navigator.serviceWorker.controller;\n    if (!controller) return;\n\n    const messageChannel = new MessageChannel();\n    \n    messageChannel.port1.onmessage = (event) => {\n      setState(prev => ({ ...prev, cacheStatus: event.data }));\n    };\n\n    controller.postMessage(\n      { type: 'GET_CACHE_STATUS' },\n      [messageChannel.port2]\n    );\n  }, [state.isReady]);\n\n  // Atualizar status periodicamente\n  useEffect(() => {\n    if (!state.isReady) return;\n\n    // Atualizar imediatamente\n    updateCacheStatus();\n\n    // Atualizar a cada 30 segundos\n    const interval = setInterval(updateCacheStatus, 30000);\n    return () => clearInterval(interval);\n  }, [state.isReady, updateCacheStatus]);\n\n  return {\n    ...state,\n    cacheMediaList,\n    clearMediaCache,\n    updateCacheStatus,\n  };\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\integrations\\supabase\\client.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":30,"column":10,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":30,"endColumn":13,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1304,1307],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1304,1307],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":66,"column":8,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":66,"endColumn":11,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2781,2784],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2781,2784],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"// This file is automatically generated. Do not edit it directly.\nimport { createClient } from '@supabase/supabase-js';\nimport type { Database } from './types';\n\nimport { supabaseConfig } from '../../supabaseConfig';\n\n// Safe Initialization\nlet supabaseInstance;\n\ntry {\n  if (!supabaseConfig.url || !supabaseConfig.key) {\n    console.warn(\"?????? Supabase credentials missing. Initializing Fallback Client (Offline Mode).\");\n    // Return a dummy client that doesn't crash but logs errors on usage\n    supabaseInstance = {\n      from: () => ({\n        select: () => Promise.resolve({ data: null, error: { message: \"Missing Credentials\" } }),\n        insert: () => Promise.resolve({ data: null, error: { message: \"Missing Credentials\" } }),\n        update: () => Promise.resolve({ data: null, error: { message: \"Missing Credentials\" } }),\n        delete: () => Promise.resolve({ data: null, error: { message: \"Missing Credentials\" } }),\n        on: () => ({ subscribe: () => { } }),\n      }),\n      auth: {\n        getSession: () => Promise.resolve({ data: { session: null }, error: null }),\n        onAuthStateChange: () => ({ data: { subscription: { unsubscribe: () => { } } } }),\n      },\n      channel: () => ({\n        on: () => ({ subscribe: () => { } }),\n        subscribe: () => { }\n      })\n    } as any;\n  } else {\n    supabaseInstance = createClient<Database>(supabaseConfig.url, supabaseConfig.key, {\n      auth: {\n        storage: localStorage,\n        persistSession: true,\n        autoRefreshToken: true,\n      }\n    });\n  }\n} catch (e) {\n  console.error(\"Critical Error initializing Supabase:\", e);\n  // FALLBACK: Return Dummy Client to allow App to render ErrorBoundary instead of crashing hard\n  supabaseInstance = {\n    from: () => ({\n      select: () => Promise.resolve({ data: null, error: { message: \"Critical Init Failure\" } }),\n      insert: () => Promise.resolve({ data: null, error: { message: \"Critical Init Failure\" } }),\n      update: () => Promise.resolve({ data: null, error: { message: \"Critical Init Failure\" } }),\n      delete: () => Promise.resolve({ data: null, error: { message: \"Critical Init Failure\" } }),\n      on: () => ({ subscribe: () => { } }),\n    }),\n    auth: {\n      getSession: () => Promise.resolve({ data: { session: null }, error: null }),\n      getUser: () => Promise.resolve({ data: { user: null }, error: null }),\n      onAuthStateChange: () => ({ data: { subscription: { unsubscribe: () => { } } } }),\n      signInWithPassword: () => Promise.resolve({ error: { message: \"Offline Mode (Init Failed)\" } }),\n    },\n    channel: () => ({\n      on: () => ({ subscribe: () => { } }),\n      subscribe: () => { }\n    }),\n    storage: {\n      from: () => ({\n        getPublicUrl: () => ({ data: { publicUrl: \"\" } })\n      })\n    }\n  } as any;\n}\n\nexport const supabase = supabaseInstance;","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\integrations\\supabase\\types.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\layouts\\DashboardLayout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\main.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\Auth.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\Index.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\Install.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\NotFound.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\Player.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\AdminUsers.tsx","messages":[{"ruleId":"react-hooks/exhaustive-deps","severity":1,"message":"React Hook useEffect has a missing dependency: 'checkAdminAndFetch'. Either include it or remove the dependency array.","line":50,"column":6,"nodeType":"ArrayExpression","endLine":50,"endColumn":12,"suggestions":[{"desc":"Update the dependencies array to be: [checkAdminAndFetch, user]","fix":{"range":[1729,1735],"text":"[checkAdminAndFetch, user]"}}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { useNavigate } from 'react-router-dom';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useToast } from '@/hooks/use-toast';\nimport { Loader2, Check, X, Users, UserCheck, UserX, Clock } from 'lucide-react';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\n\ninterface UserProfile {\n  id: string;\n  user_id: string;\n  full_name: string;\n  company_name: string;\n  email: string;\n  status: 'pending' | 'approved' | 'rejected';\n  created_at: string;\n}\n\nexport default function AdminUsers() {\n  const [users, setUsers] = useState<UserProfile[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [processingId, setProcessingId] = useState<string | null>(null);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [confirmDialog, setConfirmDialog] = useState<{\n    open: boolean;\n    user: UserProfile | null;\n    action: 'approved' | 'rejected' | null;\n  }>({ open: false, user: null, action: null });\n  \n  const { user } = useAuth();\n  const { toast } = useToast();\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    checkAdminAndFetch();\n  }, [user]);\n\n  const checkAdminAndFetch = async () => {\n    if (!user) {\n      navigate('/auth');\n      return;\n    }\n\n    // Check if user is admin\n    const { data: roleData } = await supabase\n      .from('user_roles')\n      .select('role')\n      .eq('user_id', user.id)\n      .eq('role', 'admin')\n      .single();\n\n    if (!roleData) {\n      toast({\n        title: 'Acesso negado',\n        description: 'Voc?? n??o tem permiss??o para acessar esta p??gina.',\n        variant: 'destructive',\n      });\n      navigate('/dashboard');\n      return;\n    }\n\n    setIsAdmin(true);\n    fetchUsers();\n  };\n\n  const fetchUsers = async () => {\n    setLoading(true);\n    const { data, error } = await supabase\n      .from('profiles')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (error) {\n      console.error('Error fetching users:', error);\n      toast({\n        title: 'Erro ao carregar usu??rios',\n        description: error.message,\n        variant: 'destructive',\n      });\n    } else {\n      setUsers(data || []);\n    }\n    setLoading(false);\n  };\n\n  const handleStatusChange = async (profile: UserProfile, newStatus: 'approved' | 'rejected') => {\n    setProcessingId(profile.id);\n\n    const { error } = await supabase\n      .from('profiles')\n      .update({ status: newStatus })\n      .eq('id', profile.id);\n\n    if (error) {\n      toast({\n        title: 'Erro ao atualizar status',\n        description: error.message,\n        variant: 'destructive',\n      });\n      setProcessingId(null);\n      return;\n    }\n\n    // Send email notification\n    try {\n      await supabase.functions.invoke('send-status-notification', {\n        body: {\n          full_name: profile.full_name,\n          email: profile.email,\n          status: newStatus,\n          company_name: profile.company_name,\n        },\n      });\n      console.log('Status notification email sent');\n    } catch (emailError) {\n      console.error('Failed to send notification email:', emailError);\n    }\n\n    toast({\n      title: newStatus === 'approved' ? 'Usu??rio aprovado!' : 'Usu??rio rejeitado',\n      description: `${profile.full_name} foi ${newStatus === 'approved' ? 'aprovado' : 'rejeitado'} com sucesso.`,\n    });\n\n    setProcessingId(null);\n    setConfirmDialog({ open: false, user: null, action: null });\n    fetchUsers();\n  };\n\n  const openConfirmDialog = (user: UserProfile, action: 'approved' | 'rejected') => {\n    setConfirmDialog({ open: true, user, action });\n  };\n\n  const getStatusBadge = (status: string) => {\n    switch (status) {\n      case 'pending':\n        return <Badge variant=\"outline\" className=\"bg-yellow-500/10 text-yellow-500 border-yellow-500/30\"><Clock className=\"h-3 w-3 mr-1\" /> Pendente</Badge>;\n      case 'approved':\n        return <Badge variant=\"outline\" className=\"bg-green-500/10 text-green-500 border-green-500/30\"><UserCheck className=\"h-3 w-3 mr-1\" /> Aprovado</Badge>;\n      case 'rejected':\n        return <Badge variant=\"outline\" className=\"bg-red-500/10 text-red-500 border-red-500/30\"><UserX className=\"h-3 w-3 mr-1\" /> Rejeitado</Badge>;\n      default:\n        return null;\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('pt-BR', {\n      day: '2-digit',\n      month: '2-digit',\n      year: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit',\n    });\n  };\n\n  const filterUsersByStatus = (status: string) => {\n    if (status === 'all') return users;\n    return users.filter(u => u.status === status);\n  };\n\n  if (!isAdmin) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  const pendingCount = users.filter(u => u.status === 'pending').length;\n  const approvedCount = users.filter(u => u.status === 'approved').length;\n  const rejectedCount = users.filter(u => u.status === 'rejected').length;\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\">\n      <div>\n        <h1 className=\"text-3xl font-display font-bold\">Gerenciar Usu??rios</h1>\n        <p className=\"text-muted-foreground mt-1\">Aprove ou rejeite solicita????es de acesso</p>\n      </div>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\n        <Card className=\"glass\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Total</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center gap-2\">\n              <Users className=\"h-5 w-5 text-primary\" />\n              <span className=\"text-2xl font-bold\">{users.length}</span>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"glass\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Pendentes</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center gap-2\">\n              <Clock className=\"h-5 w-5 text-yellow-500\" />\n              <span className=\"text-2xl font-bold\">{pendingCount}</span>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"glass\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Aprovados</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center gap-2\">\n              <UserCheck className=\"h-5 w-5 text-green-500\" />\n              <span className=\"text-2xl font-bold\">{approvedCount}</span>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"glass\">\n          <CardHeader className=\"pb-2\">\n            <CardTitle className=\"text-sm font-medium text-muted-foreground\">Rejeitados</CardTitle>\n          </CardHeader>\n          <CardContent>\n            <div className=\"flex items-center gap-2\">\n              <UserX className=\"h-5 w-5 text-red-500\" />\n              <span className=\"text-2xl font-bold\">{rejectedCount}</span>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Users Table */}\n      <Card className=\"glass\">\n        <CardHeader>\n          <CardTitle>Usu??rios</CardTitle>\n          <CardDescription>Lista de todos os usu??rios cadastrados no sistema</CardDescription>\n        </CardHeader>\n        <CardContent>\n          <Tabs defaultValue=\"pending\">\n            <TabsList className=\"mb-4\">\n              <TabsTrigger value=\"pending\" className=\"gap-2\">\n                Pendentes {pendingCount > 0 && <Badge variant=\"secondary\" className=\"ml-1\">{pendingCount}</Badge>}\n              </TabsTrigger>\n              <TabsTrigger value=\"approved\">Aprovados</TabsTrigger>\n              <TabsTrigger value=\"rejected\">Rejeitados</TabsTrigger>\n              <TabsTrigger value=\"all\">Todos</TabsTrigger>\n            </TabsList>\n\n            {['pending', 'approved', 'rejected', 'all'].map((tab) => (\n              <TabsContent key={tab} value={tab}>\n                {loading ? (\n                  <div className=\"flex items-center justify-center py-8\">\n                    <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n                  </div>\n                ) : filterUsersByStatus(tab).length === 0 ? (\n                  <div className=\"text-center py-8 text-muted-foreground\">\n                    Nenhum usu??rio encontrado\n                  </div>\n                ) : (\n                  <div className=\"rounded-md border border-border/50\">\n                    <Table>\n                      <TableHeader>\n                        <TableRow>\n                          <TableHead>Nome</TableHead>\n                          <TableHead>E-mail</TableHead>\n                          <TableHead>Empresa</TableHead>\n                          <TableHead>Data de Cadastro</TableHead>\n                          <TableHead>Status</TableHead>\n                          <TableHead className=\"text-right\">A????es</TableHead>\n                        </TableRow>\n                      </TableHeader>\n                      <TableBody>\n                        {filterUsersByStatus(tab).map((profile) => (\n                          <TableRow key={profile.id}>\n                            <TableCell className=\"font-medium\">{profile.full_name}</TableCell>\n                            <TableCell>{profile.email}</TableCell>\n                            <TableCell>{profile.company_name}</TableCell>\n                            <TableCell>{formatDate(profile.created_at)}</TableCell>\n                            <TableCell>{getStatusBadge(profile.status)}</TableCell>\n                            <TableCell className=\"text-right\">\n                              <div className=\"flex items-center justify-end gap-2\">\n                                {profile.status !== 'approved' && (\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    className=\"border-green-500/30 text-green-500 hover:bg-green-500/10\"\n                                    onClick={() => openConfirmDialog(profile, 'approved')}\n                                    disabled={processingId === profile.id}\n                                  >\n                                    {processingId === profile.id ? (\n                                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                    ) : (\n                                      <><Check className=\"h-4 w-4 mr-1\" /> Aprovar</>\n                                    )}\n                                  </Button>\n                                )}\n                                {profile.status !== 'rejected' && (\n                                  <Button\n                                    size=\"sm\"\n                                    variant=\"outline\"\n                                    className=\"border-red-500/30 text-red-500 hover:bg-red-500/10\"\n                                    onClick={() => openConfirmDialog(profile, 'rejected')}\n                                    disabled={processingId === profile.id}\n                                  >\n                                    {processingId === profile.id ? (\n                                      <Loader2 className=\"h-4 w-4 animate-spin\" />\n                                    ) : (\n                                      <><X className=\"h-4 w-4 mr-1\" /> Rejeitar</>\n                                    )}\n                                  </Button>\n                                )}\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))}\n                      </TableBody>\n                    </Table>\n                  </div>\n                )}\n              </TabsContent>\n            ))}\n          </Tabs>\n        </CardContent>\n      </Card>\n\n      {/* Confirmation Dialog */}\n      <AlertDialog open={confirmDialog.open} onOpenChange={(open) => setConfirmDialog({ ...confirmDialog, open })}>\n        <AlertDialogContent className=\"glass\">\n          <AlertDialogHeader>\n            <AlertDialogTitle>\n              {confirmDialog.action === 'approved' ? 'Aprovar usu??rio?' : 'Rejeitar usu??rio?'}\n            </AlertDialogTitle>\n            <AlertDialogDescription>\n              {confirmDialog.action === 'approved' \n                ? `Tem certeza que deseja aprovar ${confirmDialog.user?.full_name}? O usu??rio receber?? um e-mail de confirma????o.`\n                : `Tem certeza que deseja rejeitar ${confirmDialog.user?.full_name}? O usu??rio ser?? notificado por e-mail.`}\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              className={confirmDialog.action === 'approved' \n                ? 'bg-green-600 hover:bg-green-700' \n                : 'bg-red-600 hover:bg-red-700'}\n              onClick={() => confirmDialog.user && confirmDialog.action && handleStatusChange(confirmDialog.user, confirmDialog.action)}\n            >\n              {confirmDialog.action === 'approved' ? 'Aprovar' : 'Rejeitar'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Analytics.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":44,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":47,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2000,2003],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2000,2003],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":45,"column":52,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":45,"endColumn":55,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2008,2011],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2008,2011],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\DashboardHome.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\ExternalLinks.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":202,"column":43,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":202,"endColumn":46,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6731,6734],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6731,6734],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":262,"column":27,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":262,"endColumn":30,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8762,8765],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8762,8765],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":270,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":270,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9078,9081],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9078,9081],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":295,"column":25,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":295,"endColumn":28,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10154,10157],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10154,10157],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":330,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":330,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[11749,11752],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[11749,11752],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":710,"column":35,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":710,"endColumn":38,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[30200,30203],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[30200,30203],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prefer-const","severity":2,"message":"'updatedEmbed' is never reassigned. Use 'const' instead.","line":717,"column":21,"nodeType":"Identifier","messageId":"useConst","endLine":717,"endColumn":33,"fix":{"range":[30437,30476],"text":"const updatedEmbed = { ...currentEmbed };"}}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":1,"fixableWarningCount":0,"source":"import { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Plus, Search, Link2, Trash2, Edit, ExternalLink, Loader2, Upload, X, Image as ImageIcon, Video } from 'lucide-react';\nimport { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query';\nimport { supabase } from '@/integrations/supabase/client';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n  DialogDescription,\n} from '@/components/ui/dialog';\nimport { Label } from '@/components/ui/label';\nimport {\n  Select,\n  SelectContent,\n  SelectItem,\n  SelectTrigger,\n  SelectValue,\n} from '@/components/ui/select';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { SocialAssetsGallery } from '@/components/dashboard/widgets/SocialAssetsGallery';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\n\ninterface ExternalLink {\n  id: string;\n  platform: string;\n  title: string;\n  url: string;\n  embed_code: string | null;\n  thumbnail_url: string | null;\n  is_active: boolean;\n  created_at: string;\n}\n\nconst PLATFORMS = [\n  { value: 'instagram', label: 'Instagram', color: 'bg-gradient-to-br from-purple-500 via-pink-500 to-orange-400' },\n  { value: 'facebook', label: 'Facebook', color: 'bg-blue-600' },\n  { value: 'youtube', label: 'YouTube', color: 'bg-red-600' },\n  { value: 'tiktok', label: 'TikTok', color: 'bg-black' },\n  { value: 'twitter', label: 'X (Twitter)', color: 'bg-gray-900' },\n  { value: 'linkedin', label: 'LinkedIn', color: 'bg-blue-700' },\n  { value: 'whatsapp', label: 'WhatsApp', color: 'bg-green-500' },\n  { value: 'telegram', label: 'Telegram', color: 'bg-blue-500' },\n  { value: 'pinterest', label: 'Pinterest', color: 'bg-red-500' },\n  { value: 'spotify', label: 'Spotify', color: 'bg-green-600' },\n  { value: 'website', label: 'Website', color: 'bg-gray-600' },\n  { value: 'other', label: 'Outro', color: 'bg-gray-500' },\n];\n\nexport default function ExternalLinks() {\n  const { user } = useAuth();\n  const queryClient = useQueryClient();\n  const [searchQuery, setSearchQuery] = useState('');\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [editingLink, setEditingLink] = useState<ExternalLink | null>(null);\n  const [deleteConfirm, setDeleteConfirm] = useState<string | null>(null);\n\n  // Form state\n  const [formPlatform, setFormPlatform] = useState('instagram');\n  const [formTitle, setFormTitle] = useState('');\n  const [formUrl, setFormUrl] = useState('');\n  const [formEmbedCode, setFormEmbedCode] = useState('');\n\n  // Manual Upload State (Instagram)\n  const [profileFile, setProfileFile] = useState<File | null>(null);\n  const [postFiles, setPostFiles] = useState<File[]>([]);\n  const [isUploading, setIsUploading] = useState(false);\n\n  // Gallery Selection State\n  const [showGallery, setShowGallery] = useState(false);\n  const [selectedProfileUrl, setSelectedProfileUrl] = useState<string | null>(null);\n  const [selectedPostUrls, setSelectedPostUrls] = useState<{ src: string, type: 'video' | 'image' }[]>([]);\n\n  // Fetch external links\n  const { data: links = [], isLoading } = useQuery({\n    queryKey: ['external-links'],\n    queryFn: async () => {\n      const { data, error } = await supabase\n        .from('external_links')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n      return data as ExternalLink[];\n    },\n    enabled: !!user,\n  });\n\n  // Create/Update mutation\n  const saveMutation = useMutation({\n    mutationFn: async (linkData: Partial<ExternalLink> & { id?: string }) => {\n      if (linkData.id) { // Update existing link\n        const { error } = await supabase\n          .from('external_links')\n          .update({\n            platform: linkData.platform,\n            title: linkData.title,\n            url: linkData.url,\n            embed_code: linkData.embed_code || null,\n          })\n          .eq('id', linkData.id);\n        if (error) throw error;\n      } else { // Create new link\n        const { error } = await supabase\n          .from('external_links')\n          .insert({\n            user_id: user?.id,\n            platform: linkData.platform,\n            title: linkData.title,\n            url: linkData.url,\n            embed_code: linkData.embed_code || null,\n          });\n        if (error) throw error;\n      }\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['external-links'] });\n      toast.success(editingLink ? 'Link atualizado!' : 'Link adicionado!');\n      closeDialog();\n    },\n    onError: () => {\n      toast.error('Erro ao salvar link');\n    },\n  });\n\n  // Delete mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      const { error } = await supabase\n        .from('external_links')\n        .delete()\n        .eq('id', id);\n      if (error) throw error;\n    },\n    onSuccess: () => {\n      queryClient.invalidateQueries({ queryKey: ['external-links'] });\n      toast.success('Link removido!');\n      setDeleteConfirm(null);\n    },\n    onError: () => {\n      toast.error('Erro ao remover link');\n    },\n  });\n\n  const resetForm = () => {\n    setFormPlatform('instagram');\n    setFormTitle('');\n    setFormUrl('');\n    setFormEmbedCode('');\n    setEditingLink(null);\n    setProfileFile(null);\n    setPostFiles([]);\n    setSelectedProfileUrl(null);\n    setSelectedPostUrls([]);\n    setShowGallery(false);\n  };\n\n  const closeDialog = () => {\n    setIsDialogOpen(false);\n    resetForm();\n  };\n\n  const openEditDialog = (link: ExternalLink) => {\n    setEditingLink(link);\n    setFormPlatform(link.platform);\n    setFormTitle(link.title);\n    setFormUrl(link.url);\n    setFormEmbedCode(link.embed_code || '');\n\n    // Pre-populate selections if available\n    if (link.platform === 'instagram' && link.embed_code) {\n      try {\n        const embedData = JSON.parse(link.embed_code);\n        if (embedData.manual_profile) setSelectedProfileUrl(embedData.manual_profile);\n        if (embedData.manual_posts) setSelectedPostUrls(embedData.manual_posts);\n      } catch (e) {\n        console.error(\"Failed to parse embed_code for editing:\", e);\n      }\n    }\n\n    // Reset files (editing existing files not supported yet, user must re-upload to change)\n    setProfileFile(null);\n    setPostFiles([]);\n    setIsDialogOpen(true);\n  };\n\n  const handleGallerySelection = (assets: any[], type: string) => {\n    if (type === 'perfil') {\n      setSelectedProfileUrl(assets[0].url);\n      setProfileFile(null); // Clear file input if gallery is used\n      toast.success('Foto de perfil selecionada da galeria!');\n    } else {\n      const formatted = assets.map(a => ({\n        src: a.url,\n        type: a.name.match(/\\.(mp4|webm|mov)$/i) ? 'video' : 'image' as 'video' | 'image'\n      }));\n      setSelectedPostUrls(formatted);\n      setPostFiles([]);\n      toast.success(`${formatted.length} posts selecionados da galeria!`);\n    }\n    setShowGallery(false);\n  };\n\n  const handleFileUpload = async (file: File, subfolder: 'perfil' | 'posts') => {\n    if (!user) throw new Error('Usu??rio n??o autenticado');\n\n    const fileExt = file.name.split('.').pop();\n    // Sanitize filename to avoid weird character issues\n    const sanitizedName = file.name.replace(/[^a-zA-Z0-9]/g, '_');\n    const fileName = `manual_${Date.now()}_${sanitizedName}.${fileExt}`;\n    // Use subfolders for better organization\n    const filePath = `${user.id}/social/${subfolder}/${fileName}`;\n\n    // console.log(`[Upload] Starting upload to social/${subfolder}:`, filePath);\n\n    const { error: uploadError } = await supabase.storage\n      .from('media') // Keep 'media' bucket\n      .upload(filePath, file, {\n        upsert: true\n      });\n\n    if (uploadError) {\n      console.error('[Upload] Supabase error:', uploadError);\n      throw uploadError;\n    }\n\n    const { data } = supabase.storage\n      .from('media')\n      .getPublicUrl(filePath);\n\n    return data.publicUrl;\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!formTitle.trim() || !formUrl.trim()) {\n      toast.error('Preencha todos os campos obrigat??rios');\n      return;\n    }\n\n    try {\n      let finalEmbedCode = formEmbedCode.trim();\n\n      // Handle Instagram Manual Uploads\n      if (formPlatform === 'instagram') { // Run for Instagram regardless, to allow clearing\n        setIsUploading(true);\n        const manualData: any = {};\n\n        // 1. Resolve Profile Picture\n        let finalProfileUrl = selectedProfileUrl; // Start with current UI state (could be gallery selection or existing)\n\n        if (profileFile) {\n          try {\n            finalProfileUrl = await handleFileUpload(profileFile, 'perfil');\n          } catch (err: any) {\n            console.error('Profile upload failed:', err);\n            toast.error(`Erro ao enviar foto de perfil: ${err.message || 'Erro desconhecido'}`);\n            setIsUploading(false);\n            return;\n          }\n        }\n\n        if (finalProfileUrl) {\n          manualData.manual_profile = finalProfileUrl;\n        }\n\n        // 2. Resolve Posts\n        let finalPosts = [...selectedPostUrls]; // Start with current UI state\n\n        if (postFiles.length > 0) {\n          try {\n            const uploadedUrls = await Promise.all(postFiles.map(f => handleFileUpload(f, 'posts')));\n            // Create post objects for the new uploads\n            const newPosts = uploadedUrls.map((src, i) => ({\n              src,\n              type: postFiles[i].type.startsWith('video') ? 'video' : 'image' as 'video' | 'image'\n            }));\n            // Replace current selection with new uploads (or append? UI implies replacement usually, but let's stick to replacement as per current UI state clearing)\n            finalPosts = newPosts;\n          } catch (err: any) {\n            console.error('Posts upload failed:', err);\n            toast.error(`Erro ao enviar posts: ${err.message || 'Erro desconhecido'}`);\n            setIsUploading(false);\n            return;\n          }\n        }\n\n        if (finalPosts.length > 0) {\n          manualData.manual_posts = finalPosts;\n        }\n\n        // Store as JSON in embed_code column\n        // We do NOT merge with existing here because finalProfileUrl/finalPosts SHOULD be the complete truth.\n        // If the user cleared the selection in UI, finalProfileUrl will be null, and we want manual_profile to be undefined/removed.\n        if (Object.keys(manualData).length > 0) {\n          finalEmbedCode = JSON.stringify(manualData);\n        } else {\n          // If everything is cleared but we are in instagram mode, we might want to clear the embed code if it was previously manual data\n          // However, embed_code might also store other things. \n          // Ideally we just overwrite it with the new empty manualData if it was JSON.\n          // If the user entered a raw embed code string previously, this logic might overwrite it. \n          // But the UI shows either \"Manual\" OR \"Input\", controlled by internal logic.\n          // Given the current structure, if manual mode is active (implied by this block), we control the JSON.\n          finalEmbedCode = JSON.stringify(manualData);\n        }\n      }\n\n      saveMutation.mutate({\n        platform: formPlatform,\n        title: formTitle.trim(),\n        url: formUrl.trim(),\n        embed_code: finalEmbedCode,\n      });\n\n    } catch (error: any) {\n      console.error(error);\n      toast.error(`Erro cr??tico no envio: ${error.message || 'Tente novamente'}`);\n    } finally {\n      setIsUploading(false);\n    }\n  };\n\n  // Filter links\n  const filteredLinks = links.filter(link =>\n    link.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    link.platform.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    link.url.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  // Group links by platform\n  const linksByPlatform = PLATFORMS.map(platform => ({\n    ...platform,\n    links: filteredLinks.filter(link => link.platform === platform.value),\n  }));\n\n  const getPlatformInfo = (value: string) => {\n    return PLATFORMS.find(p => p.value === value) || PLATFORMS[PLATFORMS.length - 1];\n  };\n\n  if (isLoading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-primary\" />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\">\n      <div className=\"flex items-center justify-between\">\n        <div>\n          <h1 className=\"text-3xl font-display font-bold\">Links Externos</h1>\n          <p className=\"text-muted-foreground\">Conecte conte??dos de redes sociais e websites</p>\n        </div>\n      </div>\n\n      <Tabs defaultValue=\"links\" className=\"w-full\">\n        <TabsList className=\"mb-6\">\n          <TabsTrigger value=\"links\">Meus Links</TabsTrigger>\n          <TabsTrigger value=\"gallery\">Galeria Social</TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"links\" className=\"space-y-6\">\n          <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n            <div className=\"relative max-w-md w-full\">\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n              <Input\n                placeholder=\"Buscar links...\"\n                value={searchQuery}\n                onChange={(e) => setSearchQuery(e.target.value)}\n                className=\"pl-10\"\n              />\n            </div>\n            <Button className=\"gradient-primary\" onClick={() => setIsDialogOpen(true)}>\n              <Plus className=\"h-4 w-4 mr-2\" />\n              Adicionar Link\n            </Button>\n          </div>\n\n          {/* Platform Summary Cards */}\n          <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3\">\n            {linksByPlatform.filter(p => p.links.length > 0).map((platform) => (\n              <Card key={platform.value} className=\"glass hover:glow-primary transition-all duration-300\">\n                <CardContent className=\"flex flex-col items-center justify-center p-4\">\n                  <div className={`w-10 h-10 rounded-full ${platform.color} flex items-center justify-center mb-2`}>\n                    <span className=\"text-white font-bold text-sm\">\n                      {platform.label.charAt(0)}\n                    </span>\n                  </div>\n                  <span className=\"font-medium text-sm\">{platform.label}</span>\n                  <span className=\"text-xs text-muted-foreground\">{platform.links.length} links</span>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          {/* Links List */}\n          {filteredLinks.length > 0 ? (\n            <div className=\"grid gap-4\">\n              {filteredLinks.map((link) => {\n                const platform = getPlatformInfo(link.platform);\n                return (\n                  <Card key={link.id} className=\"glass hover:glow-primary transition-all duration-300\">\n                    <CardContent className=\"flex items-center justify-between p-4\">\n                      <div className=\"flex items-center gap-4\">\n                        <div className={`w-12 h-12 rounded-lg ${platform.color} flex items-center justify-center flex-shrink-0`}>\n                          <span className=\"text-white font-bold text-lg\">\n                            {platform.label.charAt(0)}\n                          </span>\n                        </div>\n                        <div className=\"min-w-0\">\n                          <h3 className=\"font-semibold truncate\">{link.title}</h3>\n                          <p className=\"text-sm text-muted-foreground truncate\">{platform.label}</p>\n                          <a\n                            href={link.url}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                            className=\"text-xs text-primary hover:underline truncate block\"\n                          >\n                            {link.url}\n                          </a>\n                        </div>\n                      </div>\n                      <div className=\"flex items-center gap-2\">\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => window.open(link.url, '_blank')}\n                        >\n                          <ExternalLink className=\"h-4 w-4\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => openEditDialog(link)}\n                        >\n                          <Edit className=\"h-4 w-4\" />\n                        </Button>\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          className=\"text-destructive hover:text-destructive\"\n                          onClick={() => setDeleteConfirm(link.id)}\n                        >\n                          <Trash2 className=\"h-4 w-4\" />\n                        </Button>\n                      </div>\n                    </CardContent>\n                  </Card>\n                );\n              })}\n            </div>\n          ) : (\n            <Card className=\"glass\">\n              <CardContent className=\"flex flex-col items-center justify-center py-16\">\n                <div className=\"p-6 rounded-full bg-muted/50 mb-4\">\n                  <Link2 className=\"h-12 w-12 text-muted-foreground\" />\n                </div>\n                <h3 className=\"text-xl font-semibold mb-2\">Nenhum link externo</h3>\n                <p className=\"text-muted-foreground text-center max-w-md mb-4\">\n                  Adicione links de Instagram, Facebook, YouTube, TikTok, WhatsApp e outras plataformas.\n                </p>\n                <Button className=\"gradient-primary\" onClick={() => setIsDialogOpen(true)}>\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Adicionar Link\n                </Button>\n              </CardContent>\n            </Card>\n          )}\n\n          {/* Add/Edit Dialog */}\n          <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n            <DialogContent className=\"max-h-[90vh] flex flex-col p-0 gap-0\">\n              <DialogHeader className=\"p-6 pb-2 shrink-0\">\n                <DialogTitle>{editingLink ? 'Editar Link' : 'Adicionar Link'}</DialogTitle>\n                <DialogDescription>\n                  Adicione links de redes sociais para conectar seu conte??do.\n                </DialogDescription>\n              </DialogHeader>\n              <form onSubmit={handleSubmit} className=\"flex flex-col flex-1 overflow-hidden\">\n                <div className=\"flex-1 overflow-y-auto p-6 pt-2 custom-scrollbar space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"platform\">Plataforma</Label>\n                    <Select value={formPlatform} onValueChange={setFormPlatform}>\n                      <SelectTrigger>\n                        <SelectValue placeholder=\"Selecione a plataforma\" />\n                      </SelectTrigger>\n                      <SelectContent>\n                        {PLATFORMS.map((platform) => (\n                          <SelectItem key={platform.value} value={platform.value}>\n                            <div className=\"flex items-center gap-2\">\n                              <div className={`w-4 h-4 rounded ${platform.color}`} />\n                              {platform.label}\n                            </div>\n                          </SelectItem>\n                        ))}\n                      </SelectContent>\n                    </Select>\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"title\">T??tulo *</Label>\n                    <Input\n                      id=\"title\"\n                      value={formTitle}\n                      onChange={(e) => setFormTitle(e.target.value)}\n                      placeholder=\"Ex: Nosso perfil no Instagram\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"url\">URL *</Label>\n                    <Input\n                      id=\"url\"\n                      type=\"url\"\n                      value={formUrl}\n                      onChange={(e) => setFormUrl(e.target.value)}\n                      placeholder=\"https://instagram.com/seuperfil\"\n                      required\n                    />\n                  </div>\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"embed\">\n                      {formPlatform === 'instagram' ? 'Configura????o Manual (Opcional)' : 'C??digo de Embed (opcional)'}\n                    </Label>\n\n                    {formPlatform === 'instagram' ? (\n                      <div className=\"space-y-4 border rounded-lg p-4 bg-muted/30\">\n\n                        {/* Gallery Toggle / View */}\n                        {showGallery ? (\n                          <div className=\"space-y-2\">\n                            <div className=\"flex justify-between items-center mb-2\">\n                              <Label className=\"text-sm font-semibold\">Galeria Social</Label>\n                              <Button variant=\"ghost\" size=\"sm\" onClick={() => setShowGallery(false)} className=\"h-6 px-2 text-xs\">\n                                <X className=\"h-4 w-4 mr-1\" /> Fechar\n                              </Button>\n                            </div>\n                            <SocialAssetsGallery\n                              selectionMode={true}\n                              onSelectionConfirm={handleGallerySelection}\n                            />\n                          </div>\n                        ) : (\n                          <>\n                            <div className=\"flex justify-end\">\n                              <Button type=\"button\" variant=\"secondary\" size=\"sm\" onClick={() => setShowGallery(true)} className=\"text-xs\">\n                                <ImageIcon className=\"h-4 w-4 mr-2\" />\n                                Selecionar da Galeria Social\n                              </Button>\n                            </div>\n\n                            {/* Profile Picture Section */}\n                            <div className=\"space-y-2\">\n                              <Label className=\"text-xs text-muted-foreground uppercase font-bold\">Foto Perfil do Instagram (Imagem)</Label>\n\n                              {selectedProfileUrl ? (\n                                <div className=\"flex items-center gap-3 p-2 bg-background rounded border\">\n                                  <img src={selectedProfileUrl} className=\"w-10 h-10 rounded-full object-cover\" alt=\"Profile Selection\" />\n                                  <div className=\"flex-1 overflow-hidden\">\n                                    <p className=\"text-xs truncate\">Selecionado da Galeria</p>\n                                  </div>\n                                  <Button type=\"button\" variant=\"ghost\" size=\"icon\" className=\"h-8 w-8 text-destructive\" onClick={() => setSelectedProfileUrl(null)}>\n                                    <X className=\"h-4 w-4\" />\n                                  </Button>\n                                </div>\n                              ) : (\n                                <div className=\"flex items-center gap-3\">\n                                  <Input\n                                    type=\"file\"\n                                    accept=\"image/*\"\n                                    onChange={(e) => setProfileFile(e.target.files?.[0] || null)}\n                                    className=\"cursor-pointer text-xs\"\n                                  />\n                                  {profileFile && <ImageIcon className=\"h-4 w-4 text-green-500\" />}\n                                </div>\n                              )}\n                            </div>\n\n                            {/* Posts Section */}\n                            <div className=\"space-y-2\">\n                              <Label className=\"text-xs text-muted-foreground uppercase font-bold\">??ltimos 3 Posts (Img/Video)</Label>\n\n                              {selectedPostUrls.length > 0 ? (\n                                <div className=\"space-y-2\">\n                                  <div className=\"flex gap-2\">\n                                    {selectedPostUrls.map((post, idx) => (\n                                      <div key={idx} className=\"relative w-16 h-16 rounded overflow-hidden border bg-black/5\">\n                                        {post.type === 'video' ? (\n                                          <video src={post.src} className=\"w-full h-full object-cover opacity-80\" controls />\n                                        ) : (\n                                          <img src={post.src} className=\"w-full h-full object-cover\" alt=\"Post\" />\n                                        )}\n                                      </div>\n                                    ))}\n                                  </div>\n                                  <Button type=\"button\" variant=\"outline\" size=\"sm\" className=\"w-full text-xs h-7\" onClick={() => setSelectedPostUrls([])}>\n                                    Limpar Sele????o de Posts\n                                  </Button>\n                                </div>\n                              ) : (\n                                <>\n                                  <div className=\"flex items-center gap-3\">\n                                    <Input\n                                      type=\"file\"\n                                      accept=\"image/*,video/*\"\n                                      multiple\n                                      onChange={(e) => {\n                                        const files = Array.from(e.target.files || []);\n                                        if (files.length > 3) {\n                                          toast.error('Selecione no m??ximo 3 arquivos');\n                                          e.target.value = '';\n                                          return;\n                                        }\n                                        setPostFiles(files);\n                                      }}\n                                      className=\"cursor-pointer text-xs\"\n                                    />\n                                    <div className=\"flex gap-1\">\n                                      {postFiles.map((_, i) => (\n                                        <div key={i} className=\"w-2 h-2 rounded-full bg-green-500\" />\n                                      ))}\n                                    </div>\n                                  </div>\n                                  <p className=\"text-[10px] text-muted-foreground\">Suporta imagens e v??deos de at?? 1 minuto.</p>\n                                </>\n                              )}\n                            </div>\n                          </>\n                        )}\n                      </div>\n                    ) : (\n                      <Input\n                        id=\"embed\"\n                        value={formEmbedCode}\n                        onChange={(e) => setFormEmbedCode(e.target.value)}\n                        placeholder=\"C??digo de incorpora????o da plataforma\"\n                      />\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"p-4 border-t bg-background mt-auto flex justify-end gap-2 shrink-0\">\n                  <Button type=\"button\" variant=\"outline\" onClick={closeDialog}>\n                    Cancelar\n                  </Button>\n                  <Button type=\"submit\" disabled={saveMutation.isPending || isUploading}>\n                    {saveMutation.isPending || isUploading ? (\n                      <Loader2 className=\"h-4 w-4 animate-spin mr-2\" />\n                    ) : null}\n                    {editingLink ? 'Salvar' : 'Adicionar'}\n                  </Button>\n                </div>\n              </form>\n            </DialogContent>\n          </Dialog>\n\n          {/* Delete Confirmation */}\n          <AlertDialog open={!!deleteConfirm} onOpenChange={() => setDeleteConfirm(null)}>\n            <AlertDialogContent>\n              <AlertDialogHeader>\n                <AlertDialogTitle>Confirmar exclus??o</AlertDialogTitle>\n                <AlertDialogDescription>\n                  Tem certeza que deseja excluir este link? Esta a????o n??o pode ser desfeita.\n                </AlertDialogDescription>\n              </AlertDialogHeader>\n              <AlertDialogFooter>\n                <AlertDialogCancel>Cancelar</AlertDialogCancel>\n                <AlertDialogAction\n                  className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n                  onClick={() => deleteConfirm && deleteMutation.mutate(deleteConfirm)}\n                >\n                  Excluir\n                </AlertDialogAction>\n              </AlertDialogFooter>\n            </AlertDialogContent>\n          </AlertDialog>\n        </TabsContent>\n\n        <TabsContent value=\"gallery\">\n          <SocialAssetsGallery\n            availableLinks={links}\n            onApplyToInstagram={async (type, data, targetLinkId) => {\n              // Find the specific Instagram link designed by user\n              const instagramLink = links.find(l => l.id === targetLinkId);\n\n              if (!instagramLink) {\n                toast.error('O link selecionado n??o foi encontrado ou foi exclu??do.');\n                return;\n              }\n\n              try {\n                let currentEmbed: any = {};\n                try {\n                  currentEmbed = instagramLink.embed_code ? JSON.parse(instagramLink.embed_code) : {};\n                } catch (e) {\n                  currentEmbed = {};\n                }\n\n                let updatedEmbed = { ...currentEmbed };\n\n                if (type === 'profile') {\n                  updatedEmbed.manual_profile = data;\n                  toast.info(`Atualizando foto de perfil de \"${instagramLink.title}\"...`);\n                } else {\n                  updatedEmbed.manual_posts = data;\n                  toast.info(`Atualizando posts de \"${instagramLink.title}\"...`);\n                }\n\n                await saveMutation.mutateAsync({\n                  ...instagramLink,\n                  embed_code: JSON.stringify(updatedEmbed)\n                });\n\n                toast.success(type === 'profile' ? 'Foto de perfil atualizada!' : 'Posts do Instagram atualizados!');\n              } catch (error) {\n                console.error('Error updating instagram assets:', error);\n                toast.error('Erro ao atualizar Instagram.');\n              }\n            }}\n            isApplying={saveMutation.isPending}\n          />\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\History.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Medias.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Playlists.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Schedule.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\ScreenDetails.tsx","messages":[{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":189,"column":42,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":189,"endColumn":58,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[9492,9508],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":223,"column":38,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":223,"endColumn":54,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[11425,11441],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":230,"column":50,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":230,"endColumn":66,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[12160,12176],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":236,"column":53,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":236,"endColumn":69,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[12665,12681],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":240,"column":54,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":240,"endColumn":70,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[13013,13029],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":242,"column":54,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":242,"endColumn":70,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[13211,13227],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]},{"ruleId":"@typescript-eslint/ban-ts-comment","severity":2,"message":"Use \"@ts-expect-error\" instead of \"@ts-ignore\", as \"@ts-ignore\" will do nothing if the following line is error-free.","line":248,"column":38,"nodeType":"Block","messageId":"tsIgnoreInsteadOfExpectError","endLine":248,"endColumn":54,"suggestions":[{"messageId":"replaceTsIgnoreWithTsExpectError","fix":{"range":[13624,13640],"text":"/* @ts-expect-error */"},"desc":"Replace \"@ts-ignore\" with \"@ts-expect-error\"."}]}],"suppressedMessages":[],"errorCount":7,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useParams, useNavigate } from 'react-router-dom';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport { supabase } from '@/integrations/supabase/client';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Skeleton } from '@/components/ui/skeleton';\r\nimport { ArrowLeft, Monitor, Wifi, WifiOff, MapPin, Clock, Server, ListVideo, Play } from 'lucide-react';\r\nimport { format, formatDistanceToNow } from 'date-fns';\r\nimport { ptBR } from 'date-fns/locale';\r\nimport { Screen, ScreenStatus } from '@/types/models';\r\n\r\nexport default function ScreenDetails() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const navigate = useNavigate();\r\n\r\n    // Fetch Screen Details\r\n    const { data: screen, isLoading } = useQuery({\r\n        queryKey: ['screen', id],\r\n        queryFn: async () => {\r\n            const { data, error } = await supabase\r\n                .from('screens')\r\n                .select(`\r\n          *,\r\n          playlist:playlists(\r\n            id,\r\n            name,\r\n            description,\r\n            items:playlist_items(\r\n              id,\r\n              position,\r\n              media:media_items(id, name, file_url, duration, file_type)\r\n            )\r\n          )\r\n        `)\r\n                .eq('id', id)\r\n                .single();\r\n\r\n            if (error) throw error;\r\n\r\n            // Compute status logic similar to useScreens\r\n            const now = new Date();\r\n            let status: ScreenStatus = 'offline';\r\n            if (data.last_ping_at) {\r\n                const lastPing = new Date(data.last_ping_at);\r\n                const diffSeconds = (now.getTime() - lastPing.getTime()) / 1000;\r\n                if (diffSeconds < 60) {\r\n                    status = 'playing';\r\n                } else if (diffSeconds < 300) {\r\n                    status = 'online';\r\n                }\r\n            }\r\n\r\n            return { ...data, status } as Screen;\r\n        },\r\n        enabled: !!id,\r\n        refetchInterval: 10000,\r\n    });\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"space-y-6 animate-fade-in p-6\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <Skeleton className=\"h-10 w-10 rounded-full\" />\r\n                    <div className=\"space-y-2\">\r\n                        <Skeleton className=\"h-8 w-64\" />\r\n                        <Skeleton className=\"h-4 w-32\" />\r\n                    </div>\r\n                </div>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                    <Skeleton className=\"h-32\" />\r\n                    <Skeleton className=\"h-32\" />\r\n                    <Skeleton className=\"h-32\" />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!screen) {\r\n        return (\r\n            <div className=\"flex flex-col items-center justify-center h-[50vh] text-muted-foreground\">\r\n                <Monitor className=\"h-12 w-12 mb-4 opacity-50\" />\r\n                <h2 className=\"text-xl font-semibold\">Tela n??o encontrada</h2>\r\n                <Button variant=\"link\" onClick={() => navigate('/dashboard/screens')}>\r\n                    Voltar para Lista\r\n                </Button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const isOnline = screen.status === 'playing' || screen.status === 'online';\r\n\r\n    return (\r\n        <div className=\"space-y-6 animate-fade-in\">\r\n            {/* Header */}\r\n            <div className=\"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 border-b border-border/50 pb-6\">\r\n                <div className=\"flex items-center gap-4\">\r\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => navigate('/dashboard/screens')}>\r\n                        <ArrowLeft className=\"h-5 w-5\" />\r\n                    </Button>\r\n                    <div>\r\n                        <div className=\"flex items-center gap-3\">\r\n                            <h1 className=\"text-3xl font-display font-bold text-foreground\">{screen.name}</h1>\r\n                            <Badge\r\n                                variant={isOnline ? 'default' : 'destructive'}\r\n                                className={isOnline ? 'bg-green-500 hover:bg-green-600' : ''}\r\n                            >\r\n                                {screen.status?.toUpperCase()}\r\n                            </Badge>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4 text-sm text-muted-foreground mt-1\">\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <MapPin className=\"h-3 w-3\" />\r\n                                <span>{screen.location || 'Sem localiza????o'}</span>\r\n                            </div>\r\n                            <div className=\"flex items-center gap-1\">\r\n                                <Clock className=\"h-3 w-3\" />\r\n                                <span>\r\n                                    {screen.last_ping_at\r\n                                        ? `Visto ${formatDistanceToNow(new Date(screen.last_ping_at), { addSuffix: true, locale: ptBR })}`\r\n                                        : 'Nunca visto'}\r\n                                </span>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex gap-2\">\r\n                    <Button variant=\"outline\" onClick={() => window.open(`/player/${screen.custom_id || screen.id}`, '_blank')}>\r\n                        Abrir Player\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Tabs */}\r\n            <Tabs defaultValue=\"overview\" className=\"w-full\">\r\n                <TabsList className=\"bg-background/50 backdrop-blur border border-border/50 p-1\">\r\n                    <TabsTrigger value=\"overview\">Vis??o Geral</TabsTrigger>\r\n                    <TabsTrigger value=\"playlist\">Playlist da Tela</TabsTrigger>\r\n                    {/* <TabsTrigger value=\"analytics\">M??tricas</TabsTrigger> */}\r\n                </TabsList>\r\n\r\n                <TabsContent value=\"overview\" className=\"space-y-6 mt-6\">\r\n                    <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                        {/* Status Card */}\r\n                        <Card className=\"glass overflow-hidden\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2 space-y-0\">\r\n                                <CardTitle className=\"text-sm font-medium\">Status da Conex??o</CardTitle>\r\n                                {isOnline ? <Wifi className=\"h-4 w-4 text-green-500\" /> : <WifiOff className=\"h-4 w-4 text-red-500\" />}\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"text-2xl font-bold\">{isOnline ? 'Online' : 'Offline'}</div>\r\n                                <p className=\"text-xs text-muted-foreground mt-1\">\r\n                                    {screen.last_ping_at\r\n                                        ? `??ltimo sinal em ${format(new Date(screen.last_ping_at), \"dd/MM '??s' HH:mm\")}`\r\n                                        : 'Sem conex??o recente'}\r\n                                </p>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Device Info */}\r\n                        <Card className=\"glass\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2 space-y-0\">\r\n                                <CardTitle className=\"text-sm font-medium\">Dispositivo</CardTitle>\r\n                                <Monitor className=\"h-4 w-4 text-primary\" />\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"text-2xl font-bold\">v{screen.version || '1.0.0'}</div>\r\n                                <div className=\"flex flex-col gap-1 mt-1 text-xs text-muted-foreground\">\r\n                                    <span>IP: {screen.ip_address || '---'}</span>\r\n                                    <span>ID: {screen.custom_id || screen.id.slice(0, 8)}</span>\r\n                                </div>\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Current Playlist */}\r\n                        <Card className=\"glass\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2 space-y-0\">\r\n                                <CardTitle className=\"text-sm font-medium\">Playlist Atual</CardTitle>\r\n                                <ListVideo className=\"h-4 w-4 text-blue-500\" />\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                {screen.playlist ? (\r\n                                    <>\r\n                                        <div className=\"text-lg font-bold truncate\" title={screen.playlist.name}>\r\n                                            {screen.playlist.name}\r\n                                        </div>\r\n                                        {/* Accessing items gracefully if they exist in the join */}\r\n                                        {/* @ts-ignore */}\r\n                                        <p className=\"text-xs text-muted-foreground mt-1\">{screen.playlist.items?.length || 0} itens na fila</p>\r\n                                    </>\r\n                                ) : (\r\n                                    <>\r\n                                        <div className=\"text-lg font-bold text-muted-foreground\">Nenhuma</div>\r\n                                        <p className=\"text-xs text-muted-foreground mt-1\">Tela ociosa</p>\r\n                                    </>\r\n                                )}\r\n                            </CardContent>\r\n                        </Card>\r\n\r\n                        {/* Uptime/Storage (Mock for now) */}\r\n                        <Card className=\"glass\">\r\n                            <CardHeader className=\"flex flex-row items-center justify-between pb-2 space-y-0\">\r\n                                <CardTitle className=\"text-sm font-medium\">Armazenamento</CardTitle>\r\n                                <Server className=\"h-4 w-4 text-orange-500\" />\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"text-2xl font-bold\">--</div>\r\n                                <p className=\"text-xs text-muted-foreground mt-1\">Dispon??vel no dispositivo</p>\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n                </TabsContent>\r\n\r\n                <TabsContent value=\"playlist\" className=\"mt-6\">\r\n                    <Card className=\"glass\">\r\n                        <CardHeader>\r\n                            <CardTitle>Conte??do em Reprodu????o</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            {screen.playlist ? (\r\n                                <div className=\"space-y-4\">\r\n                                    {/* @ts-ignore */}\r\n                                    {screen.playlist.items?.sort((a, b) => a.position - b.position).map((item, index) => (\r\n                                        <div key={item.id} className=\"flex items-center justify-between p-3 rounded-lg bg-muted/30 border border-border/50\">\r\n                                            <div className=\"flex items-center gap-3\">\r\n                                                <div className=\"flex items-center justify-center h-8 w-8 rounded-full bg-background/50 text-xs font-bold border border-border\">\r\n                                                    {index + 1}\r\n                                                </div>\r\n                                                {/* @ts-ignore */}\r\n                                                {item.media?.file_type === 'video' ? (\r\n                                                    <div className=\"h-10 w-16 bg-black/20 rounded flex items-center justify-center\">\r\n                                                        <Play className=\"h-4 w-4 opacity-50\" />\r\n                                                    </div>\r\n                                                ) : (\r\n                                                    /* @ts-ignore */\r\n                                                    <div className=\"h-10 w-16 bg-cover bg-center rounded\" style={{ backgroundImage: `url(${item.media?.file_url})` }} />\r\n                                                )}\r\n                                                <div>\r\n                                                    {/* @ts-ignore */}\r\n                                                    <p className=\"font-medium\">{item.media?.name || 'Item desconhecido'}</p>\r\n                                                    {/* @ts-ignore */}\r\n                                                    <p className=\"text-xs text-muted-foreground\">{item.media ? `${item.media.duration}s` : 'Tempo padr??o'}</p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    ))}\r\n                                    {/* @ts-ignore */}\r\n                                    {(!screen.playlist.items || screen.playlist.items.length === 0) && (\r\n                                        <div className=\"text-center py-8 text-muted-foreground\">Playlist vazia</div>\r\n                                    )}\r\n                                </div>\r\n                            ) : (\r\n                                <div className=\"flex flex-col items-center justify-center py-12 text-muted-foreground\">\r\n                                    <ListVideo className=\"h-10 w-10 mb-3 opacity-20\" />\r\n                                    <p>Nenhuma playlist associada a esta tela.</p>\r\n                                </div>\r\n                            )}\r\n                        </CardContent>\r\n                    </Card>\r\n                </TabsContent>\r\n            </Tabs>\r\n        </div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Screens.tsx","messages":[{"ruleId":"@typescript-eslint/no-require-imports","severity":2,"message":"A `require()` style import is forbidden.","line":42,"column":20,"nodeType":"CallExpression","messageId":"noRequireImports","endLine":42,"endColumn":47}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Input } from '@/components/ui/input';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Plus, Search, Monitor, MoreVertical, Pencil, Trash2,\n  MapPin, Loader2, Wifi, WifiOff, Play, Calendar, ExternalLink, Copy, RefreshCw, Camera\n} from 'lucide-react';\nimport {\n  DropdownMenu,\n  DropdownMenuContent,\n  DropdownMenuItem,\n  DropdownMenuTrigger,\n} from '@/components/ui/dropdown-menu';\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from '@/components/ui/alert-dialog';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { toast } from 'sonner';\nimport { format, differenceInMinutes } from 'date-fns';\nimport { ptBR } from 'date-fns/locale';\nimport { ScreenDialog } from '@/components/screens/ScreenDialog';\nimport { ScreenScheduleDialog } from '@/components/screens/ScreenScheduleDialog';\nimport { ScreenIdBadge } from '@/components/screens/ScreenIdBadge';\nimport { useScreens } from '@/hooks/useScreens';\nimport { Screen } from '@/types/models';\nimport { EmptyState } from '@/components/ui/empty-state';\nimport { LoadingState } from '@/components/ui/loading-state';\nimport { Skeleton } from '@/components/ui/skeleton';\n\nexport default function Screens() {\n  const { user } = useAuth();\n  const { screens, loading, fetchScreens, deleteScreen, sendCommand } = useScreens(user?.id);\n  const navigate = require('react-router-dom').useNavigate();\n\n  const [searchQuery, setSearchQuery] = useState('');\n  const [dialogOpen, setDialogOpen] = useState(false);\n  const [scheduleScreen, setScheduleScreen] = useState<Screen | null>(null);\n  const [selectedScreen, setSelectedScreen] = useState<Screen | null>(null);\n  const [deleteId, setDeleteId] = useState<string | null>(null);\n  const [deleting, setDeleting] = useState(false);\n\n  // Helper to check online status based on last ping (threshold: 4 mins)\n  const isScreenOnline = (lastPing?: string | null) => {\n    if (!lastPing) return false;\n    try {\n      const diff = differenceInMinutes(new Date(), new Date(lastPing));\n      return diff < 4;\n    } catch (e) {\n      return false;\n    }\n  };\n\n  const handleCopyUrl = (screen: Screen) => {\n    const displayId = screen.custom_id || screen.id;\n    const url = `${window.location.origin}/player/${displayId}`;\n    navigator.clipboard.writeText(url);\n    toast.success('URL copiada para a ??rea de transfer??ncia');\n  };\n\n  const handleDelete = async () => {\n    if (!deleteId) return;\n    setDeleting(true);\n    await deleteScreen(deleteId);\n    setDeleting(false);\n    setDeleteId(null);\n  };\n\n  const handleEdit = (screen: Screen) => {\n    setSelectedScreen(screen);\n    setDialogOpen(true);\n  };\n\n  const handleSchedule = (screen: Screen) => {\n    setScheduleScreen(screen);\n  };\n\n  const filteredScreens = screens.filter(s =>\n    s.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    s.location?.toLowerCase().includes(searchQuery.toLowerCase())\n  );\n\n  const activeCount = screens.filter(s => s.is_active).length;\n  const onlineCount = screens.filter(s => isScreenOnline(s.last_ping_at)).length;\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\">\n      {/* Header */}\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\n        <div>\n          <h1 className=\"text-3xl font-display font-bold\">Telas</h1>\n          <p className=\"text-muted-foreground\">Gerencie seus dispositivos e players</p>\n        </div>\n        <Button className=\"gradient-primary\" onClick={() => { setSelectedScreen(null); setDialogOpen(true); }}>\n          <Plus className=\"h-4 w-4 mr-2\" />\n          Nova Tela\n        </Button>\n      </div>\n\n      {/* Stats */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-4\">\n        <Card className=\"glass\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"p-3 rounded-lg bg-primary/10\">\n              <Monitor className=\"h-6 w-6 text-primary\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold\">{screens.length}</p>\n              <p className=\"text-sm text-muted-foreground\">Total de Telas</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"glass\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className={`p-3 rounded-lg ${onlineCount > 0 ? 'bg-success/10' : 'bg-muted'}`}>\n              <Wifi className={`h-6 w-6 ${onlineCount > 0 ? 'text-success' : 'text-muted-foreground'}`} />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold\">{onlineCount}</p>\n              <p className=\"text-sm text-muted-foreground\">Online Agora</p>\n            </div>\n          </CardContent>\n        </Card>\n        <Card className=\"glass\">\n          <CardContent className=\"flex items-center gap-4 p-4\">\n            <div className=\"p-3 rounded-lg bg-accent/10\">\n              <Monitor className=\"h-6 w-6 text-accent\" />\n            </div>\n            <div>\n              <p className=\"text-2xl font-bold\">{activeCount}</p>\n              <p className=\"text-sm text-muted-foreground\">Ativas</p>\n            </div>\n          </CardContent>\n        </Card>\n      </div>\n\n      {/* Search */}\n      <div className=\"relative max-w-md\">\n        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground\" />\n        <Input\n          placeholder=\"Buscar telas...\"\n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n          className=\"pl-10\"\n        />\n      </div>\n\n      {/* Content */}\n      {loading ? (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {[...Array(6)].map((_, i) => (\n            <div key={i} className=\"flex flex-col space-y-3\">\n              <Skeleton className=\"h-[200px] w-full rounded-xl\" />\n              <div className=\"space-y-2\">\n                <Skeleton className=\"h-4 w-3/4\" />\n                <Skeleton className=\"h-4 w-1/2\" />\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : filteredScreens.length === 0 ? (\n        <EmptyState\n          icon={Monitor}\n          title={searchQuery ? 'Nenhuma tela encontrada' : 'Nenhuma tela cadastrada'}\n          description={searchQuery\n            ? 'Tente ajustar sua busca com outros termos.'\n            : 'Adicione telas para come??ar a exibir suas playlists.'}\n          action={!searchQuery ? {\n            label: 'Criar Tela',\n            onClick: () => { setSelectedScreen(null); setDialogOpen(true); },\n            icon: Plus\n          } : undefined}\n        />\n      ) : (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\n          {filteredScreens.map(screen => {\n            const isOnline = isScreenOnline(screen.last_ping_at);\n            const statusColor = isOnline\n              ? (screen.status === 'playing' ? '#22c55e' : '#3b82f6')\n              : '#ef4444';\n\n            return (\n              <Card\n                key={screen.id}\n                className=\"glass group hover:shadow-lg transition-shadow overflow-hidden border-l-4 cursor-pointer\"\n                style={{ borderLeftColor: statusColor }}\n                onClick={() => navigate(`/dashboard/screens/${screen.id}`)}\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start justify-between mb-3\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center gap-2\">\n                        <h3 className=\"font-semibold truncate\">{screen.name}</h3>\n                        {isOnline ? (\n                          screen.status === 'playing' ? (\n                            <Badge className=\"bg-green-500 hover:bg-green-600\">Reproduzindo</Badge>\n                          ) : (\n                            <Badge className=\"bg-blue-500 hover:bg-blue-600\">Online</Badge>\n                          )\n                        ) : (\n                          <Badge variant=\"secondary\" className=\"bg-destructive/10 text-destructive hover:bg-destructive/20\">Offline</Badge>\n                        )}\n                      </div>\n                      {screen.location && (\n                        <div className=\"flex items-center gap-1 text-sm text-muted-foreground mt-1\">\n                          <MapPin className=\"h-3 w-3\" />\n                          <span className=\"truncate\">{screen.location}</span>\n                        </div>\n                      )}\n                    </div>\n                    <DropdownMenu>\n                      <DropdownMenuTrigger asChild>\n                        <Button variant=\"ghost\" size=\"icon\" className=\"h-8 w-8\" onClick={(e) => e.stopPropagation()}>\n                          <MoreVertical className=\"h-4 w-4\" />\n                        </Button>\n                      </DropdownMenuTrigger>\n                      <DropdownMenuContent align=\"end\">\n                        <DropdownMenuItem onClick={() => handleEdit(screen)}>\n                          <Pencil className=\"h-4 w-4 mr-2\" />\n                          Editar\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleSchedule(screen)}>\n                          <Calendar className=\"h-4 w-4 mr-2\" />\n                          Agendar\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => handleCopyUrl(screen)}>\n                          <Copy className=\"h-4 w-4 mr-2\" />\n                          Copiar URL\n                        </DropdownMenuItem>\n                        <DropdownMenuItem onClick={() => window.open(`/player/${screen.custom_id || screen.id}`, '_blank')}>\n                          <ExternalLink className=\"h-4 w-4 mr-2\" />\n                          Abrir Player\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => sendCommand(screen.id, 'reload')}\n                        >\n                          <RefreshCw className=\"h-4 w-4 mr-2\" />\n                          Recarregar Player\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => sendCommand(screen.id, 'screenshot')}\n                        >\n                          <Camera className=\"h-4 w-4 mr-2\" />\n                          Capturar Tela\n                        </DropdownMenuItem>\n                        <DropdownMenuItem\n                          onClick={() => setDeleteId(screen.id)}\n                          className=\"text-destructive\"\n                        >\n                          <Trash2 className=\"h-4 w-4 mr-2\" />\n                          Excluir\n                        </DropdownMenuItem>\n                      </DropdownMenuContent>\n                    </DropdownMenu>\n                  </div>\n\n                  <div className=\"flex flex-col gap-2 text-sm text-muted-foreground mt-4 p-3 bg-muted/30 rounded-lg\">\n                    <div className=\"flex items-center justify-between\">\n                      <span className=\"text-xs font-medium uppercase tracking-wider\">Playlist Atual</span>\n                      {screen.playlist ? (\n                        <div className=\"flex items-center gap-1 text-primary\">\n                          <Play className=\"h-3 w-3\" />\n                          <span className=\"font-medium truncate max-w-[120px]\">{screen.playlist.name}</span>\n                        </div>\n                      ) : (\n                        <span className=\"text-xs text-muted-foreground italic\">Nenhuma definida</span>\n                      )}\n                    </div>\n\n                    <div className=\"h-px w-full bg-border/50\" />\n\n                    <div className=\"flex items-center justify-between group/id border-t border-border/30 pt-3 mt-1\">\n                      <span className=\"text-[10px] font-bold uppercase tracking-widest text-muted-foreground/50\">ID DO PLAYER</span>\n                      <ScreenIdBadge\n                        customId={screen.custom_id}\n                        className=\"bg-background border-border/50 text-[10px] h-6 px-2\"\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center justify-between mt-3 text-xs text-muted-foreground\">\n                    <div className=\"flex items-center gap-1\">\n                      {isScreenOnline(screen.last_ping_at) ? (\n                        <Wifi className=\"h-3 w-3 text-green-500\" />\n                      ) : (\n                        <WifiOff className=\"h-3 w-3 text-red-500\" />\n                      )}\n                      <span>\n                        {screen.last_ping_at\n                          ? `Visto ${format(new Date(screen.last_ping_at), \"HH:mm\", { locale: ptBR })}`\n                          : 'Nunca visto'}\n                      </span>\n                    </div>\n                    <span>v{screen.version || '1.0'}</span>\n                  </div>\n                </CardContent>\n              </Card>\n            );\n          })}\n        </div>\n      )}\n\n      {/* Dialogs */}\n      <ScreenDialog\n        open={dialogOpen}\n        onOpenChange={setDialogOpen}\n        screen={selectedScreen}\n        onSaved={fetchScreens}\n      />\n\n      {scheduleScreen && (\n        <ScreenScheduleDialog\n          open={!!scheduleScreen}\n          onOpenChange={(open) => !open && setScheduleScreen(null)}\n          screenId={scheduleScreen.id}\n          screenName={scheduleScreen.name}\n        />\n      )}\n\n      <AlertDialog open={!!deleteId} onOpenChange={(open) => !open && setDeleteId(null)}>\n        <AlertDialogContent>\n          <AlertDialogHeader>\n            <AlertDialogTitle>Excluir tela?</AlertDialogTitle>\n            <AlertDialogDescription>\n              Esta a????o n??o pode ser desfeita.\n            </AlertDialogDescription>\n          </AlertDialogHeader>\n          <AlertDialogFooter>\n            <AlertDialogCancel disabled={deleting}>Cancelar</AlertDialogCancel>\n            <AlertDialogAction\n              onClick={handleDelete}\n              disabled={deleting}\n              className=\"bg-destructive text-destructive-foreground hover:bg-destructive/90\"\n            >\n              {deleting ? 'Excluindo...' : 'Excluir'}\n            </AlertDialogAction>\n          </AlertDialogFooter>\n        </AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Settings.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":81,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":81,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2623,2626],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2623,2626],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { useState, useEffect } from 'react';\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { Switch } from '@/components/ui/switch';\nimport { useAuth } from '@/contexts/AuthContext';\nimport { supabase } from '@/integrations/supabase/client';\nimport { User, Shield, Bell, Loader2, Send } from 'lucide-react';\nimport { toast } from 'sonner';\n\nexport default function Settings() {\n  const { profile, user } = useAuth();\n  const [notificationsEnabled, setNotificationsEnabled] = useState(true);\n  const [offlineThreshold, setOfflineThreshold] = useState(5);\n  const [isSaving, setIsSaving] = useState(false);\n  const [isSendingTest, setIsSendingTest] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    const loadSettings = async () => {\n      if (!user?.id) return;\n      \n      try {\n        const { data, error } = await supabase\n          .from('profiles')\n          .select('offline_notification_enabled, offline_notification_threshold')\n          .eq('user_id', user.id)\n          .single();\n\n        if (error) throw error;\n        \n        if (data) {\n          setNotificationsEnabled(data.offline_notification_enabled);\n          setOfflineThreshold(data.offline_notification_threshold);\n        }\n      } catch (error) {\n        console.error('Error loading settings:', error);\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    loadSettings();\n  }, [user?.id]);\n\n  const handleSaveNotifications = async () => {\n    if (!user?.id) return;\n    \n    setIsSaving(true);\n    try {\n      const { error } = await supabase\n        .from('profiles')\n        .update({\n          offline_notification_enabled: notificationsEnabled,\n          offline_notification_threshold: offlineThreshold,\n        })\n        .eq('user_id', user.id);\n\n      if (error) throw error;\n      \n      toast.success('Configura????es salvas com sucesso!');\n    } catch (error) {\n      console.error('Error saving settings:', error);\n      toast.error('Erro ao salvar configura????es');\n    } finally {\n      setIsSaving(false);\n    }\n  };\n\n  const handleTestEmail = async () => {\n    setIsSendingTest(true);\n    try {\n      const { data, error } = await supabase.functions.invoke('send-status-notification', {\n        body: { type: 'test' },\n      });\n\n      if (error) throw error;\n      \n      toast.success('E-mail de teste enviado! Verifique sua caixa de entrada.');\n    } catch (error: any) {\n      console.error('Error sending test email:', error);\n      toast.error('Erro ao enviar e-mail de teste');\n    } finally {\n      setIsSendingTest(false);\n    }\n  };\n\n  return (\n    <div className=\"space-y-6 animate-fade-in\">\n      {/* Header */}\n      <div>\n        <h1 className=\"text-3xl font-display font-bold\">Configura????es</h1>\n        <p className=\"text-muted-foreground\">Gerencie suas prefer??ncias e dados da conta</p>\n      </div>\n\n      {/* Profile Card */}\n      <Card className=\"glass\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <User className=\"h-5 w-5 text-primary\" />\n            Perfil\n          </CardTitle>\n          <CardDescription>Suas informa????es pessoais</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-4\">\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"full-name\">Nome Completo</Label>\n              <Input id=\"full-name\" value={profile?.full_name || ''} disabled />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"company\">Empresa</Label>\n              <Input id=\"company\" value={profile?.company_name || ''} disabled />\n            </div>\n          </div>\n          <div className=\"space-y-2\">\n            <Label htmlFor=\"email\">E-mail</Label>\n            <Input id=\"email\" type=\"email\" value={profile?.email || ''} disabled />\n          </div>\n          <Button variant=\"outline\" disabled>\n            Editar Perfil (Em breve)\n          </Button>\n        </CardContent>\n      </Card>\n\n      {/* Notification Settings */}\n      <Card className=\"glass\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Bell className=\"h-5 w-5 text-primary\" />\n            Notifica????es de Telas Offline\n          </CardTitle>\n          <CardDescription>Configure alertas quando suas telas ficarem offline</CardDescription>\n        </CardHeader>\n        <CardContent className=\"space-y-6\">\n          {isLoading ? (\n            <div className=\"flex items-center justify-center py-4\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-muted-foreground\" />\n            </div>\n          ) : (\n            <>\n              <div className=\"flex items-center justify-between\">\n                <div className=\"space-y-0.5\">\n                  <Label htmlFor=\"notifications-enabled\">Receber notifica????es por e-mail</Label>\n                  <p className=\"text-sm text-muted-foreground\">\n                    Receba um e-mail quando suas telas ficarem offline\n                  </p>\n                </div>\n                <Switch\n                  id=\"notifications-enabled\"\n                  checked={notificationsEnabled}\n                  onCheckedChange={setNotificationsEnabled}\n                />\n              </div>\n              \n              <div className=\"space-y-2\">\n                <Label htmlFor=\"offline-threshold\">Tempo limite para notifica????o (minutos)</Label>\n                <p className=\"text-sm text-muted-foreground\">\n                  Voc?? ser?? notificado quando uma tela ficar offline por mais tempo que este limite\n                </p>\n                <div className=\"flex items-center gap-4\">\n                  <Input\n                    id=\"offline-threshold\"\n                    type=\"number\"\n                    min={1}\n                    max={60}\n                    value={offlineThreshold}\n                    onChange={(e) => setOfflineThreshold(Math.max(1, Math.min(60, parseInt(e.target.value) || 5)))}\n                    className=\"w-24\"\n                    disabled={!notificationsEnabled}\n                  />\n                  <span className=\"text-sm text-muted-foreground\">minutos</span>\n                </div>\n              </div>\n\n              <div className=\"flex flex-wrap gap-3\">\n                <Button onClick={handleSaveNotifications} disabled={isSaving}>\n                  {isSaving ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Salvando...\n                    </>\n                  ) : (\n                    'Salvar Configura????es'\n                  )}\n                </Button>\n                \n                <Button \n                  variant=\"outline\" \n                  onClick={handleTestEmail} \n                  disabled={isSendingTest || !notificationsEnabled}\n                >\n                  {isSendingTest ? (\n                    <>\n                      <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                      Enviando...\n                    </>\n                  ) : (\n                    <>\n                      <Send className=\"mr-2 h-4 w-4\" />\n                      Testar Notifica????o\n                    </>\n                  )}\n                </Button>\n              </div>\n            </>\n          )}\n        </CardContent>\n      </Card>\n\n      {/* Account Status */}\n      <Card className=\"glass\">\n        <CardHeader>\n          <CardTitle className=\"flex items-center gap-2\">\n            <Shield className=\"h-5 w-5 text-success\" />\n            Status da Conta\n          </CardTitle>\n        </CardHeader>\n        <CardContent>\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-3 h-3 rounded-full bg-success animate-pulse\" />\n            <span className=\"font-medium\">Conta Aprovada</span>\n          </div>\n          <p className=\"text-sm text-muted-foreground mt-2\">\n            Sua conta foi aprovada e voc?? tem acesso completo ?? plataforma.\n          </p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\pages\\dashboard\\Widgets.tsx","messages":[],"suppressedMessages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":28,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":28,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1416,1419],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1416,1419],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":56,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":56,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2134,2137],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2134,2137],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":61,"column":79,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":61,"endColumn":82,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2408,2411],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2408,2411],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}],"suppressions":[{"kind":"directive","justification":""}]}],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\services\\MediaCacheService.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\services\\NetworkInterceptor.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\supabaseConfig.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\sw.js","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\types\\models.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":118,"column":15,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":118,"endColumn":18,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2862,2865],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2862,2865],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"export type Playlist = {\r\n    id: string;\r\n    name: string;\r\n    description: string | null;\r\n    is_active: boolean;\r\n    created_at: string;\r\n    updated_at?: string;\r\n    company_id?: string;\r\n    cover_url?: string | null;\r\n    // Computed properties\r\n    item_count?: number;\r\n    total_duration?: number;\r\n};\r\n\r\nexport type MediaType = 'image' | 'video' | 'website' | 'youtube' | 'audio';\r\n\r\nexport type Media = {\r\n    id: string;\r\n    name: string;\r\n    file_path: string;\r\n    file_url: string;\r\n    file_type: MediaType;\r\n    thumbnail_url?: string | null;\r\n    duration?: number;\r\n    created_at: string;\r\n    file_size?: number;\r\n    mime_type?: string;\r\n    aspect_ratio?: string;\r\n};\r\n\r\nexport interface ExternalLink {\r\n    id: string;\r\n    title: string;\r\n    url: string;\r\n    platform: string;\r\n    thumbnail_url: string | null;\r\n    is_active?: boolean;\r\n}\r\n\r\nexport type WidgetType = 'clock' | 'weather' | 'rss';\r\n\r\nexport interface WidgetConfig {\r\n    // Common\r\n    backgroundImage?: string | null;\r\n    backgroundImageLandscape?: string | null;\r\n    backgroundImagePortrait?: string | null;\r\n    position?: string;\r\n\r\n    // Clock\r\n    showDate?: boolean;\r\n    showSeconds?: boolean;\r\n\r\n    // Weather\r\n    latitude?: number;\r\n    longitude?: number;\r\n\r\n    // RSS\r\n    feedUrl?: string;\r\n    maxItems?: number;\r\n    scrollSpeed?: number;\r\n    variant?: 'full' | 'compact';\r\n}\r\n\r\nexport type Widget = {\r\n    id: string;\r\n    name: string;\r\n    widget_type: WidgetType;\r\n    config: WidgetConfig;\r\n    is_active: boolean;\r\n    created_at?: string;\r\n    user_id?: string;\r\n};\r\n\r\nexport type PlaylistItem = {\r\n    id: string;\r\n    playlist_id: string;\r\n    media_id: string | null;\r\n    widget_id: string | null;\r\n    external_link_id: string | null;\r\n    position: number;\r\n    duration: number;\r\n    created_at: string;\r\n    media?: Media | null;\r\n    widget?: Widget | null;\r\n    external_link?: ExternalLink | null;\r\n    start_time?: string | null;\r\n    end_time?: string | null;\r\n    days?: number[] | null;\r\n};\r\n\r\nexport type ScreenStatus = 'online' | 'offline' | 'playing' | 'error';\r\nexport type ScreenOrientation = 'landscape' | 'portrait';\r\n\r\nexport type Screen = {\r\n    id: string;\r\n    name: string;\r\n    description?: string | null;\r\n    location?: string | null;\r\n    orientation: ScreenOrientation;\r\n    playlist_id?: string | null;\r\n    last_ping_at?: string | null;\r\n    ip_address?: string | null;\r\n    version?: string | null;\r\n    is_active: boolean;\r\n    created_at: string;\r\n    status?: ScreenStatus; // Computed\r\n    playlist?: Playlist | null; // Joined playlist\r\n    custom_id?: string | null;\r\n    resolution?: string;\r\n};\r\n\r\nexport type RemoteCommandType = 'reload' | 'reboot' | 'screenshot';\r\n\r\nexport type RemoteCommand = {\r\n    id: string;\r\n    screen_id: string;\r\n    command: RemoteCommandType;\r\n    payload?: any;\r\n    status: 'pending' | 'executed' | 'failed';\r\n    created_at: string;\r\n    executed_at?: string | null;\r\n};\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\types\\native-bridge.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\types\\remote-commands.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\utils\\imageCompression.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\src\\vite-env.d.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\supabase\\functions\\check-offline-screens\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":230,"column":28,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":230,"endColumn":31,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7941,7944],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7941,7944],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":251,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":251,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8599,8602],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8599,8602],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { serve } from \"https://deno.land/std@0.190.0/http/server.ts\";\nimport { createClient } from \"https://esm.sh/@supabase/supabase-js@2.49.1\";\n\nconst RESEND_API_KEY = Deno.env.get(\"RESEND_API_KEY\");\n\nconst corsHeaders = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Headers\": \"authorization, x-client-info, apikey, content-type\",\n};\n\ninterface OfflineScreen {\n  id: string;\n  name: string;\n  location: string | null;\n  last_ping_at: string | null;\n  user_id: string;\n  user_email: string;\n  minutes_offline: number;\n}\n\ninterface UserSettings {\n  email: string;\n  name: string;\n  notifications_enabled: boolean;\n  threshold_minutes: number;\n}\n\nserve(async (req: Request): Promise<Response> => {\n  // Handle CORS preflight\n  if (req.method === \"OPTIONS\") {\n    return new Response(null, { headers: corsHeaders });\n  }\n\n  try {\n    console.log(\"Starting offline screen check...\");\n\n    // Create Supabase client with service role\n    const supabaseUrl = Deno.env.get(\"SUPABASE_URL\")!;\n    const supabaseServiceKey = Deno.env.get(\"SUPABASE_SERVICE_ROLE_KEY\")!;\n    const supabase = createClient(supabaseUrl, supabaseServiceKey);\n\n    // Get all active screens with their last ping time\n    const { data: allScreens, error: screensError } = await supabase\n      .from(\"screens\")\n      .select(`\n        id,\n        name,\n        location,\n        last_ping_at,\n        user_id\n      `)\n      .eq(\"is_active\", true)\n      .not(\"last_ping_at\", \"is\", null);\n\n    if (screensError) {\n      console.error(\"Error fetching screens:\", screensError);\n      throw screensError;\n    }\n\n    console.log(`Found ${allScreens?.length || 0} active screens with ping data`);\n\n    if (!allScreens || allScreens.length === 0) {\n      return new Response(\n        JSON.stringify({ message: \"No screens with ping data found\", notified: 0 }),\n        { status: 200, headers: { ...corsHeaders, \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    // Get unique user IDs\n    const userIds = [...new Set(allScreens.map(s => s.user_id))];\n\n    // Fetch user profiles with notification settings\n    const { data: profiles, error: profilesError } = await supabase\n      .from(\"profiles\")\n      .select(\"user_id, email, full_name, offline_notification_enabled, offline_notification_threshold\")\n      .in(\"user_id\", userIds);\n\n    if (profilesError) {\n      console.error(\"Error fetching profiles:\", profilesError);\n      throw profilesError;\n    }\n\n    // Create a map of user_id to settings\n    const userSettingsMap = new Map<string, UserSettings>(\n      profiles?.map(p => [\n        p.user_id, \n        { \n          email: p.email, \n          name: p.full_name,\n          notifications_enabled: p.offline_notification_enabled ?? true,\n          threshold_minutes: p.offline_notification_threshold ?? 5\n        }\n      ]) || []\n    );\n\n    // Group screens by user and filter by their individual threshold\n    const screensByUser = new Map<string, OfflineScreen[]>();\n    \n    for (const screen of allScreens) {\n      const userSettings = userSettingsMap.get(screen.user_id);\n      if (!userSettings?.email || !userSettings.notifications_enabled) {\n        console.log(`Skipping user ${screen.user_id}: notifications disabled or no email`);\n        continue;\n      }\n\n      // Calculate if screen is offline based on user's threshold\n      const thresholdMs = userSettings.threshold_minutes * 60 * 1000;\n      const lastPingTime = new Date(screen.last_ping_at!).getTime();\n      const timeSinceLastPing = Date.now() - lastPingTime;\n      \n      if (timeSinceLastPing < thresholdMs) {\n        // Screen is still within threshold, skip\n        continue;\n      }\n\n      const minutesOffline = Math.round(timeSinceLastPing / 60000);\n\n      const offlineScreen: OfflineScreen = {\n        ...screen,\n        user_email: userSettings.email,\n        minutes_offline: minutesOffline,\n      };\n\n      if (!screensByUser.has(screen.user_id)) {\n        screensByUser.set(screen.user_id, []);\n      }\n      screensByUser.get(screen.user_id)!.push(offlineScreen);\n    }\n\n    console.log(`Found ${screensByUser.size} users with offline screens`);\n\n    let notifiedCount = 0;\n    const errors: string[] = [];\n\n    // Send notification email to each user\n    for (const [userId, screens] of screensByUser) {\n      const userSettings = userSettingsMap.get(userId);\n      if (!userSettings?.email) continue;\n\n      const screenList = screens\n        .map(s => `\n          <tr>\n            <td style=\"padding: 8px; border-bottom: 1px solid #eee;\">${s.name}</td>\n            <td style=\"padding: 8px; border-bottom: 1px solid #eee;\">${s.location || \"N??o definida\"}</td>\n            <td style=\"padding: 8px; border-bottom: 1px solid #eee;\">${s.minutes_offline} minutos</td>\n          </tr>\n        `)\n        .join(\"\");\n\n      const html = `\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <style>\n            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n            .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n            .header { background: linear-gradient(135deg, #6366f1, #8b5cf6); color: white; padding: 20px; border-radius: 8px 8px 0 0; }\n            .content { background: #f9fafb; padding: 20px; border-radius: 0 0 8px 8px; }\n            table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; }\n            th { background: #f3f4f6; padding: 12px 8px; text-align: left; }\n            .alert { background: #fef2f2; border-left: 4px solid #ef4444; padding: 12px; margin: 16px 0; }\n            .footer { text-align: center; color: #6b7280; font-size: 12px; margin-top: 20px; }\n          </style>\n        </head>\n        <body>\n          <div class=\"container\">\n            <div class=\"header\">\n              <h1 style=\"margin: 0;\">?????? Alerta de Telas Offline</h1>\n            </div>\n            <div class=\"content\">\n              <p>Ol??${userSettings.name ? ` ${userSettings.name}` : \"\"},</p>\n              \n              <div class=\"alert\">\n                <strong>${screens.length} tela(s)</strong> est??(??o) offline h?? mais de ${userSettings.threshold_minutes} minutos.\n              </div>\n              \n              <table>\n                <thead>\n                  <tr>\n                    <th>Tela</th>\n                    <th>Localiza????o</th>\n                    <th>Tempo Offline</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  ${screenList}\n                </tbody>\n              </table>\n              \n              <p style=\"margin-top: 20px;\">\n                Por favor, verifique a conex??o e o status das telas afetadas.\n              </p>\n              \n              <p style=\"font-size: 12px; color: #6b7280;\">\n                Voc?? pode alterar suas prefer??ncias de notifica????o em Configura????es.\n              </p>\n              \n              <div class=\"footer\">\n                <p>Esta ?? uma notifica????o autom??tica do sistema SOBRE M??DIA.</p>\n              </div>\n            </div>\n          </div>\n        </body>\n        </html>\n      `;\n\n      try {\n        const emailResponse = await fetch(\"https://api.resend.com/emails\", {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n            Authorization: `Bearer ${RESEND_API_KEY}`,\n          },\n          body: JSON.stringify({\n            from: \"SOBRE M??DIA <onboarding@resend.dev>\",\n            to: [userSettings.email],\n            subject: `?????? Alerta: ${screens.length} tela(s) offline`,\n            html,\n          }),\n        });\n\n        if (!emailResponse.ok) {\n          const errorText = await emailResponse.text();\n          throw new Error(`Resend API error: ${errorText}`);\n        }\n\n        const emailResult = await emailResponse.json();\n        console.log(`Email sent to ${userSettings.email}:`, emailResult);\n        notifiedCount++;\n      } catch (emailError: any) {\n        console.error(`Error sending email to ${userSettings.email}:`, emailError);\n        errors.push(`Failed to send to ${userSettings.email}: ${emailError.message}`);\n      }\n    }\n\n    console.log(`Notification complete. Sent: ${notifiedCount}, Errors: ${errors.length}`);\n\n    return new Response(\n      JSON.stringify({ \n        message: \"Offline check complete\",\n        screensChecked: allScreens.length,\n        notified: notifiedCount,\n        errors: errors.length > 0 ? errors : undefined,\n      }),\n      { \n        status: 200, \n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" } \n      }\n    );\n\n  } catch (error: any) {\n    console.error(\"Error in check-offline-screens:\", error);\n    return new Response(\n      JSON.stringify({ error: error.message }),\n      { \n        status: 500, \n        headers: { ...corsHeaders, \"Content-Type\": \"application/json\" } \n      }\n    );\n  }\n});\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\supabase\\functions\\fetch-rss\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\supabase\\functions\\handle-approval\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":115,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":115,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4594,4597],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4594,4597],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { serve } from \"https://deno.land/std@0.190.0/http/server.ts\";\r\nimport { createClient } from \"https://esm.sh/@supabase/supabase-js@2.39.0\";\r\nimport { verify } from \"https://deno.land/x/djwt@v2.9.1/mod.ts\";\r\n\r\n// Env vars\r\nconst JWT_SECRET = Deno.env.get(\"JWT_SECRET\") || \"super-secret-jwt-key-change-this\";\r\nconst SUPABASE_URL = Deno.env.get(\"SUPABASE_URL\")!;\r\nconst SUPABASE_SERVICE_ROLE_KEY = Deno.env.get(\"SUPABASE_SERVICE_ROLE_KEY\")!;\r\nconst RESEND_API_KEY = Deno.env.get(\"RESEND_API_KEY\");\r\n\r\nconst supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);\r\n\r\nconst htmlResponse = (title: string, message: string, color: string = \"#3b82f6\") => `\r\n<!DOCTYPE html>\r\n<html>\r\n<head>\r\n  <meta charset=\"utf-8\">\r\n  <title>${title}</title>\r\n  <style>\r\n    body { font-family: 'Segoe UI', system-ui, sans-serif; background: #0a0a0a; color: #fff; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; }\r\n    .card { background: #1a1a1a; padding: 40px; border-radius: 16px; text-align: center; max-width: 400px; border: 1px solid #333; box-shadow: 0 4px 20px rgba(0,0,0,0.5); }\r\n    h1 { color: ${color}; margin-bottom: 16px; }\r\n    p { color: #aaa; line-height: 1.5; }\r\n    .icon { font-size: 48px; margin-bottom: 20px; display: block; }\r\n  </style>\r\n</head>\r\n<body>\r\n  <div class=\"card\">\r\n    <span class=\"icon\">${color === \"#22c55e\" ? \"???\" : (color === \"#ef4444\" ? \"???\" : \"??????\")}</span>\r\n    <h1>${title}</h1>\r\n    <p>${message}</p>\r\n  </div>\r\n</body>\r\n</html>\r\n`;\r\n\r\nconst handler = async (req: Request): Promise<Response> => {\r\n    const url = new URL(req.url);\r\n    const token = url.searchParams.get(\"token\");\r\n    const action = url.searchParams.get(\"action\");\r\n\r\n    if (!token || !action || !['approve', 'reject'].includes(action)) {\r\n        return new Response(htmlResponse(\"Erro\", \"Link inv??lido ou malformado.\", \"#ef4444\"), {\r\n            status: 400,\r\n            headers: { \"Content-Type\": \"text/html\" }\r\n        });\r\n    }\r\n\r\n    try {\r\n        // 1. Verify Token\r\n        const key = await crypto.subtle.importKey(\r\n            \"raw\",\r\n            new TextEncoder().encode(JWT_SECRET),\r\n            { name: \"HMAC\", hash: \"SHA-256\" },\r\n            false,\r\n            [\"verify\"]\r\n        );\r\n\r\n        const payload = await verify(token, key);\r\n        const userId = payload.sub;\r\n        const tokenAction = payload.action;\r\n\r\n        if (!userId || tokenAction !== action) {\r\n            throw new Error(\"Token mismatch or invalid payload\");\r\n        }\r\n\r\n        // 2. Perform DB Update\r\n        const newStatus = action === 'approve' ? 'approved' : 'rejected';\r\n\r\n        const { error: updateError } = await supabase\r\n            .from('profiles')\r\n            .update({ status: newStatus })\r\n            .eq('user_id', userId);\r\n\r\n        if (updateError) throw updateError;\r\n\r\n        // 3. (Optional) Notify User via Email on Approval\r\n        if (action === 'approve') {\r\n            // Get user email\r\n            const { data: profile } = await supabase.from('profiles').select('email, full_name').eq('user_id', userId).single();\r\n\r\n            if (profile?.email && RESEND_API_KEY) {\r\n                await fetch(\"https://api.resend.com/emails\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": \"application/json\",\r\n                        Authorization: `Bearer ${RESEND_API_KEY}`,\r\n                    },\r\n                    body: JSON.stringify({\r\n                        from: \"SOBRE M??DIA <onboarding@resend.dev>\",\r\n                        to: [profile.email],\r\n                        subject: \"???? Seu acesso foi APROVADO! - SOBRE M??DIA\",\r\n                        html: `\r\n                <h1>Bem-vindo a bordo!</h1>\r\n                <p>Ol?? ${profile.full_name}, sua conta foi aprovada.</p>\r\n                <p>Voc?? j?? pode acessar a plataforma: <a href=\"https://sobremidiadesigner.com.br\">Acessar Sistema</a></p>\r\n              `\r\n                    }),\r\n                });\r\n            }\r\n        }\r\n\r\n        // 4. Return HTML Success\r\n        const title = action === 'approve' ? \"Usu??rio Aprovado\" : \"Usu??rio Rejeitado\";\r\n        const msg = action === 'approve'\r\n            ? \"O usu??rio foi aprovado com sucesso e j?? pode acessar a plataforma.\"\r\n            : \"O acesso do usu??rio foi negado.\";\r\n        const color = action === 'approve' ? \"#22c55e\" : \"#ef4444\";\r\n\r\n        return new Response(htmlResponse(title, msg, color), {\r\n            status: 200,\r\n            headers: { \"Content-Type\": \"text/html\" }\r\n        });\r\n\r\n    } catch (error: any) {\r\n        console.error(\"Approval error:\", error);\r\n        return new Response(htmlResponse(\"Erro de Processamento\", \"Token inv??lido ou expirado.\", \"#ef4444\"), {\r\n            status: 403,\r\n            headers: { \"Content-Type\": \"text/html\" }\r\n        });\r\n    }\r\n};\r\n\r\nserve(handler);\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\supabase\\functions\\send-approval-notification\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":215,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":215,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9075,9078],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9075,9078],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { serve } from \"https://deno.land/std@0.190.0/http/server.ts\";\nimport { create, getNumericDate } from \"https://deno.land/x/djwt@v2.9.1/mod.ts\";\n\nconst RESEND_API_KEY = Deno.env.get(\"RESEND_API_KEY\");\nconst JWT_SECRET = Deno.env.get(\"JWT_SECRET\") || \"super-secret-jwt-key-change-this\"; // Fallback for dev\nconst SUPABASE_URL = Deno.env.get(\"SUPABASE_URL\") || \"http://localhost:54321\"; // Adjust based on env\n// In production, this should point to your deployed function URL\nconst FUNCTION_BASE_URL = `${SUPABASE_URL}/functions/v1`;\n\nconst ADMIN_EMAIL = \"sobremidiadesigner@gmail.com\";\n\nconst corsHeaders = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Headers\": \"authorization, x-client-info, apikey, content-type\",\n};\n\ninterface NewUserNotification {\n  user_id: string;\n  full_name: string;\n  email: string;\n  company_name: string;\n}\n\nasync function createToken(userId: string, action: 'approve' | 'reject') {\n  const key = await crypto.subtle.importKey(\n    \"raw\",\n    new TextEncoder().encode(JWT_SECRET),\n    { name: \"HMAC\", hash: \"SHA-256\" },\n    false,\n    [\"sign\"]\n  );\n\n  const jwt = await create(\n    { alg: \"HS256\", typ: \"JWT\" },\n    {\n      sub: userId,\n      action,\n      exp: getNumericDate(60 * 60 * 24 * 7) // 7 days expiration\n    },\n    key\n  );\n\n  return jwt;\n}\n\nconst handler = async (req: Request): Promise<Response> => {\n  console.log(\"send-approval-notification function called\");\n\n  if (req.method === \"OPTIONS\") {\n    return new Response(null, { headers: corsHeaders });\n  }\n\n  try {\n    const { user_id, full_name, email, company_name }: NewUserNotification = await req.json();\n\n    console.log(`Processing notification for user: ${email} (${user_id})`);\n\n    // Generate tokens\n    const approveToken = await createToken(user_id, 'approve');\n    const rejectToken = await createToken(user_id, 'reject');\n\n    // Construct links\n    // Note: In local dev it might differ, but typically functions are at /functions/v1/name\n    const approveLink = `${FUNCTION_BASE_URL}/handle-approval?token=${approveToken}&action=approve`;\n    const rejectLink = `${FUNCTION_BASE_URL}/handle-approval?token=${rejectToken}&action=reject`;\n\n    console.log(\"Links generated (preview):\", { approveLink, rejectLink });\n\n    // Send notification to admin\n    const adminEmailResponse = await fetch(\"https://api.resend.com/emails\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${RESEND_API_KEY}`,\n      },\n      body: JSON.stringify({\n        from: \"SOBRE M??DIA <onboarding@resend.dev>\",\n        to: [ADMIN_EMAIL],\n        subject: `???? Nova solicita????o de acesso - ${full_name}`,\n        html: `\n          <!DOCTYPE html>\n          <html>\n          <head>\n            <meta charset=\"utf-8\">\n            <style>\n              body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 40px; }\n              .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 16px; padding: 40px; border: 1px solid #333; }\n              .header { text-align: center; margin-bottom: 30px; }\n              .logo { font-size: 28px; font-weight: bold; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }\n              .content { background: #262626; border-radius: 12px; padding: 24px; margin: 20px 0; }\n              .field { margin-bottom: 16px; }\n              .field-label { color: #888; font-size: 12px; text-transform: uppercase; letter-spacing: 1px; }\n              .field-value { color: #fff; font-size: 16px; margin-top: 4px; }\n              .actions { display: flex; gap: 16px; margin-top: 30px; justify-content: center; }\n              .btn { padding: 12px 24px; border-radius: 8px; font-weight: bold; text-decoration: none; display: inline-block; transition: opacity 0.2s; }\n              .btn:hover { opacity: 0.9; }\n              .btn-approve { background-color: #22c55e; color: #fff; }\n              .btn-reject { background-color: #ef4444; color: #fff; }\n              .footer { text-align: center; margin-top: 40px; color: #666; font-size: 12px; }\n            </style>\n          </head>\n          <body>\n            <div class=\"container\">\n              <div class=\"header\">\n                <div class=\"logo\">SOBRE M??DIA</div>\n                <p style=\"color: #888; margin-top: 8px;\">Nova Solicita????o de Acesso</p>\n              </div>\n              \n              <div class=\"content\">\n                <div class=\"field\">\n                  <div class=\"field-label\">Nome Completo</div>\n                  <div class=\"field-value\">${full_name}</div>\n                </div>\n                <div class=\"field\">\n                  <div class=\"field-label\">E-mail</div>\n                  <div class=\"field-value\">${email}</div>\n                </div>\n                <div class=\"field\">\n                  <div class=\"field-label\">Empresa</div>\n                  <div class=\"field-value\">${company_name}</div>\n                </div>\n                <div class=\"field\">\n                  <div class=\"field-label\">Status</div>\n                  <div class=\"field-value\" style=\"color: #fbbf24;\">??? Aguardando Aprova????o</div>\n                </div>\n\n                <div class=\"actions\">\n                  <a href=\"${approveLink}\" class=\"btn btn-approve\">ACEITAR</a>\n                  <a href=\"${rejectLink}\" class=\"btn btn-reject\">RECUSAR</a>\n                </div>\n                <p style=\"text-align: center; color: #666; font-size: 11px; margin-top: 10px;\">Links v??lidos por 7 dias.</p>\n              </div>\n              \n              <div class=\"footer\">\n                <p>Este ?? um e-mail autom??tico do sistema SOBRE M??DIA.</p>\n                <p>User ID: ${user_id}</p>\n              </div>\n            </div>\n          </body>\n          </html>\n        `,\n      }),\n    });\n\n    const adminResult = await adminEmailResponse.json();\n    console.log(\"Admin notification email sent:\", adminResult);\n\n    // Send confirmation email to user\n    const userEmailResponse = await fetch(\"https://api.resend.com/emails\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${RESEND_API_KEY}`,\n      },\n      body: JSON.stringify({\n        from: \"SOBRE M??DIA <onboarding@resend.dev>\",\n        to: [email],\n        subject: \"???? Sua solicita????o foi recebida - SOBRE M??DIA\",\n        html: `\n          <!DOCTYPE html>\n          <html>\n          <head>\n            <meta charset=\"utf-8\">\n            <style>\n              body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 40px; }\n              .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 16px; padding: 40px; border: 1px solid #333; }\n              .header { text-align: center; margin-bottom: 30px; }\n              .logo { font-size: 28px; font-weight: bold; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }\n              .content { background: #262626; border-radius: 12px; padding: 24px; margin: 20px 0; text-align: center; }\n              .icon { font-size: 48px; margin-bottom: 16px; }\n              h2 { color: #fff; margin-bottom: 16px; }\n              p { color: #aaa; line-height: 1.6; }\n              .footer { text-align: center; margin-top: 40px; color: #666; font-size: 12px; }\n            </style>\n          </head>\n          <body>\n            <div class=\"container\">\n              <div class=\"header\">\n                <div class=\"logo\">SOBRE M??DIA</div>\n              </div>\n              \n              <div class=\"content\">\n                <div class=\"icon\">???</div>\n                <h2>Ol??, ${full_name}!</h2>\n                <p>Sua solicita????o de acesso ao sistema SOBRE M??DIA foi recebida com sucesso.</p>\n                <p style=\"margin-top: 16px;\">Nossa equipe ir?? analisar seu cadastro e voc?? receber?? um e-mail assim que sua conta for aprovada.</p>\n                <p style=\"margin-top: 24px; color: #888;\">Prazo m??dio de aprova????o: <strong style=\"color: #3b82f6;\">24-48 horas ??teis</strong></p>\n              </div>\n              \n              <div class=\"footer\">\n                <p>Obrigado por escolher a SOBRE M??DIA!</p>\n                <p>Este ?? um e-mail autom??tico, por favor n??o responda.</p>\n              </div>\n            </div>\n          </body>\n          </html>\n        `,\n      }),\n    });\n\n    const userResult = await userEmailResponse.json();\n    console.log(\"User confirmation email sent:\", userResult);\n\n    return new Response(\n      JSON.stringify({\n        success: true,\n        adminEmail: adminResult,\n        userEmail: userResult\n      }),\n      {\n        status: 200,\n        headers: { \"Content-Type\": \"application/json\", ...corsHeaders },\n      }\n    );\n  } catch (error: any) {\n    console.error(\"Error in send-approval-notification function:\", error);\n    return new Response(\n      JSON.stringify({ error: error.message }),\n      {\n        status: 500,\n        headers: { \"Content-Type\": \"application/json\", ...corsHeaders },\n      }\n    );\n  }\n};\n\nserve(handler);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\supabase\\functions\\send-status-notification\\index.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":245,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":245,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[9689,9692],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[9689,9692],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { serve } from \"https://deno.land/std@0.190.0/http/server.ts\";\nimport { createClient } from \"https://esm.sh/@supabase/supabase-js@2.49.1\";\n\nconst RESEND_API_KEY = Deno.env.get(\"RESEND_API_KEY\");\n\nconst corsHeaders = {\n  \"Access-Control-Allow-Origin\": \"*\",\n  \"Access-Control-Allow-Headers\": \"authorization, x-client-info, apikey, content-type\",\n};\n\ninterface StatusNotification {\n  full_name: string;\n  email: string;\n  status: 'approved' | 'rejected';\n  company_name: string;\n}\n\ninterface TestNotification {\n  type: 'test';\n}\n\nconst handler = async (req: Request): Promise<Response> => {\n  console.log(\"send-status-notification function called\");\n\n  if (req.method === \"OPTIONS\") {\n    return new Response(null, { headers: corsHeaders });\n  }\n\n  try {\n    const body = await req.json();\n\n    // Handle test notification\n    if (body.type === 'test') {\n      const supabaseUrl = Deno.env.get(\"SUPABASE_URL\")!;\n      const supabaseServiceKey = Deno.env.get(\"SUPABASE_SERVICE_ROLE_KEY\")!;\n      const supabase = createClient(supabaseUrl, supabaseServiceKey);\n\n      // Get authorization header\n      const authHeader = req.headers.get(\"Authorization\");\n      if (!authHeader) {\n        throw new Error(\"No authorization header\");\n      }\n\n      // Verify user\n      const token = authHeader.replace(\"Bearer \", \"\");\n      const { data: { user }, error: authError } = await supabase.auth.getUser(token);\n      \n      if (authError || !user) {\n        throw new Error(\"Unauthorized\");\n      }\n\n      // Get user profile\n      const { data: profile, error: profileError } = await supabase\n        .from(\"profiles\")\n        .select(\"email, full_name, offline_notification_threshold\")\n        .eq(\"user_id\", user.id)\n        .single();\n\n      if (profileError || !profile) {\n        throw new Error(\"Profile not found\");\n      }\n\n      const testHtml = `\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <style>\n            body { font-family: Arial, sans-serif; line-height: 1.6; color: #333; }\n            .container { max-width: 600px; margin: 0 auto; padding: 20px; }\n            .header { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 20px; border-radius: 8px 8px 0 0; }\n            .content { background: #f9fafb; padding: 20px; border-radius: 0 0 8px 8px; }\n            .success { background: #ecfdf5; border-left: 4px solid #10b981; padding: 12px; margin: 16px 0; }\n            .footer { text-align: center; color: #6b7280; font-size: 12px; margin-top: 20px; }\n          </style>\n        </head>\n        <body>\n          <div class=\"container\">\n            <div class=\"header\">\n              <h1 style=\"margin: 0;\">??? Teste de Notifica????o</h1>\n            </div>\n            <div class=\"content\">\n              <p>Ol??${profile.full_name ? ` ${profile.full_name}` : \"\"},</p>\n              \n              <div class=\"success\">\n                <strong>Sucesso!</strong> Suas notifica????es por e-mail est??o funcionando corretamente.\n              </div>\n              \n              <p>Este ?? um e-mail de teste para confirmar que voc?? receber?? alertas quando suas telas ficarem offline por mais de <strong>${profile.offline_notification_threshold || 5} minutos</strong>.</p>\n              \n              <p>Voc?? pode alterar suas prefer??ncias de notifica????o a qualquer momento em Configura????es.</p>\n              \n              <div class=\"footer\">\n                <p>Esta ?? uma notifica????o de teste do sistema SOBRE M??DIA.</p>\n              </div>\n            </div>\n          </div>\n        </body>\n        </html>\n      `;\n\n      const emailResponse = await fetch(\"https://api.resend.com/emails\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${RESEND_API_KEY}`,\n        },\n        body: JSON.stringify({\n          from: \"SOBRE M??DIA <onboarding@resend.dev>\",\n          to: [profile.email],\n          subject: \"??? Teste de Notifica????o - SOBRE M??DIA\",\n          html: testHtml,\n        }),\n      });\n\n      if (!emailResponse.ok) {\n        const errorText = await emailResponse.text();\n        throw new Error(`Resend API error: ${errorText}`);\n      }\n\n      const result = await emailResponse.json();\n      console.log(`Test email sent to ${profile.email}:`, result);\n\n      return new Response(\n        JSON.stringify({ success: true, message: \"Email enviado com sucesso\" }),\n        { status: 200, headers: { ...corsHeaders, \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    // Handle status notification (approved/rejected)\n    const { full_name, email, status, company_name }: StatusNotification = body;\n\n    console.log(`Sending ${status} notification to: ${email}`);\n\n    const isApproved = status === 'approved';\n    \n    const subject = isApproved \n      ? `??? Sua conta foi aprovada - SOBRE M??DIA`\n      : `??? Solicita????o de acesso - SOBRE M??DIA`;\n\n    const htmlContent = isApproved ? `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 40px; }\n          .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 16px; padding: 40px; border: 1px solid #333; }\n          .header { text-align: center; margin-bottom: 30px; }\n          .logo { font-size: 28px; font-weight: bold; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }\n          .content { background: #262626; border-radius: 12px; padding: 24px; margin: 20px 0; text-align: center; }\n          .icon { font-size: 64px; margin-bottom: 16px; }\n          h2 { color: #fff; margin-bottom: 16px; }\n          p { color: #aaa; line-height: 1.6; margin: 12px 0; }\n          .cta { text-align: center; margin-top: 24px; }\n          .button { display: inline-block; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); color: white; padding: 14px 32px; border-radius: 8px; text-decoration: none; font-weight: 600; }\n          .footer { text-align: center; margin-top: 40px; color: #666; font-size: 12px; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <div class=\"logo\">SOBRE M??DIA</div>\n          </div>\n          \n          <div class=\"content\">\n            <div class=\"icon\">????</div>\n            <h2>Parab??ns, ${full_name}!</h2>\n            <p>Sua conta na plataforma SOBRE M??DIA foi <strong style=\"color: #22c55e;\">aprovada</strong>!</p>\n            <p>Agora voc?? tem acesso completo ao sistema de Digital Signage.</p>\n            <p style=\"color: #888; margin-top: 20px;\">Empresa: <strong style=\"color: #fff;\">${company_name}</strong></p>\n          </div>\n          \n          <div class=\"cta\">\n            <p style=\"color: #888; margin-bottom: 16px;\">Acesse agora e comece a criar suas campanhas:</p>\n          </div>\n          \n          <div class=\"footer\">\n            <p>Obrigado por escolher a SOBRE M??DIA!</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    ` : `\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <meta charset=\"utf-8\">\n        <style>\n          body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #0a0a0a; color: #ffffff; padding: 40px; }\n          .container { max-width: 600px; margin: 0 auto; background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%); border-radius: 16px; padding: 40px; border: 1px solid #333; }\n          .header { text-align: center; margin-bottom: 30px; }\n          .logo { font-size: 28px; font-weight: bold; background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }\n          .content { background: #262626; border-radius: 12px; padding: 24px; margin: 20px 0; text-align: center; }\n          .icon { font-size: 64px; margin-bottom: 16px; }\n          h2 { color: #fff; margin-bottom: 16px; }\n          p { color: #aaa; line-height: 1.6; margin: 12px 0; }\n          .footer { text-align: center; margin-top: 40px; color: #666; font-size: 12px; }\n        </style>\n      </head>\n      <body>\n        <div class=\"container\">\n          <div class=\"header\">\n            <div class=\"logo\">SOBRE M??DIA</div>\n          </div>\n          \n          <div class=\"content\">\n            <div class=\"icon\">????</div>\n            <h2>Ol??, ${full_name}</h2>\n            <p>Infelizmente sua solicita????o de acesso ?? plataforma SOBRE M??DIA foi <strong style=\"color: #ef4444;\">recusada</strong>.</p>\n            <p>Se voc?? acredita que isso foi um engano ou deseja mais informa????es, entre em contato com nossa equipe de suporte.</p>\n          </div>\n          \n          <div class=\"footer\">\n            <p>Atenciosamente,<br>Equipe SOBRE M??DIA</p>\n          </div>\n        </div>\n      </body>\n      </html>\n    `;\n\n    const emailResponse = await fetch(\"https://api.resend.com/emails\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${RESEND_API_KEY}`,\n      },\n      body: JSON.stringify({\n        from: \"SOBRE M??DIA <onboarding@resend.dev>\",\n        to: [email],\n        subject,\n        html: htmlContent,\n      }),\n    });\n\n    const result = await emailResponse.json();\n    console.log(\"Status notification email sent:\", result);\n\n    return new Response(\n      JSON.stringify({ success: true, result }),\n      {\n        status: 200,\n        headers: { \"Content-Type\": \"application/json\", ...corsHeaders },\n      }\n    );\n  } catch (error: any) {\n    console.error(\"Error in send-status-notification function:\", error);\n    return new Response(\n      JSON.stringify({ error: error.message }),\n      {\n        status: 500,\n        headers: { \"Content-Type\": \"application/json\", ...corsHeaders },\n      }\n    );\n  }\n};\n\nserve(handler);\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\tailwind.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\Jairan Santos\\Downloads\\SITECODIGOSOBREMIDIA\\sobremidiadesigner-main\\vite.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]
